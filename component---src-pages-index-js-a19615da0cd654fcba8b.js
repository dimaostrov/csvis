webpackJsonp([35783957827783],[,,,,,,function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=n(2),l=r(c),f=n(188),h=n(1),p=n(7),d=n(12),y=s({},(0,d.getScalePropTypesByAttribute)("x"),(0,d.getScalePropTypesByAttribute)("y"),(0,d.getScalePropTypesByAttribute)("size"),(0,d.getScalePropTypesByAttribute)("opacity"),(0,d.getScalePropTypesByAttribute)("color"),{width:l.default.number,height:l.default.number,data:l.default.arrayOf(l.default.object),onValueMouseOver:l.default.func,onValueMouseOut:l.default.func,onValueClick:l.default.func,onValueRightClick:l.default.func,onSeriesMouseOver:l.default.func,onSeriesMouseOut:l.default.func,onSeriesClick:l.default.func,onSeriesRightClick:l.default.func,onNearestX:l.default.func,onNearestXY:l.default.func,style:l.default.object,animation:p.AnimationPropType,stack:l.default.bool}),v={className:"",stack:!1,style:{}},g=function(t){function e(t){i(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n._seriesMouseOverHandler=n._seriesMouseOverHandler.bind(n),n._valueMouseOverHandler=n._valueMouseOverHandler.bind(n),n._seriesMouseOutHandler=n._seriesMouseOutHandler.bind(n),n._valueMouseOutHandler=n._valueMouseOutHandler.bind(n),n._seriesClickHandler=n._seriesClickHandler.bind(n),n._valueClickHandler=n._valueClickHandler.bind(n),n._seriesRightClickHandler=n._seriesRightClickHandler.bind(n),n._valueRightClickHandler=n._valueRightClickHandler.bind(n),n}return a(e,t),u(e,null,[{key:"getParentConfig",value:function(){return{}}},{key:"requiresSVG",get:function(){return!0}}]),u(e,[{key:"_valueMouseOverHandler",value:function(t,e){var n=this.props,r=n.onValueMouseOver,i=n.onSeriesMouseOver;r&&r(t,{event:e}),i&&i({event:e})}},{key:"_seriesMouseOverHandler",value:function(t){var e=this.props.onSeriesMouseOver;e&&e({event:t})}},{key:"_valueMouseOutHandler",value:function(t,e){var n=this.props,r=n.onValueMouseOut,i=n.onSeriesMouseOut;r&&r(t,{event:e}),i&&i({event:e})}},{key:"_seriesMouseOutHandler",value:function(t){var e=this.props.onSeriesMouseOut;e&&e({event:t})}},{key:"_valueClickHandler",value:function(t,e){var n=this.props,r=n.onValueClick,i=n.onSeriesClick;r&&r(t,{event:e}),i&&i({event:e})}},{key:"_valueRightClickHandler",value:function(t,e){var n=this.props,r=n.onValueRightClick,i=n.onSeriesRightClick;r&&r(t,{event:e}),i&&i({event:e})}},{key:"_seriesClickHandler",value:function(t){var e=this.props.onSeriesClick;e&&e({event:t})}},{key:"_seriesRightClickHandler",value:function(t){var e=this.props.onSeriesRightClick;e&&e({event:t})}},{key:"_getAttributeFunctor",value:function(t){return(0,d.getAttributeFunctor)(this.props,t)}},{key:"_getAttr0Functor",value:function(t){return(0,d.getAttr0Functor)(this.props,t)}},{key:"_getAttributeValue",value:function(t){return(0,d.getAttributeValue)(this.props,t)}},{key:"_getScaleDistance",value:function(t){var e=(0,d.getScaleObjectFromProps)(this.props,t);return e?e.distance:0}},{key:"_getXYCoordinateInContainer",value:function(t){var e=this.props,n=e.marginTop,r=void 0===n?0:n,i=e.marginLeft,o=void 0===i?0:i,a=t.nativeEvent,u=a.clientX,s=a.clientY,c=t.currentTarget,l=c.getBoundingClientRect();return{x:u-l.left-c.clientLeft-o,y:s-l.top-c.clientTop-r}}},{key:"_handleNearestX",value:function(t){var e=this.props,n=e.onNearestX,r=e.data,i=Number.POSITIVE_INFINITY,o=null,a=null,u=this._getXYCoordinateInContainer(t),s=this._getAttributeFunctor("x");r.forEach(function(t,e){var n=s(t),r=Math.abs(u.x-n);r<i&&(i=r,o=t,a=e)}),o&&n(o,{innerX:s(o),index:a,event:t.nativeEvent})}},{key:"_handleNearestXY",value:function(t){var e=this.props,n=e.onNearestXY,r=e.data,i=this._getXYCoordinateInContainer(t),o=this._getAttributeFunctor("x"),a=this._getAttributeFunctor("y"),u=(0,f.voronoi)().x(o).y(a),s=u(r).find(i.x,i.y),c=s.data;c&&n(c,{innerX:s.x,innerY:s.y,index:s.index,event:t.nativeEvent})}},{key:"onParentMouseMove",value:function(t){var e=this.props,n=e.onNearestX,r=e.onNearestXY,i=e.data;(n||r)&&i&&(r?this._handleNearestXY(t):this._handleNearestX(t))}}]),e}(h.PureComponent);g.displayName="AbstractSeries",g.propTypes=y,g.defaultProps=v,e.default=g},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g.presets.noWobble;if("string"==typeof t)return g.presets[t]||g.presets.noWobble;var e=t.damping,n=t.stiffness;return f({damping:e||g.presets.noWobble.damping,stiffness:n||g.presets.noWobble.stiffness},t)}function c(t){var e=t.animatedProps,n=u(t,["animatedProps"]);return e.reduce(function(t,e){return n.hasOwnProperty(e)&&(t[e]=n[e]),t},{})}Object.defineProperty(e,"__esModule",{value:!0}),e.AnimationPropType=void 0;var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.extractAnimatedPropValues=c;var h=n(1),p=r(h),d=n(2),y=r(d),v=n(118),g=n(475),_=y.default.oneOfType([y.default.string,y.default.shape({stiffness:y.default.number,nonAnimatedProps:y.default.arrayOf(y.default.string),damping:y.default.number}),y.default.bool]),m={animatedProps:y.default.arrayOf(y.default.string).isRequired,animation:_,onStart:y.default.func,onEnd:y.default.func},b=function(t){function e(t){i(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n._updateInterpolator(t),n._renderChildren=n._renderChildren.bind(n),n._motionEndHandler=n._motionEndHandler.bind(n),n}return a(e,t),l(e,[{key:"componentWillUpdate",value:function(t){this._updateInterpolator(this.props,t),t.onStart&&t.onStart()}},{key:"_updateInterpolator",value:function(t,e){this._interpolator=(0,v.interpolate)(c(t),e?c(e):null)}},{key:"_renderChildren",value:function(t){var e=t.i,n=this.props.children,r=this._interpolator,i=p.default.Children.only(n),o=r?r(e):r,a=o&&o.data||null;return a&&i.props._data&&(a=a.map(function(t,e){var n=i.props._data[e];return f({},t,{parent:n.parent,children:n.children})})),p.default.cloneElement(i,f({},i.props,o,{data:a||i.props.data||null,_animation:Math.random()}))}},{key:"_motionEndHandler",value:function(){this.props.onEnd&&this.props.onEnd()}},{key:"render",value:function(){var t=s(this.props.animation),e={i:0},n={i:(0,g.spring)(1,t)},r=Math.random();return p.default.createElement(g.Motion,f({defaultStyle:e,style:n,key:r},{onRest:this._motionEndHandler}),this._renderChildren)}}]),e}(h.PureComponent);b.propTypes=m,b.displayName="Animation",e.default=b;e.AnimationPropType=_},,,function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=e.DISCRETE_COLOR_RANGE=["#12939A","#79C7E3","#1A3177","#FF9833","#EF5D28"];e.EXTENDED_DISCRETE_COLOR_RANGE=["#19CDD7","#DDB27C","#88572C","#FF991F","#F15C17","#223F9A","#DA70BF","#125C77","#4DC19C","#776E57","#12939A","#17B8BE","#F6D18A","#B7885E","#FFCB99","#F89570","#829AE3","#E79FD5","#1E96BE","#89DAC1","#B3AD9E"],e.CONTINUOUS_COLOR_RANGE=["#EF5D28","#FF9833"],e.SIZE_RANGE=[1,10],e.OPACITY_RANGE=[.1,1],e.OPACITY_TYPE="literal",e.DEFAULT_OPACITY=1,e.DEFAULT_SIZE=5,e.DEFAULT_COLOR=n[0],e.DEFAULT_TICK_SIZE=7},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t){var e=t.type.prototype;return e instanceof _.default}function a(t){return v.default.Children.toArray(t).filter(function(t){return t&&o(t)})}function u(t){var e={};return t.filter(o).forEach(function(t){var n=t.type.displayName,r=t.props.cluster;e[n]||(e[n]={sameTypeTotal:0,sameTypeIndex:0,clusters:new Set}),e[n].clusters.add(r),e[n].sameTypeTotal++}),e}function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return!!t&&t.some(function(t){return t.radius&&t.angle})}function c(t){return s(t)?t.map(function(t){return d({},t,{x:t.radius*Math.cos(t.angle),y:t.radius*Math.sin(t.angle)})}):t}function l(t,e){var n=t.some(function(t){return t&&t.props.stack}),r={};return t.reduce(function(t,o,a){if(!o)return t.push(null),t;var u=o.props,s=u.data,l=u.cluster,f=void 0===l?"default":l,h=u.stack,p=c(s,e);if(!e||!p||!p.length||n&&!h)return t.push(p),t;var y=e+"0",v="y"===e?"x":"y";return t.push(p.map(function(t,n){var o,a;r[f]||(r[f]={});var u=r[f][t[v]];if(!u){var s;return r[f][t[v]]=(s={},i(s,y,t[y]),i(s,e,t[e]),s),d({},t)}var c=d({},t,(o={},i(o,y,u[e]),i(o,e,u[e]+t[e]-(t[y]||0)),o));return r[f][t[v]]=(a={},i(a,y,c[y]),i(a,e,c[e]),a),c})),t},[])}function f(t){var e=[],n=u(t),r=0,i=m.DEFAULT_OPACITY;return t.forEach(function(t){var a=void 0;if(o(t)){var u=n[t.type.displayName],s=m.DISCRETE_COLOR_RANGE[r%m.DISCRETE_COLOR_RANGE.length];a=d({},u,{seriesIndex:r,ref:"series"+r,_colorValue:s,_opacityValue:i}),u.sameTypeIndex++,r++,t.props.cluster&&(a.cluster=t.props.cluster,a.clusters=Array.from(u.clusters),a.sameTypeTotal=a.clusters.length,a.sameTypeIndex=a.clusters.indexOf(t.props.cluster))}e.push(a)}),e}function h(t){return t.reduce(function(t,e){return Math.max(e.radius,t)},0)}function p(t){var e=t._stackBy,n=t.valuePosAttr,r=t.cluster,i=t.sameTypeTotal,o=void 0===i?1:i,a=t.sameTypeIndex,u=void 0===a?0:a;return e!==n||r||(o=1,u=0),{sameTypeTotal:o,sameTypeIndex:u}}Object.defineProperty(e,"__esModule",{value:!0}),e.ANIMATED_SERIES_PROPS=void 0;var d=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.isSeriesChild=o,e.getSeriesChildren=a,e.getStackedData=l,e.getSeriesPropsFromChildren=f,e.getRadialDomain=h,e.getStackParams=p;var y=n(1),v=r(y),g=n(6),_=r(g),m=n(10);e.ANIMATED_SERIES_PROPS=["xRange","xDomain","x","yRange","yDomain","y","colorRange","colorDomain","color","opacityRange","opacityDomain","opacity","strokeRange","strokeDomain","stroke","fillRange","fillDomain","fill","width","height","marginLeft","marginTop","marginRight","marginBottom","data","angleDomain","angleRange","angle","radiusDomain","radiusRange","radius","innerRadiusDomain","innerRadiusRange","innerRadius"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t){return""+t[0].toUpperCase()+t.slice(1)}function u(t,e){var n=s(e),r=0;if(n)for(var i=void 0,o=n(t[0]),a=1/0,u=void 0,c=1;c<t.length;c++)i=n(t[c]),u=Math.abs(i-o),u<a&&(a=u,r=c),o=i;return r}function s(t){if(!t)return null;var e=t.type,n=t.domain,r=t.range,i=n[0]===n[1]?0===n[0]?[-1,0]:[-n[0],n[0]]:n;if(e===Q)return I(r[0]);var o=tt[e]().domain(i).range(r);return e===Y&&o.padding(.5),o}function c(t,e,n,r){var i=void 0,o=t.reduce(function(t,r){var i=e(r),o=n(r);return S(i)&&t.push(i),S(o)&&t.push(o),t},[]);return o.length?i=r!==Y&&r!==X?(0,V.extent)(o):(0,B.set)(o).values():[]}function l(t,e,n,r,i){return n===Q?{type:Q,domain:[],range:[e],distance:0,attr:t,baseValue:void 0,isValue:!0,accessor:r}:"undefined"==typeof e?null:{type:X,range:[e],domain:[],distance:0,attr:t,baseValue:void 0,isValue:!0,accessor:r}}function f(t){var e=t.domain,n=t.range,r=t.type,i=t.distance,o=t.attr,a=t.baseValue,u=t.accessor,s=t.accessor0;return{domain:e,range:n,type:r,distance:i,attr:o,baseValue:a,isValue:!1,accessor:u,accessor0:s}}function h(t,e){var n=t[e],r=t["_"+e+"Value"],i=t[e+"Range"],o=t[e+"Distance"],u=void 0===o?0:o,s=t[e+"BaseValue"],c=t[e+"Type"],h=void 0===c?K:c,p=t[e+"NoFallBack"],d=t["get"+a(e)],y=void 0===d?function(t){return t[e]}:d,v=t["get"+a(e)+"0"],g=void 0===v?function(t){return t[e+"0"]}:v,_=t[e+"Domain"];return p||"undefined"==typeof n?("undefined"!=typeof s&&(_=(0,G.addValueToArray)(_,s)),i&&_&&_.length?f({domain:_,range:i,type:h,distance:u,attr:e,baseValue:s,accessor:y,accessor0:g}):l(e,r,t[e+"Type"],y,g)):l(e,n,t[e+"Type"],y,g)}function p(t){return t.length>1?(t[1]-t[0])/2:1===t.length?t[0]-.5:0}function d(t){return t.length>1?(t[t.length-1]-t[t.length-2])/2:1===t.length?t[0]-.5:0}function y(t,e,n,r){if(t.length>1){var i=Math.max(n,1);return Math.abs(r(t[i])-r(t[i-1]))}return 1===t.length?Math.abs(r(e[1])-r(e[0])):0}function v(t,e,n,r){if(r===J&&1===e.length){var o=n(t[0]);return[o].concat(i(e))}return e}function g(t,e){var n=e.domain,r=e.type,i=e.accessor,o=e.accessor0,a=(0,G.getUniquePropertyValues)(t,i),c=v(t,a,o,r),l=u(c,e),f=[].concat(n);f[0]-=p(c),f[n.length-1]+=d(c),r===$&&n[0]<=0&&(f[0]=Math.min(n[1]/10,1));var h=s(F({},e,{domain:f})),g=y(c,f,l,h);return{domain0:f[0],domainN:f[f.length-1],distance:g}}function _(t,e){var n=e.attr,r=t._adjustBy,i=void 0===r?[]:r,o=t._adjustWhat,a=void 0===o?[]:o;return a.length&&i.length&&i.indexOf(n)!==-1}function m(t,e){var n=t._allData,r=t._adjustWhat,o=void 0===r?[]:r,a=e.domain.length,u=e.domain,s=u[0],c=u[a-1],l=e.distance;return n.forEach(function(t,n){if(o.indexOf(n)!==-1&&t&&t.length){var r=g(t,e),i=r.domain0,a=r.domainN,u=r.distance;s=Math.min(s,i),c=Math.max(c,a),l=Math.max(l,u)}}),e.domain=[s].concat(i(u.slice(1,-1)),[c]),e.distance=l,e}function b(t){var e=s(t),n=t.domain,r=t.range;return n.length>1?t.distance=Math.abs(e(n[1])-e(n[0])):t.distance=Math.abs(r[1]-r[0]),t}function w(t,e){var n=h(t,e);if(!n)return null;if(!_(t,n))return n;var r=n.type;return r===Y||r===X?b(n):m(t,n)}function E(t,e){var n=w(t,e);return s(n)}function T(t,e){return e(t.data?t.data:t)}function S(t){return"undefined"!=typeof t}function O(t,e){if(!t)return t;if(isNaN(parseFloat(t[0]))||isNaN(parseFloat(t[1])))return t;var n=j(t,2),r=n[0],i=n[1],o=(i-r)*(.01*e);return[r-o,i+o]}function C(t,e){var n=w(t,e);if(n){var r=s(n);return function(t){return r(T(t,n.accessor))}}return null}function k(t,e){var n=w(t,e);if(n){var r=e+"0",i=n.domain,o=n.baseValue,a=void 0===o?i[0]:o,u=s(n);return function(t){var e=T(t,function(t){return t[r]});return u(S(e)?e:a)}}return null}function x(t,e){var n=w(t,e);return n?(n.isValue||void 0!==t["_"+e+"Value"]||(0,z.warning)("[React-vis] Cannot use data defined "+e+" for this series type. Using fallback value instead."),t["_"+e+"Value"]||n.range[0]):null}function P(t){var e;return e={},o(e,"_"+t+"Value",H.default.any),o(e,t+"Domain",H.default.array),o(e,"get"+a(t),H.default.func),o(e,"get"+a(t)+"0",H.default.func),o(e,t+"Range",H.default.array),o(e,t+"Type",H.default.oneOf(Object.keys(tt))),o(e,t+"Distance",H.default.number),o(e,t+"BaseValue",H.default.any),e}function N(t,e){var n={};return Object.keys(t).forEach(function(r){var i=e.find(function(t){var e=0===r.indexOf(t),n=0===r.indexOf("_"+t),i=0===r.indexOf("get"+a(t));return e||n||i});i&&(n[r]=t[r])}),n}function A(t,e,n){var r={};return n.forEach(function(n){t["get"+a(n)]||(r["get"+a(n)]=function(t){return t[n]}),t["get"+a(n)+"0"]||(r["get"+a(n)+"0"]=function(t){return t[n+"0"]}),t[n+"Domain"]||(r[n+"Domain"]=c(e,t["get"+a(n)]||r["get"+a(n)],t["get"+a(n)+"0"]||r["get"+a(n)+"0"],t[n+"Type"]),t[n+"Padding"]&&(r[n+"Domain"]=O(r[n+"Domain"],t[n+"Padding"])))}),r}function I(t){function e(e){return void 0===e?t:e}function n(){return e}return e.domain=n,e.range=n,e.unknown=n,e.copy=n,e}function R(t){return t?(0,W.hsl)(t).l>.57?"#222":"#fff":null}function M(t,e){var n=et.reduce(function(e,n){var r=t[n+"Domain"],i=t[n+"Range"],a=t[n+"Type"];return r&&i&&a?F({},e,o({},n,tt[a]().domain(r).range(i))):e},{});return e.map(function(t){return et.reduce(function(e,r){if(t.props&&void 0!==t.props[r]){var i=t.props[r],a=n[r],u=a?a(i):i;return F({},e,o({},"_"+r+"Value",u))}return e},{})})}function D(t){return Object.keys(t).reduce(function(e,n){var r=rt.every(function(t){return!n.match(t)});return r?e:(e[n]=t[n],e)},{})}Object.defineProperty(e,"__esModule",{value:!0});var L,j=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),F=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e._getSmallestDistanceIndex=u,e.getScaleFnFromScaleObject=s,e.getDomainByAccessor=c,e._getScaleDistanceAndAdjustedDomain=g,e._adjustCategoricalScale=b,e.getScaleObjectFromProps=w,e.getAttributeScale=E,e.getAttributeFunctor=C,e.getAttr0Functor=k,e.getAttributeValue=x,e.getScalePropTypesByAttribute=P,e.extractScalePropsFromProps=N,e.getMissingScaleProps=A,e.literalScale=I,e.getFontColorFromBackground=R,e.getXYPlotValues=M,e.getOptionalScaleProps=D;var U=n(46),V=n(45),B=n(117),W=n(30),q=n(2),H=r(q),z=n(66),G=n(539),K="linear",Y="ordinal",X="category",Q="literal",$="log",J="time",Z="time-utc",tt=(L={},o(L,K,U.scaleLinear),o(L,Y,U.scalePoint),o(L,X,U.scaleOrdinal),o(L,Q,I),o(L,$,U.scaleLog),o(L,J,U.scaleTime),o(L,Z,U.scaleUtc),L),et=["color","fill","opacity","stroke"],nt=["Padding"],rt=nt.map(function(t){return new RegExp(t+"$","i")});e.default={extractScalePropsFromProps:N,getAttributeScale:E,getAttributeFunctor:C,getAttr0Functor:k,getAttributeValue:x,getDomainByAccessor:c,getFontColorFromBackground:R,getMissingScaleProps:A,getOptionalScaleProps:D,getScaleObjectFromProps:w,getScalePropTypesByAttribute:P,getXYPlotValues:M,literalScale:I}},,,,,,function(t,e,n){"use strict";function r(t){return t<700?t>300?10:5:20}function i(t,e,n){return n?n:t.ticks?t.ticks(e):t.domain()}function o(t,e){if(t.x===e.x)return{left:t.y,right:e.y,slope:0,offset:t.x};var n=(t.y-e.y)/(t.x-e.x);return{left:t.x,right:e.x,slope:n,offset:t.y-n*t.x}}function a(t){var e=t.axisStart,n=t.axisEnd,r=t.numberOfTicks,i=t.axisDomain,a=o(e,n),u=a.left,l=a.right,f=a.slope,h=a.offset,p=(l-u)/r,d=(0,c.scaleLinear)().domain([u,l]).range(i),y=e.x===n.x;return{slope:y?1/0:f,points:(0,s.range)(u,l+p,p).map(function(t){return y?{y:t,x:f*t+h,text:d(t)}:{x:t,y:f*t+h,text:d(t)}})}}function u(t,e){return t.x===e.x?e.y>t.y?Math.PI/2:3*Math.PI/2:Math.atan((e.y-t.y)/(e.x-t.x))}Object.defineProperty(e,"__esModule",{value:!0}),e.DIRECTION=e.ORIENTATION=void 0,e.getTicksTotalFromSize=r,e.getTickValues=i,e.generateFit=o,e.generatePoints=a,e.getAxisAngle=u;var s=n(45),c=n(46),l=e.ORIENTATION={TOP:"top",LEFT:"left",RIGHT:"right",BOTTOM:"bottom",VERTICAL:"vertical",HORIZONTAL:"horizontal"},f=e.DIRECTION={VERTICAL:"vertical",HORIZONTAL:"horizontal"};e.default={DIRECTION:f,ORIENTATION:l,getTicksTotalFromSize:r,getTickValues:i}},,,,,,,,,function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function c(t){return t.map(function(t){return Array.isArray(t)?t.map(function(t){return h({},t,{parent:null})}):t})}function l(t,e,n){var r=h({},t,{_allData:n?c(t._allData):t._allData}),i=h({},e,{_allData:n?c(e._allData):e._allData});return(0,_.default)(r,i)}Object.defineProperty(e,"__esModule",{value:!0});var f=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),h=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},p=n(1),d=r(p),y=n(2),v=r(y),g=n(119),_=r(g),m=n(12),b=n(11),w=n(34),E=n(7),T=n(10),S=n(516),O=r(S),C=["x","y","radius","angle","color","fill","stroke","opacity","size"],k={left:40,right:10,top:10,bottom:40},x=function(t){function e(t){a(this,e);var n=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));n._clickHandler=n._clickHandler.bind(n),n._doubleClickHandler=n._doubleClickHandler.bind(n),n._mouseDownHandler=n._mouseDownHandler.bind(n),n._mouseLeaveHandler=n._mouseLeaveHandler.bind(n),n._mouseEnterHandler=n._mouseEnterHandler.bind(n),n._mouseMoveHandler=n._mouseMoveHandler.bind(n),n._wheelHandler=n._wheelHandler.bind(n);var r=t.stackBy,i=(0,b.getSeriesChildren)(t.children),o=(0,b.getStackedData)(i,r);return n.state={scaleMixins:n._getScaleMixins(o,t),data:o},n}return s(e,t),f(e,null,[{key:"propTypes",get:function(){return{animation:E.AnimationPropType,className:v.default.string,dontCheckIfEmpty:v.default.bool,height:v.default.number.isRequired,margin:w.MarginPropType,onClick:v.default.func,onDoubleClick:v.default.func,onMouseDown:v.default.func,onMouseEnter:v.default.func,onMouseLeave:v.default.func,onMouseMove:v.default.func,onWheel:v.default.func,stackBy:v.default.oneOf(C),style:v.default.object,width:v.default.number.isRequired}}},{key:"defaultProps",get:function(){return{className:""}}}]),f(e,[{key:"componentWillReceiveProps",value:function(t){var e=(0,b.getSeriesChildren)(t.children),n=(0,b.getStackedData)(e,t.stackBy),r=this.state.scaleMixins,i=this._getScaleMixins(n,t);l(i,r,t.hasTreeStructure)||this.setState({scaleMixins:i,data:n})}},{key:"_clickHandler",value:function(t){var e=this.props.onClick;e&&e(t)}},{key:"_doubleClickHandler",value:function(t){var e=this.props.onDoubleClick;e&&e(t)}},{key:"_mouseDownHandler",value:function(t){var e=this,n=this.props,r=n.onMouseDown,i=n.children;r&&r(t);var o=(0,b.getSeriesChildren)(i);o.forEach(function(n,r){var i=e.refs["series"+r];i&&i.onParentMouseDown&&i.onParentMouseDown(t)})}},{key:"_mouseMoveHandler",value:function(t){var e=this,n=this.props,r=n.onMouseMove,i=n.children;r&&r(t);var o=(0,b.getSeriesChildren)(i);o.forEach(function(n,r){var i=e.refs["series"+r];i&&i.onParentMouseMove&&i.onParentMouseMove(t)})}},{key:"_mouseLeaveHandler",value:function(t){var e=this.props.onMouseLeave;e&&e({event:t})}},{key:"_mouseEnterHandler",value:function(t){var e=this.props.onMouseEnter;e&&e({event:t})}},{key:"_wheelHandler",value:function(t){var e=this.props.onWheel;e&&e(t)}},{key:"_getDefaultScaleProps",value:function(t){var e=(0,w.getInnerDimensions)(t,k),n=e.innerWidth,r=e.innerHeight,i=["color","fill","stroke"].reduce(function(e,n){var r="category"===t[n+"Type"]?T.EXTENDED_DISCRETE_COLOR_RANGE:T.CONTINUOUS_COLOR_RANGE;return h({},e,o({},n+"Range",r))},{});return h({xRange:[0,n],yRange:[r,0]},i,{opacityType:T.OPACITY_TYPE,sizeRange:T.SIZE_RANGE})}},{key:"_getScaleMixins",value:function(t,e){var n,r=t.filter(function(t){return t}),o=(n=[]).concat.apply(n,i(r)),a=this._getDefaultScaleProps(e),u=(0,m.getOptionalScaleProps)(e),s=(0,m.extractScalePropsFromProps)(e,C),c=(0,m.getMissingScaleProps)(h({},a,u,s),o,C),l=(0,b.getSeriesChildren)(e.children),f={},p=new Set,d=new Set;return l.forEach(function(n,r){n&&t[r]&&C.forEach(function(t){var i=n.type.getParentConfig(t,n.props),o=i.isDomainAdjustmentNeeded,a=i.zeroBaseValue;if(o&&(p.add(t),d.add(r)),a){var u=e[t+"Domain"];f[t+"BaseValue"]=u?u[0]:0}})}),h({},a,f,s,c,{_allData:t,_adjustBy:Array.from(p),_adjustWhat:Array.from(d),_stackBy:e.stackBy})}},{key:"_isPlotEmpty",value:function(){var t=this.state.data;return!t||!t.length||!t.some(function(t){return t&&t.some(function(t){return t})})}},{key:"_getClonedChildComponents",value:function(){var t=this.props,e=this.props.animation,n=this.state,r=n.scaleMixins,i=n.data,o=(0,w.getInnerDimensions)(this.props,k),a=d.default.Children.toArray(this.props.children),u=(0,b.getSeriesPropsFromChildren)(a),s=(0,m.getXYPlotValues)(t,a);return a.map(function(t,n){var a=null;if(u[n]){var c=u[n].seriesIndex;a={data:i[c]}}return d.default.cloneElement(t,h({},o,{animation:e},u[n],r,t.props,s[n],a))})}},{key:"renderCanvasComponents",value:function(t,e){var n=t.filter(function(t){return t&&!t.type.requiresSVG&&t.type.isCanvas});if(0===n.length)return null;var r=n[0].props,i=r.marginLeft,o=r.marginTop,a=r.marginBottom,u=r.marginRight,s=r.innerHeight,c=r.innerWidth;return d.default.createElement(O.default,{innerHeight:s,innerWidth:c,marginLeft:i,marginTop:o,marginBottom:a,marginRight:u},n)}},{key:"render",value:function(){var t=this.props,e=t.className,n=t.dontCheckIfEmpty,r=t.style,i=t.width,o=t.height;if(!n&&this._isPlotEmpty())return d.default.createElement("div",{className:"rv-xy-plot "+e,style:h({width:i+"px",height:o+"px"},this.props.style)});var a=this._getClonedChildComponents();return d.default.createElement("div",{style:{width:i+"px",height:o+"px"},className:"rv-xy-plot "+e},d.default.createElement("svg",{className:"rv-xy-plot__inner",width:i,height:o,style:r,onClick:this._clickHandler,onDoubleClick:this._doubleClickHandler,onMouseDown:this._mouseDownHandler,onMouseMove:this._mouseMoveHandler,onMouseLeave:this._mouseLeaveHandler,onMouseEnter:this._mouseEnterHandler,onWheel:this._wheelHandler},a.filter(function(t){return t&&t.type.requiresSVG})),this.renderCanvasComponents(a,this.props),a.filter(function(t){return t&&!t.type.requiresSVG&&!t.type.isCanvas}))}}]),e}(d.default.Component);x.displayName="XYPlot",e.default=x},,,function(t,e,n){!function(t,n){n(e)}(this,function(t){"use strict";function e(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function n(){}function r(t){var e;return t=(t+"").trim().toLowerCase(),(e=D.exec(t))?(e=parseInt(e[1],16),new s(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1)):(e=L.exec(t))?i(parseInt(e[1],16)):(e=j.exec(t))?new s(e[1],e[2],e[3],1):(e=F.exec(t))?new s(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=U.exec(t))?o(e[1],e[2],e[3],e[4]):(e=V.exec(t))?o(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=B.exec(t))?c(e[1],e[2]/100,e[3]/100,1):(e=W.exec(t))?c(e[1],e[2]/100,e[3]/100,e[4]):q.hasOwnProperty(t)?i(q[t]):"transparent"===t?new s(NaN,NaN,NaN,0):null}function i(t){return new s(t>>16&255,t>>8&255,255&t,1)}function o(t,e,n,r){return r<=0&&(t=e=n=NaN),new s(t,e,n,r)}function a(t){return t instanceof n||(t=r(t)),t?(t=t.rgb(),new s(t.r,t.g,t.b,t.opacity)):new s}function u(t,e,n,r){return 1===arguments.length?a(t):new s(t,e,n,null==r?1:r)}function s(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function c(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new h(t,e,n,r)}function l(t){if(t instanceof h)return new h(t.h,t.s,t.l,t.opacity);if(t instanceof n||(t=r(t)),!t)return new h;if(t instanceof h)return t;t=t.rgb();var e=t.r/255,i=t.g/255,o=t.b/255,a=Math.min(e,i,o),u=Math.max(e,i,o),s=NaN,c=u-a,l=(u+a)/2;return c?(s=e===u?(i-o)/c+6*(i<o):i===u?(o-e)/c+2:(e-i)/c+4,c/=l<.5?u+a:2-u-a,s*=60):c=l>0&&l<1?0:s,new h(s,c,l,t.opacity)}function f(t,e,n,r){return 1===arguments.length?l(t):new h(t,e,n,null==r?1:r)}function h(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function p(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function d(t){if(t instanceof g)return new g(t.l,t.a,t.b,t.opacity);if(t instanceof O){if(isNaN(t.h))return new g(t.l,0,0,t.opacity);var e=t.h*H;return new g(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof s||(t=a(t));var n,r,i=w(t.r),o=w(t.g),u=w(t.b),c=_((.2225045*i+.7168786*o+.0606169*u)/Y);return i===o&&o===u?n=r=c:(n=_((.4360747*i+.3850649*o+.1430804*u)/K),r=_((.0139322*i+.0971045*o+.7141733*u)/X)),new g(116*c-16,500*(n-c),200*(c-r),t.opacity)}function y(t,e){return new g(t,0,0,null==e?1:e)}function v(t,e,n,r){return 1===arguments.length?d(t):new g(t,e,n,null==r?1:r)}function g(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function _(t){return t>Z?Math.pow(t,1/3):t/J+Q}function m(t){return t>$?t*t*t:J*(t-Q)}function b(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function w(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function E(t){if(t instanceof O)return new O(t.h,t.c,t.l,t.opacity);if(t instanceof g||(t=d(t)),0===t.a&&0===t.b)return new O(NaN,0,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*z;return new O(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function T(t,e,n,r){return 1===arguments.length?E(t):new O(n,e,t,null==r?1:r)}function S(t,e,n,r){return 1===arguments.length?E(t):new O(t,e,n,null==r?1:r)}function O(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function C(t){if(t instanceof x)return new x(t.h,t.s,t.l,t.opacity);t instanceof s||(t=a(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(ut*r+ot*e-at*n)/(ut+ot-at),o=r-i,u=(it*(n-i)-nt*o)/rt,c=Math.sqrt(u*u+o*o)/(it*i*(1-i)),l=c?Math.atan2(u,o)*z-120:NaN;return new x(l<0?l+360:l,c,i,t.opacity)}function k(t,e,n,r){return 1===arguments.length?C(t):new x(t,e,n,null==r?1:r)}function x(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}var P=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t},N=.7,A=1/N,I="\\s*([+-]?\\d+)\\s*",R="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",M="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",D=/^#([0-9a-f]{3})$/,L=/^#([0-9a-f]{6})$/,j=new RegExp("^rgb\\("+[I,I,I]+"\\)$"),F=new RegExp("^rgb\\("+[M,M,M]+"\\)$"),U=new RegExp("^rgba\\("+[I,I,I,R]+"\\)$"),V=new RegExp("^rgba\\("+[M,M,M,R]+"\\)$"),B=new RegExp("^hsl\\("+[R,M,M]+"\\)$"),W=new RegExp("^hsla\\("+[R,M,M,R]+"\\)$"),q={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,
cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};P(n,r,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),P(s,u,e(n,{brighter:function(t){return t=null==t?A:Math.pow(A,t),new s(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?N:Math.pow(N,t),new s(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),P(h,f,e(n,{brighter:function(t){return t=null==t?A:Math.pow(A,t),new h(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?N:Math.pow(N,t),new h(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new s(p(t>=240?t-240:t+120,i,r),p(t,i,r),p(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var H=Math.PI/180,z=180/Math.PI,G=18,K=.96422,Y=1,X=.82521,Q=4/29,$=6/29,J=3*$*$,Z=$*$*$;P(g,v,e(n,{brighter:function(t){return new g(this.l+G*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new g(this.l-G*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=K*m(e),t=Y*m(t),n=X*m(n),new s(b(3.1338561*e-1.6168667*t-.4906146*n),b(-.9787684*e+1.9161415*t+.033454*n),b(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),P(O,S,e(n,{brighter:function(t){return new O(this.h,this.c,this.l+G*(null==t?1:t),this.opacity)},darker:function(t){return new O(this.h,this.c,this.l-G*(null==t?1:t),this.opacity)},rgb:function(){return d(this).rgb()}}));var tt=-.14861,et=1.78277,nt=-.29227,rt=-.90649,it=1.97294,ot=it*rt,at=it*et,ut=et*nt-rt*tt;P(x,k,e(n,{brighter:function(t){return t=null==t?A:Math.pow(A,t),new x(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?N:Math.pow(N,t),new x(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*H,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new s(255*(e+n*(tt*r+et*i)),255*(e+n*(nt*r+rt*i)),255*(e+n*(it*r)),this.opacity)}})),t.color=r,t.rgb=u,t.hsl=f,t.lab=v,t.hcl=S,t.lch=T,t.gray=y,t.cubehelix=k,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(t){if(l===setTimeout)return setTimeout(t,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function o(t){if(f===clearTimeout)return clearTimeout(t);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(t);try{return f(t)}catch(e){try{return f.call(null,t)}catch(e){return f.call(this,t)}}}function a(){y&&p&&(y=!1,p.length?d=p.concat(d):v=-1,d.length&&u())}function u(){if(!y){var t=i(a);y=!0;for(var e=d.length;e;){for(p=d,d=[];++v<e;)p&&p[v].run();v=-1,e=d.length}p=null,y=!1,o(t)}}function s(t,e){this.fun=t,this.array=e}function c(){}var l,f,h=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(t){l=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(t){f=r}}();var p,d=[],y=!1,v=-1;h.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new s(t,e)),1!==d.length||y||i(u)},s.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=c,h.addListener=c,h.once=c,h.off=c,h.removeListener=c,h.removeAllListeners=c,h.emit=c,h.prependListener=c,h.prependOnceListener=c,h.listeners=function(t){return[]},h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},,function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(1),l=r(c),f=n(2),h=r(f),p=n(6),d=r(p),y=n(7),v=r(y),g=n(11),_="rv-xy-plot__series rv-xy-plot__series--label",m=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),s(e,[{key:"render",value:function(){var t=this,n=this.props,r=n.animation,i=n.allowOffsetToBeReversed,o=n.className,a=n.data,s=n._data,c=n.getLabel,f=n.marginLeft,h=n.marginTop,p=n.rotation,d=n.style,y=n.xRange,m=n.yRange;if(!a)return null;if(r)return l.default.createElement(v.default,u({},this.props,{animatedProps:g.ANIMATED_SERIES_PROPS}),l.default.createElement(e,u({},this.props,{animation:null,_data:a})));var b=this._getAttributeFunctor("x"),w=this._getAttributeFunctor("y");return l.default.createElement("g",{className:_+" "+o,ref:"container",transform:"translate("+f+","+h+")",style:d},a.reduce(function(e,n,r){var o=n.style,a=n.xOffset,f=n.yOffset;if(!c(n))return e;var h=b(n),d=w(n),v=h<(y[1]-y[0])/2,g=d<Math.abs(m[1]-m[0])/2,_=h+(i&&v?-1:1)*(a||0),E=d+(i&&g?-1:1)*(f||0),T=u({alignmentBaseline:g?"text-before-edge":"text-after-edge",className:"rv-xy-plot__series--label-text",key:r,onClick:function(e){return t._valueClickHandler(n,e)},onContextMenu:function(e){return t._valueRightClickHandler(n,e)},onMouseOver:function(e){return t._valueMouseOverHandler(n,e)},onMouseOut:function(e){return t._valueMouseOutHandler(n,e)},textAnchor:v?"start":"end",x:_,y:E,transform:"rotate("+(n.rotation||p)+","+_+","+E+")"},o),S=c(s?s[r]:n);return e.concat([l.default.createElement("text",T,S)])},[]))}}]),e}(d.default);m.propTypes={animation:h.default.bool,allowOffsetToBeReversed:h.default.bool,className:h.default.string,data:h.default.arrayOf(h.default.shape({x:h.default.oneOfType([h.default.number,h.default.string]),y:h.default.oneOfType([h.default.number,h.default.string]),angle:h.default.number,radius:h.default.number,label:h.default.string,xOffset:h.default.number,yOffset:h.default.number,style:h.default.object})).isRequired,marginLeft:h.default.number,marginTop:h.default.number,rotation:h.default.number,style:h.default.object,xRange:h.default.arrayOf(h.default.number),yRange:h.default.arrayOf(h.default.number)},m.defaultProps=u({},d.default.defaultProps,{animation:!1,rotation:0,getLabel:function(t){return t.label}}),m.displayName="LabelSeries",e.default=m},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){var n=t.margin,r=t.width,i=t.height,o=a({},e,"number"==typeof n?{left:n,right:n,top:n,bottom:n}:n),u=o.left,s=void 0===u?0:u,c=o.top,l=void 0===c?0:c,f=o.right,h=void 0===f?0:f,p=o.bottom,d=void 0===p?0:p;return{marginLeft:s,marginTop:l,marginRight:h,marginBottom:d,innerHeight:i-d-l,innerWidth:r-s-h}}function o(t,e,n){var r=t/2-n,i=e/2-n;return{bottom:i,left:r,right:r,top:i}}Object.defineProperty(e,"__esModule",{value:!0}),e.MarginPropType=void 0;var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.getInnerDimensions=i,e.getRadialLayoutMargin=o;var u=n(2),s=r(u);e.MarginPropType=s.default.oneOfType([s.default.shape({left:s.default.number,top:s.default.number,right:s.default.number,bottom:s.default.number}),s.default.number])},,,,,,,,,,,function(t,e,n){!function(t,n){n(e)}(this,function(t){"use strict";function e(t){return function(e,n){return a(t(e),n)}}function n(t,e){return[t,e]}function r(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=S?10:o>=O?5:o>=C?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=S?10:o>=O?5:o>=C?2:1)}function i(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=S?i*=10:o>=O?i*=5:o>=C&&(i*=2),e<t?-i:i}function o(t){return t.length}var a=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},u=function(t){return 1===t.length&&(t=e(t)),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}},s=u(a),c=s.right,l=s.left,f=function(t,e){null==e&&(e=n);for(var r=0,i=t.length-1,o=t[0],a=new Array(i<0?0:i);r<i;)a[r]=e(o,o=t[++r]);return a},h=function(t,e,r){var i,o,a,u,s=t.length,c=e.length,l=new Array(s*c);for(null==r&&(r=n),i=a=0;i<s;++i)for(u=t[i],o=0;o<c;++o,++a)l[a]=r(u,e[o]);return l},p=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},d=function(t){return null===t?NaN:+t},y=function(t,e){var n,r,i=t.length,o=0,a=-1,u=0,s=0;if(null==e)for(;++a<i;)isNaN(n=d(t[a]))||(r=n-u,u+=r/++o,s+=r*(n-u));else for(;++a<i;)isNaN(n=d(e(t[a],a,t)))||(r=n-u,u+=r/++o,s+=r*(n-u));if(o>1)return s/(o-1)},v=function(t,e){var n=y(t,e);return n?Math.sqrt(n):n},g=function(t,e){var n,r,i,o=t.length,a=-1;if(null==e){for(;++a<o;)if(null!=(n=t[a])&&n>=n)for(r=i=n;++a<o;)null!=(n=t[a])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++a<o;)if(null!=(n=e(t[a],a,t))&&n>=n)for(r=i=n;++a<o;)null!=(n=e(t[a],a,t))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]},_=Array.prototype,m=_.slice,b=_.map,w=function(t){return function(){return t}},E=function(t){return t},T=function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o},S=Math.sqrt(50),O=Math.sqrt(10),C=Math.sqrt(2),k=function(t,e,n){var i,o,a,u,s=-1;if(e=+e,t=+t,n=+n,t===e&&n>0)return[t];if((i=e<t)&&(o=t,t=e,e=o),0===(u=r(t,e,n))||!isFinite(u))return[];if(u>0)for(t=Math.ceil(t/u),e=Math.floor(e/u),a=new Array(o=Math.ceil(e-t+1));++s<o;)a[s]=(t+s)*u;else for(t=Math.floor(t*u),e=Math.ceil(e*u),a=new Array(o=Math.ceil(t-e+1));++s<o;)a[s]=(t-s)/u;return i&&a.reverse(),a},x=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1},P=function(){function t(t){var o,a,u=t.length,s=new Array(u);for(o=0;o<u;++o)s[o]=e(t[o],o,t);var l=n(s),f=l[0],h=l[1],p=r(s,f,h);Array.isArray(p)||(p=i(f,h,p),p=T(Math.ceil(f/p)*p,Math.floor(h/p)*p,p));for(var d=p.length;p[0]<=f;)p.shift(),--d;for(;p[d-1]>h;)p.pop(),--d;var y,v=new Array(d+1);for(o=0;o<=d;++o)y=v[o]=[],y.x0=o>0?p[o-1]:f,y.x1=o<d?p[o]:h;for(o=0;o<u;++o)a=s[o],f<=a&&a<=h&&v[c(p,a,0,d)].push(t[o]);return v}var e=E,n=g,r=x;return t.value=function(n){return arguments.length?(e="function"==typeof n?n:w(n),t):e},t.domain=function(e){return arguments.length?(n="function"==typeof e?e:w([e[0],e[1]]),t):n},t.thresholds=function(e){return arguments.length?(r="function"==typeof e?e:w(Array.isArray(e)?m.call(e):e),t):r},t},N=function(t,e,n){if(null==n&&(n=d),r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),u=+n(t[o+1],o+1,t);return a+(u-a)*(i-o)}},A=function(t,e,n){return t=b.call(t,d).sort(a),Math.ceil((n-e)/(2*(N(t,.75)-N(t,.25))*Math.pow(t.length,-1/3)))},I=function(t,e,n){return Math.ceil((n-e)/(3.5*v(t)*Math.pow(t.length,-1/3)))},R=function(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n>=n)for(r=n;++o<i;)null!=(n=t[o])&&n>r&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&n>r&&(r=n);return r},M=function(t,e){var n,r=t.length,i=r,o=-1,a=0;if(null==e)for(;++o<r;)isNaN(n=d(t[o]))?--i:a+=n;else for(;++o<r;)isNaN(n=d(e(t[o],o,t)))?--i:a+=n;if(i)return a/i},D=function(t,e){var n,r=t.length,i=-1,o=[];if(null==e)for(;++i<r;)isNaN(n=d(t[i]))||o.push(n);else for(;++i<r;)isNaN(n=d(e(t[i],i,t)))||o.push(n);return N(o.sort(a),.5)},L=function(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(n=new Array(a);--i>=0;)for(r=t[i],e=r.length;--e>=0;)n[--a]=r[e];return n},j=function(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n>=n)for(r=n;++o<i;)null!=(n=t[o])&&r>n&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&r>n&&(r=n);return r},F=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},U=function(t,e){if(n=t.length){var n,r,i=0,o=0,u=t[o];for(null==e&&(e=a);++i<n;)(e(r=t[i],u)<0||0!==e(u,u))&&(u=r,o=i);return 0===e(u,u)?o:void 0}},V=function(t,e,n){for(var r,i,o=(null==n?t.length:n)-(e=null==e?0:+e);o;)i=Math.random()*o--|0,r=t[o+e],t[o+e]=t[i+e],t[i+e]=r;return t},B=function(t,e){var n,r=t.length,i=-1,o=0;if(null==e)for(;++i<r;)(n=+t[i])&&(o+=n);else for(;++i<r;)(n=+e(t[i],i,t))&&(o+=n);return o},W=function(t){if(!(i=t.length))return[];for(var e=-1,n=j(t,o),r=new Array(n);++e<n;)for(var i,a=-1,u=r[e]=new Array(i);++a<i;)u[a]=t[a][e];return r},q=function(){return W(arguments)};t.bisect=c,t.bisectRight=c,t.bisectLeft=l,t.ascending=a,t.bisector=u,t.cross=h,t.descending=p,t.deviation=v,t.extent=g,t.histogram=P,t.thresholdFreedmanDiaconis=A,t.thresholdScott=I,t.thresholdSturges=x,t.max=R,t.mean=M,t.median=D,t.merge=L,t.min=j,t.pairs=f,t.permute=F,t.quantile=N,t.range=T,t.scan=U,t.shuffle=V,t.sum=B,t.ticks=k,t.tickIncrement=r,t.tickStep=i,t.transpose=W,t.variance=y,t.zip=q,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e,n){!function(t,r){r(e,n(45),n(117),n(118),n(78),n(187),n(348),n(30))}(this,function(t,e,n,r,i,o,a,u){"use strict";function s(t){function e(e){var n=e+"",a=r.get(n);if(!a){if(o!==q)return o;r.set(n,a=i.push(e))}return t[(a-1)%t.length]}var r=n.map(),i=[],o=q;return t=null==t?[]:W.call(t),e.domain=function(t){if(!arguments.length)return i.slice();i=[],r=n.map();for(var o,a,u=-1,s=t.length;++u<s;)r.has(a=(o=t[u])+"")||r.set(a,i.push(o));return e},e.range=function(n){return arguments.length?(t=W.call(n),e):t.slice()},e.unknown=function(t){return arguments.length?(o=t,e):o},e.copy=function(){return s().domain(i).range(t).unknown(o)},e}function c(){function t(){var t=o().length,i=u[1]<u[0],s=u[i-0],c=u[1-i];n=(c-s)/Math.max(1,t-f+2*h),l&&(n=Math.floor(n)),s+=(c-s-n*(t-f))*p,r=n*(1-f),l&&(s=Math.round(s),r=Math.round(r));var d=e.range(t).map(function(t){return s+n*t});return a(i?d.reverse():d)}var n,r,i=s().unknown(void 0),o=i.domain,a=i.range,u=[0,1],l=!1,f=0,h=0,p=.5;return delete i.unknown,i.domain=function(e){return arguments.length?(o(e),t()):o()},i.range=function(e){return arguments.length?(u=[+e[0],+e[1]],t()):u.slice()},i.rangeRound=function(e){return u=[+e[0],+e[1]],l=!0,t()},i.bandwidth=function(){return r},i.step=function(){return n},i.round=function(e){return arguments.length?(l=!!e,t()):l},i.padding=function(e){return arguments.length?(f=h=Math.max(0,Math.min(1,e)),t()):f},i.paddingInner=function(e){return arguments.length?(f=Math.max(0,Math.min(1,e)),t()):f},i.paddingOuter=function(e){return arguments.length?(h=Math.max(0,Math.min(1,e)),t()):h},i.align=function(e){return arguments.length?(p=Math.max(0,Math.min(1,e)),t()):p},i.copy=function(){return c().domain(o()).range(u).round(l).paddingInner(f).paddingOuter(h).align(p)},t()}function l(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return l(e())},t}function f(){return l(c().paddingInner(1))}function h(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:H(e)}function p(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=e?0:t>=n?1:r(t)}}}function d(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=0?e:t>=1?n:r(t)}}}function y(t,e,n,r){var i=t[0],o=t[1],a=e[0],u=e[1];return o<i?(i=n(o,i),a=r(u,a)):(i=n(i,o),a=r(a,u)),function(t){return a(i(t))}}function v(t,n,r,i){var o=Math.min(t.length,n.length)-1,a=new Array(o),u=new Array(o),s=-1;for(t[o]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++s<o;)a[s]=r(t[s],t[s+1]),u[s]=i(n[s],n[s+1]);return function(n){var r=e.bisect(t,n,1,o)-1;return u[r](a[r](n))}}function g(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function _(t,e){function n(){return o=Math.min(s.length,c.length)>2?v:y,a=u=null,i}function i(e){return(a||(a=o(s,c,f?p(t):t,l)))(+e)}var o,a,u,s=G,c=G,l=r.interpolate,f=!1;return i.invert=function(t){return(u||(u=o(c,s,h,f?d(e):e)))(+t)},i.domain=function(t){return arguments.length?(s=B.call(t,z),n()):s.slice()},i.range=function(t){return arguments.length?(c=W.call(t),n()):c.slice()},i.rangeRound=function(t){return c=W.call(t),l=r.interpolateRound,n()},i.clamp=function(t){return arguments.length?(f=!!t,n()):f},i.interpolate=function(t){return arguments.length?(l=t,n()):l},n()}function m(t){var n=t.domain;return t.ticks=function(t){var r=n();return e.ticks(r[0],r[r.length-1],null==t?10:t)},t.tickFormat=function(t,e){return K(n(),t,e)},t.nice=function(r){null==r&&(r=10);var i,o=n(),a=0,u=o.length-1,s=o[a],c=o[u];return c<s&&(i=s,s=c,c=i,i=a,a=u,u=i),i=e.tickIncrement(s,c,r),i>0?(s=Math.floor(s/i)*i,c=Math.ceil(c/i)*i,i=e.tickIncrement(s,c,r)):i<0&&(s=Math.ceil(s*i)/i,c=Math.floor(c*i)/i,i=e.tickIncrement(s,c,r)),i>0?(o[a]=Math.floor(s/i)*i,o[u]=Math.ceil(c/i)*i,n(o)):i<0&&(o[a]=Math.ceil(s*i)/i,o[u]=Math.floor(c*i)/i,n(o)),t},t}function b(){var t=_(h,r.interpolateNumber);return t.copy=function(){return g(t,b())},m(t)}function w(){function t(t){return+t}var e=[0,1];return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=B.call(n,z),t):e.slice()},t.copy=function(){return w().domain(e)},m(t)}function E(t,e){return(e=Math.log(e/t))?function(n){return Math.log(n/t)/e}:H(e)}function T(t,e){return t<0?function(n){return-Math.pow(-e,n)*Math.pow(-t,1-n)}:function(n){return Math.pow(e,n)*Math.pow(t,1-n)}}function S(t){return isFinite(t)?+("1e"+t):t<0?0:t}function O(t){return 10===t?S:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}function C(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}function k(t){return function(e){return-t(-e)}}function x(){function t(){return a=C(o),u=O(o),r()[0]<0&&(a=k(a),u=k(u)),n}var n=_(E,T).domain([1,10]),r=n.domain,o=10,a=C(10),u=O(10);return n.base=function(e){return arguments.length?(o=+e,t()):o},n.domain=function(e){return arguments.length?(r(e),t()):r()},n.ticks=function(t){var n,i=r(),s=i[0],c=i[i.length-1];(n=c<s)&&(p=s,s=c,c=p);var l,f,h,p=a(s),d=a(c),y=null==t?10:+t,v=[];if(!(o%1)&&d-p<y){if(p=Math.round(p)-1,d=Math.round(d)+1,s>0){for(;p<d;++p)for(f=1,l=u(p);f<o;++f)if(h=l*f,!(h<s)){if(h>c)break;v.push(h)}}else for(;p<d;++p)for(f=o-1,l=u(p);f>=1;--f)if(h=l*f,!(h<s)){if(h>c)break;v.push(h)}}else v=e.ticks(p,d,Math.min(d-p,y)).map(u);return n?v.reverse():v},n.tickFormat=function(t,e){if(null==e&&(e=10===o?".0e":","),"function"!=typeof e&&(e=i.format(e)),t===1/0)return e;null==t&&(t=10);var r=Math.max(1,o*t/n.ticks().length);return function(t){var n=t/u(Math.round(a(t)));return n*o<o-.5&&(n*=o),n<=r?e(t):""}},n.nice=function(){return r(Y(r(),{floor:function(t){return u(Math.floor(a(t)))},ceil:function(t){return u(Math.ceil(a(t)))}}))},n.copy=function(){return g(n,x().base(o))},n}function P(t,e){return t<0?-Math.pow(-t,e):Math.pow(t,e)}function N(){function t(t,e){return(e=P(e,n)-(t=P(t,n)))?function(r){return(P(r,n)-t)/e}:H(e)}function e(t,e){return e=P(e,n)-(t=P(t,n)),function(r){return P(t+e*r,1/n)}}var n=1,r=_(t,e),i=r.domain;return r.exponent=function(t){return arguments.length?(n=+t,i(i())):n},r.copy=function(){return g(r,N().exponent(n))},m(r)}function A(){return N().exponent(.5)}function I(){function t(){var t=0,a=Math.max(1,i.length);for(o=new Array(a-1);++t<a;)o[t-1]=e.quantile(r,t/a);return n}function n(t){if(!isNaN(t=+t))return i[e.bisect(o,t)]}var r=[],i=[],o=[];return n.invertExtent=function(t){var e=i.indexOf(t);return e<0?[NaN,NaN]:[e>0?o[e-1]:r[0],e<o.length?o[e]:r[r.length-1]]},n.domain=function(n){if(!arguments.length)return r.slice();r=[];for(var i,o=0,a=n.length;o<a;++o)i=n[o],null==i||isNaN(i=+i)||r.push(i);return r.sort(e.ascending),t()},n.range=function(e){return arguments.length?(i=W.call(e),t()):i.slice()},n.quantiles=function(){return o.slice()},n.copy=function(){return I().domain(r).range(i)},n}function R(){function t(t){if(t<=t)return u[e.bisect(a,t,0,o)]}function n(){var e=-1;for(a=new Array(o);++e<o;)a[e]=((e+1)*i-(e-o)*r)/(o+1);return t}var r=0,i=1,o=1,a=[.5],u=[0,1];return t.domain=function(t){return arguments.length?(r=+t[0],i=+t[1],n()):[r,i]},t.range=function(t){return arguments.length?(o=(u=W.call(t)).length-1,n()):u.slice()},t.invertExtent=function(t){var e=u.indexOf(t);return e<0?[NaN,NaN]:e<1?[r,a[0]]:e>=o?[a[o-1],i]:[a[e-1],a[e]]},t.copy=function(){return R().domain([r,i]).range(u)},m(t)}function M(){function t(t){if(t<=t)return r[e.bisect(n,t,0,i)]}var n=[.5],r=[0,1],i=1;return t.domain=function(e){return arguments.length?(n=W.call(e),i=Math.min(n.length,r.length-1),t):n.slice()},t.range=function(e){return arguments.length?(r=W.call(e),i=Math.min(n.length,r.length-1),t):r.slice()},t.invertExtent=function(t){var e=r.indexOf(t);return[n[e-1],n[e]]},t.copy=function(){return M().domain(n).range(r)},t}function D(t){return new Date(t)}function L(t){return t instanceof Date?+t:+new Date(+t)}function j(t,n,i,o,a,u,s,c,l){function f(e){return(s(e)<e?m:u(e)<e?b:a(e)<e?w:o(e)<e?E:n(e)<e?i(e)<e?T:S:t(e)<e?O:C)(e)}function p(n,r,i,o){if(null==n&&(n=10),"number"==typeof n){var a=Math.abs(i-r)/n,u=e.bisector(function(t){return t[2]}).right(k,a);u===k.length?(o=e.tickStep(r/et,i/et,n),n=t):u?(u=k[a/k[u-1][2]<k[u][2]/a?u-1:u],o=u[1],n=u[0]):(o=Math.max(e.tickStep(r,i,n),1),n=c)}return null==o?n:n.every(o)}var d=_(h,r.interpolateNumber),y=d.invert,v=d.domain,m=l(".%L"),b=l(":%S"),w=l("%I:%M"),E=l("%I %p"),T=l("%a %d"),S=l("%b %d"),O=l("%B"),C=l("%Y"),k=[[s,1,X],[s,5,5*X],[s,15,15*X],[s,30,30*X],[u,1,Q],[u,5,5*Q],[u,15,15*Q],[u,30,30*Q],[a,1,$],[a,3,3*$],[a,6,6*$],[a,12,12*$],[o,1,J],[o,2,2*J],[i,1,Z],[n,1,tt],[n,3,3*tt],[t,1,et]];return d.invert=function(t){return new Date(y(t))},d.domain=function(t){return arguments.length?v(B.call(t,L)):v().map(D)},d.ticks=function(t,e){var n,r=v(),i=r[0],o=r[r.length-1],a=o<i;return a&&(n=i,i=o,o=n),n=p(t,i,o,e),n=n?n.range(i,o+1):[],a?n.reverse():n},d.tickFormat=function(t,e){return null==e?f:l(e)},d.nice=function(t,e){var n=v();return(t=p(t,n[0],n[n.length-1],e))?v(Y(n,t)):d},d.copy=function(){return g(d,j(t,n,i,o,a,u,s,c,l))},d}function F(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}function U(t){function e(e){var o=(e-n)/(r-n);return t(i?Math.max(0,Math.min(1,o)):o)}var n=0,r=1,i=!1;return e.domain=function(t){return arguments.length?(n=+t[0],r=+t[1],e):[n,r]},e.clamp=function(t){return arguments.length?(i=!!t,e):i},e.interpolator=function(n){return arguments.length?(t=n,e):t},e.copy=function(){return U(t).domain([n,r]).clamp(i)},m(e)}var V=Array.prototype,B=V.map,W=V.slice,q={name:"implicit"},H=function(t){return function(){return t}},z=function(t){return+t},G=[0,1],K=function(t,n,r){var o,a=t[0],u=t[t.length-1],s=e.tickStep(a,u,null==n?10:n);switch(r=i.formatSpecifier(null==r?",f":r),r.type){case"s":var c=Math.max(Math.abs(a),Math.abs(u));return null!=r.precision||isNaN(o=i.precisionPrefix(s,c))||(r.precision=o),i.formatPrefix(r,c);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(o=i.precisionRound(s,Math.max(Math.abs(a),Math.abs(u))))||(r.precision=o-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(o=i.precisionFixed(s))||(r.precision=o-2*("%"===r.type))}return i.format(r)},Y=function(t,e){t=t.slice();var n,r=0,i=t.length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t},X=1e3,Q=60*X,$=60*Q,J=24*$,Z=7*J,tt=30*J,et=365*J,nt=function(){return j(o.timeYear,o.timeMonth,o.timeWeek,o.timeDay,o.timeHour,o.timeMinute,o.timeSecond,o.timeMillisecond,a.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},rt=function(){return j(o.utcYear,o.utcMonth,o.utcWeek,o.utcDay,o.utcHour,o.utcMinute,o.utcSecond,o.utcMillisecond,a.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])},it=function(t){return t.match(/.{6}/g).map(function(t){return"#"+t})},ot=it("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),at=it("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),ut=it("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),st=it("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),ct=r.interpolateCubehelixLong(u.cubehelix(300,.5,0),u.cubehelix(-240,.5,1)),lt=r.interpolateCubehelixLong(u.cubehelix(-100,.75,.35),u.cubehelix(80,1.5,.8)),ft=r.interpolateCubehelixLong(u.cubehelix(260,.75,.35),u.cubehelix(80,1.5,.8)),ht=u.cubehelix(),pt=function(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return ht.h=360*t-100,ht.s=1.5-1.5*e,ht.l=.8-.9*e,ht+""},dt=F(it("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),yt=F(it("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),vt=F(it("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),gt=F(it("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));
t.scaleBand=c,t.scalePoint=f,t.scaleIdentity=w,t.scaleLinear=b,t.scaleLog=x,t.scaleOrdinal=s,t.scaleImplicit=q,t.scalePow=N,t.scaleSqrt=A,t.scaleQuantile=I,t.scaleQuantize=R,t.scaleThreshold=M,t.scaleTime=nt,t.scaleUtc=rt,t.schemeCategory10=ot,t.schemeCategory20b=at,t.schemeCategory20c=ut,t.schemeCategory20=st,t.interpolateCubehelixDefault=ct,t.interpolateRainbow=pt,t.interpolateWarm=lt,t.interpolateCool=ft,t.interpolateViridis=dt,t.interpolateMagma=yt,t.interpolateInferno=vt,t.interpolatePlasma=gt,t.scaleSequential=U,Object.defineProperty(t,"__esModule",{value:!0})})},,,,,,,function(t,e,n){"use strict";function r(){function t(t){var e=d[t];h(e,"delete"),delete d[t]}function e(t){return t=t||u,a(d,t)||i("no-app",{name:t}),d[t]}function n(t,e){if(void 0===e&&(e={}),"object"!=typeof e||null===e){var n=e;e={name:n}}var r=e;void 0===r.name&&(r.name=u);var o=r.name;"string"==typeof o&&o||i("bad-app-name",{name:o+""}),a(d,o)&&i("duplicate-app",{name:o});var s=new c(t,r,g);return d[o]=s,h(s,"create"),s}function s(){return Object.keys(d).map(function(t){return d[t]})}function l(t,n,r,a,u){y[t]&&i("duplicate-service",{name:t}),y[t]=n,a&&(v[t]=a,s().forEach(function(t){a("create",t)}));var l=function(n){return void 0===n&&(n=e()),"function"!=typeof n[t]&&i("invalid-app-argument",{name:t}),n[t]()};return void 0!==r&&o.deepExtend(l,r),g[t]=l,c.prototype[t]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=this._getService.bind(this,t);return r.apply(this,u?e:[])},l}function f(t){o.deepExtend(g,t)}function h(t,e){Object.keys(y).forEach(function(n){var r=p(t,n);null!==r&&v[r]&&v[r](e,t)})}function p(t,e){if("serverAuth"===e)return null;var n=e;t.options;return n}var d={},y={},v={},g={__esModule:!0,initializeApp:n,app:e,apps:null,Promise:Promise,SDK_VERSION:"4.13.0",INTERNAL:{registerService:l,createFirebaseNamespace:r,extendNamespace:f,createSubscribe:o.createSubscribe,ErrorFactory:o.ErrorFactory,removeApp:t,factories:y,useAsService:p,Promise:Promise,deepExtend:o.deepExtend}};return o.patchProperty(g,"default",g),Object.defineProperty(g,"apps",{get:s}),o.patchProperty(e,"App",c),g}function i(t,e){throw f.create(t,e)}Object.defineProperty(e,"__esModule",{value:!0});var o=n(90),a=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},u="[DEFAULT]",s=[],c=function(){function t(t,e,n){this.firebase_=n,this.isDeleted_=!1,this.services_={},this.name_=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled||!1,this.options_=o.deepCopy(t),this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(t){s.push(t),setTimeout(function(){return t(null)},0)},removeAuthTokenListener:function(t){s=s.filter(function(e){return e!==t})}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this._automaticDataCollectionEnabled},set:function(t){this.checkDestroyed_(),this._automaticDataCollectionEnabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){t.firebase_.INTERNAL.removeApp(t.name_);var e=[];return Object.keys(t.services_).forEach(function(n){Object.keys(t.services_[n]).forEach(function(r){e.push(t.services_[n][r])})}),Promise.all(e.map(function(t){return t.INTERNAL.delete()}))}).then(function(){t.isDeleted_=!0,t.services_={}})},t.prototype._getService=function(t,e){if(void 0===e&&(e=u),this.checkDestroyed_(),this.services_[t]||(this.services_[t]={}),!this.services_[t][e]){var n=e!==u?e:void 0,r=this.firebase_.INTERNAL.factories[t](this,this.extendApp.bind(this),n);this.services_[t][e]=r}return this.services_[t][e]},t.prototype.extendApp=function(t){var e=this;o.deepExtend(this,t),t.INTERNAL&&t.INTERNAL.addAuthTokenListener&&(s.forEach(function(t){e.INTERNAL.addAuthTokenListener(t)}),s=[])},t.prototype.checkDestroyed_=function(){this.isDeleted_&&i("app-deleted",{name:this.name_})},t}();c.prototype.name&&c.prototype.options||c.prototype.delete||console.log("dc");var l={"no-app":"No Firebase App '{$name}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$name}","duplicate-app":"Firebase App named '{$name}' already exists","app-deleted":"Firebase App named '{$name}' already deleted","duplicate-service":"Firebase service named '{$name}' already registered","sa-not-supported":"Initializing the Firebase SDK with a service account is only allowed in a Node.js environment. On client devices, you should instead initialize the SDK with an api key and auth domain","invalid-app-argument":"firebase.{$name}() takes either no argument or a Firebase App instance."},f=new o.ErrorFactory("app","Firebase",l),h=r();e.firebase=h,e.default=h},,,,,,,,function(t,e,n){!function(t,r){r(e,n(346))}(this,function(t,e){"use strict";function n(t){return t>1?0:t<-1?ft:Math.acos(t)}function r(t){return t>=1?ht:t<=-1?-ht:Math.asin(t)}function i(t){return t.innerRadius}function o(t){return t.outerRadius}function a(t){return t.startAngle}function u(t){return t.endAngle}function s(t){return t&&t.padAngle}function c(t,e,n,r,i,o,a,u){var s=n-t,c=r-e,l=a-i,f=u-o,h=(l*(e-o)-f*(t-i))/(f*s-l*c);return[t+h*s,e+h*c]}function l(t,e,n,r,i,o,a){var u=t-n,s=e-r,c=(a?o:-o)/ct(u*u+s*s),l=c*s,f=-c*u,h=t+l,p=e+f,d=n+l,y=r+f,v=(h+d)/2,g=(p+y)/2,_=d-h,m=y-p,b=_*_+m*m,w=i-o,E=h*y-d*p,T=(m<0?-1:1)*ct(at(0,w*w*b-E*E)),S=(E*m-_*T)/b,O=(-E*_-m*T)/b,C=(E*m+_*T)/b,k=(-E*_+m*T)/b,x=S-v,P=O-g,N=C-v,A=k-g;return x*x+P*P>N*N+A*A&&(S=C,O=k),{cx:S,cy:O,x01:-l,y01:-f,x11:S*(i/w-1),y11:O*(i/w-1)}}function f(t){this._context=t}function h(t){return t[0]}function p(t){return t[1]}function d(t){this._curve=t}function y(t){function e(e){return new d(t(e))}return e._curve=t,e}function v(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(y(t)):e()._curve},t}function g(t){return t.source}function _(t){return t.target}function m(t){function n(){var n,s=Ot.call(arguments),c=r.apply(this,s),l=i.apply(this,s);if(u||(u=n=e.path()),t(u,+o.apply(this,(s[0]=c,s)),+a.apply(this,s),+o.apply(this,(s[0]=l,s)),+a.apply(this,s)),n)return u=null,n+""||null}var r=g,i=_,o=h,a=p,u=null;return n.source=function(t){return arguments.length?(r=t,n):r},n.target=function(t){return arguments.length?(i=t,n):i},n.x=function(t){return arguments.length?(o="function"==typeof t?t:nt(+t),n):o},n.y=function(t){return arguments.length?(a="function"==typeof t?t:nt(+t),n):a},n.context=function(t){return arguments.length?(u=null==t?null:t,n):u},n}function b(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e=(e+r)/2,n,e,i,r,i)}function w(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+i)/2,r,n,r,i)}function E(t,e,n,r,i){var o=St(e,n),a=St(e,n=(n+i)/2),u=St(r,n),s=St(r,i);t.moveTo(o[0],o[1]),t.bezierCurveTo(a[0],a[1],u[0],u[1],s[0],s[1])}function T(){return m(b)}function S(){return m(w)}function O(){var t=m(E);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}function C(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function k(t){this._context=t}function x(t){this._context=t}function P(t){this._context=t}function N(t,e){this._basis=new k(t),this._beta=e}function A(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function I(t,e){this._context=t,this._k=(1-e)/6}function R(t,e){this._context=t,this._k=(1-e)/6}function M(t,e){this._context=t,this._k=(1-e)/6}function D(t,e,n){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>lt){var u=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,s=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*u-t._x0*t._l12_2a+t._x2*t._l01_2a)/s,i=(i*u-t._y0*t._l12_2a+t._y2*t._l01_2a)/s}if(t._l23_a>lt){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,l=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*c+t._x1*t._l23_2a-e*t._l12_2a)/l,a=(a*c+t._y1*t._l23_2a-n*t._l12_2a)/l}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function L(t,e){this._context=t,this._alpha=e}function j(t,e){this._context=t,this._alpha=e}function F(t,e){this._context=t,this._alpha=e}function U(t){this._context=t}function V(t){return t<0?-1:1}function B(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),u=(o*i+a*r)/(r+i);return(V(o)+V(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(u))||0}function W(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function q(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,u=(o-r)/3;t._context.bezierCurveTo(r+u,i+u*e,o-u,a-u*n,o,a)}function H(t){this._context=t}function z(t){this._context=new G(t)}function G(t){this._context=t}function K(t){return new H(t)}function Y(t){return new z(t)}function X(t){this._context=t}function Q(t){var e,n,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function $(t,e){this._context=t,this._t=e}function J(t){return new $(t,0)}function Z(t){return new $(t,1)}function tt(t,e){return t[e]}function et(t){for(var e,n=0,r=-1,i=t.length;++r<i;)(e=+t[r][1])&&(n+=e);return n}var nt=function(t){return function(){return t}},rt=Math.abs,it=Math.atan2,ot=Math.cos,at=Math.max,ut=Math.min,st=Math.sin,ct=Math.sqrt,lt=1e-12,ft=Math.PI,ht=ft/2,pt=2*ft,dt=function(){function t(){var t,i,o=+f.apply(this,arguments),a=+h.apply(this,arguments),u=y.apply(this,arguments)-ht,s=v.apply(this,arguments)-ht,m=rt(s-u),b=s>u;if(_||(_=t=e.path()),a<o&&(i=a,a=o,o=i),a>lt)if(m>pt-lt)_.moveTo(a*ot(u),a*st(u)),_.arc(0,0,a,u,s,!b),o>lt&&(_.moveTo(o*ot(s),o*st(s)),_.arc(0,0,o,s,u,b));else{var w,E,T=u,S=s,O=u,C=s,k=m,x=m,P=g.apply(this,arguments)/2,N=P>lt&&(d?+d.apply(this,arguments):ct(o*o+a*a)),A=ut(rt(a-o)/2,+p.apply(this,arguments)),I=A,R=A;if(N>lt){var M=r(N/o*st(P)),D=r(N/a*st(P));(k-=2*M)>lt?(M*=b?1:-1,O+=M,C-=M):(k=0,O=C=(u+s)/2),(x-=2*D)>lt?(D*=b?1:-1,T+=D,S-=D):(x=0,T=S=(u+s)/2)}var L=a*ot(T),j=a*st(T),F=o*ot(C),U=o*st(C);if(A>lt){var V=a*ot(S),B=a*st(S),W=o*ot(O),q=o*st(O);if(m<ft){var H=k>lt?c(L,j,W,q,V,B,F,U):[F,U],z=L-H[0],G=j-H[1],K=V-H[0],Y=B-H[1],X=1/st(n((z*K+G*Y)/(ct(z*z+G*G)*ct(K*K+Y*Y)))/2),Q=ct(H[0]*H[0]+H[1]*H[1]);I=ut(A,(o-Q)/(X-1)),R=ut(A,(a-Q)/(X+1))}}x>lt?R>lt?(w=l(W,q,L,j,a,R,b),E=l(V,B,F,U,a,R,b),_.moveTo(w.cx+w.x01,w.cy+w.y01),R<A?_.arc(w.cx,w.cy,R,it(w.y01,w.x01),it(E.y01,E.x01),!b):(_.arc(w.cx,w.cy,R,it(w.y01,w.x01),it(w.y11,w.x11),!b),_.arc(0,0,a,it(w.cy+w.y11,w.cx+w.x11),it(E.cy+E.y11,E.cx+E.x11),!b),_.arc(E.cx,E.cy,R,it(E.y11,E.x11),it(E.y01,E.x01),!b))):(_.moveTo(L,j),_.arc(0,0,a,T,S,!b)):_.moveTo(L,j),o>lt&&k>lt?I>lt?(w=l(F,U,V,B,o,-I,b),E=l(L,j,W,q,o,-I,b),_.lineTo(w.cx+w.x01,w.cy+w.y01),I<A?_.arc(w.cx,w.cy,I,it(w.y01,w.x01),it(E.y01,E.x01),!b):(_.arc(w.cx,w.cy,I,it(w.y01,w.x01),it(w.y11,w.x11),!b),_.arc(0,0,o,it(w.cy+w.y11,w.cx+w.x11),it(E.cy+E.y11,E.cx+E.x11),b),_.arc(E.cx,E.cy,I,it(E.y11,E.x11),it(E.y01,E.x01),!b))):_.arc(0,0,o,C,O,b):_.lineTo(F,U)}else _.moveTo(0,0);if(_.closePath(),t)return _=null,t+""||null}var f=i,h=o,p=nt(0),d=null,y=a,v=u,g=s,_=null;return t.centroid=function(){var t=(+f.apply(this,arguments)+ +h.apply(this,arguments))/2,e=(+y.apply(this,arguments)+ +v.apply(this,arguments))/2-ft/2;return[ot(e)*t,st(e)*t]},t.innerRadius=function(e){return arguments.length?(f="function"==typeof e?e:nt(+e),t):f},t.outerRadius=function(e){return arguments.length?(h="function"==typeof e?e:nt(+e),t):h},t.cornerRadius=function(e){return arguments.length?(p="function"==typeof e?e:nt(+e),t):p},t.padRadius=function(e){return arguments.length?(d=null==e?null:"function"==typeof e?e:nt(+e),t):d},t.startAngle=function(e){return arguments.length?(y="function"==typeof e?e:nt(+e),t):y},t.endAngle=function(e){return arguments.length?(v="function"==typeof e?e:nt(+e),t):v},t.padAngle=function(e){return arguments.length?(g="function"==typeof e?e:nt(+e),t):g},t.context=function(e){return arguments.length?(_=null==e?null:e,t):_},t};f.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var yt=function(t){return new f(t)},vt=function(){function t(t){var s,c,l,f=t.length,h=!1;for(null==o&&(u=a(l=e.path())),s=0;s<=f;++s)!(s<f&&i(c=t[s],s,t))===h&&((h=!h)?u.lineStart():u.lineEnd()),h&&u.point(+n(c,s,t),+r(c,s,t));if(l)return u=null,l+""||null}var n=h,r=p,i=nt(!0),o=null,a=yt,u=null;return t.x=function(e){return arguments.length?(n="function"==typeof e?e:nt(+e),t):n},t.y=function(e){return arguments.length?(r="function"==typeof e?e:nt(+e),t):r},t.defined=function(e){return arguments.length?(i="function"==typeof e?e:nt(!!e),t):i},t.curve=function(e){return arguments.length?(a=e,null!=o&&(u=a(o)),t):a},t.context=function(e){return arguments.length?(null==e?o=u=null:u=a(o=e),t):o},t},gt=function(){function t(t){var n,f,h,p,d,y=t.length,v=!1,g=new Array(y),_=new Array(y);for(null==s&&(l=c(d=e.path())),n=0;n<=y;++n){if(!(n<y&&u(p=t[n],n,t))===v)if(v=!v)f=n,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),h=n-1;h>=f;--h)l.point(g[h],_[h]);l.lineEnd(),l.areaEnd()}v&&(g[n]=+r(p,n,t),_[n]=+o(p,n,t),l.point(i?+i(p,n,t):g[n],a?+a(p,n,t):_[n]))}if(d)return l=null,d+""||null}function n(){return vt().defined(u).curve(c).context(s)}var r=h,i=null,o=nt(0),a=p,u=nt(!0),s=null,c=yt,l=null;return t.x=function(e){return arguments.length?(r="function"==typeof e?e:nt(+e),i=null,t):r},t.x0=function(e){return arguments.length?(r="function"==typeof e?e:nt(+e),t):r},t.x1=function(e){return arguments.length?(i=null==e?null:"function"==typeof e?e:nt(+e),t):i},t.y=function(e){return arguments.length?(o="function"==typeof e?e:nt(+e),a=null,t):o},t.y0=function(e){return arguments.length?(o="function"==typeof e?e:nt(+e),t):o},t.y1=function(e){return arguments.length?(a=null==e?null:"function"==typeof e?e:nt(+e),t):a},t.lineX0=t.lineY0=function(){return n().x(r).y(o)},t.lineY1=function(){return n().x(r).y(a)},t.lineX1=function(){return n().x(i).y(o)},t.defined=function(e){return arguments.length?(u="function"==typeof e?e:nt(!!e),t):u},t.curve=function(e){return arguments.length?(c=e,null!=s&&(l=c(s)),t):c},t.context=function(e){return arguments.length?(null==e?s=l=null:l=c(s=e),t):s},t},_t=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},mt=function(t){return t},bt=function(){function t(t){var u,s,c,l,f,h=t.length,p=0,d=new Array(h),y=new Array(h),v=+i.apply(this,arguments),g=Math.min(pt,Math.max(-pt,o.apply(this,arguments)-v)),_=Math.min(Math.abs(g)/h,a.apply(this,arguments)),m=_*(g<0?-1:1);for(u=0;u<h;++u)(f=y[d[u]=u]=+e(t[u],u,t))>0&&(p+=f);for(null!=n?d.sort(function(t,e){return n(y[t],y[e])}):null!=r&&d.sort(function(e,n){return r(t[e],t[n])}),u=0,c=p?(g-h*m)/p:0;u<h;++u,v=l)s=d[u],f=y[s],l=v+(f>0?f*c:0)+m,y[s]={data:t[s],index:u,value:f,startAngle:v,endAngle:l,padAngle:_};return y}var e=mt,n=_t,r=null,i=nt(0),o=nt(pt),a=nt(0);return t.value=function(n){return arguments.length?(e="function"==typeof n?n:nt(+n),t):e},t.sortValues=function(e){return arguments.length?(n=e,r=null,t):n},t.sort=function(e){return arguments.length?(r=e,n=null,t):r},t.startAngle=function(e){return arguments.length?(i="function"==typeof e?e:nt(+e),t):i},t.endAngle=function(e){return arguments.length?(o="function"==typeof e?e:nt(+e),t):o},t.padAngle=function(e){return arguments.length?(a="function"==typeof e?e:nt(+e),t):a},t},wt=y(yt);d.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var Et=function(){return v(vt().curve(wt))},Tt=function(){var t=gt().curve(wt),e=t.curve,n=t.lineX0,r=t.lineX1,i=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return v(n())},delete t.lineX0,t.lineEndAngle=function(){return v(r())},delete t.lineX1,t.lineInnerRadius=function(){return v(i())},delete t.lineY0,t.lineOuterRadius=function(){return v(o())},delete t.lineY1,t.curve=function(t){return arguments.length?e(y(t)):e()._curve},t},St=function(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]},Ot=Array.prototype.slice,Ct={draw:function(t,e){var n=Math.sqrt(e/ft);t.moveTo(n,0),t.arc(0,0,n,0,pt)}},kt={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},xt=Math.sqrt(1/3),Pt=2*xt,Nt={draw:function(t,e){var n=Math.sqrt(e/Pt),r=n*xt;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},At=.8908130915292852,It=Math.sin(ft/10)/Math.sin(7*ft/10),Rt=Math.sin(pt/10)*It,Mt=-Math.cos(pt/10)*It,Dt={draw:function(t,e){var n=Math.sqrt(e*At),r=Rt*n,i=Mt*n;t.moveTo(0,-n),t.lineTo(r,i);for(var o=1;o<5;++o){var a=pt*o/5,u=Math.cos(a),s=Math.sin(a);t.lineTo(s*n,-u*n),t.lineTo(u*r-s*i,s*r+u*i)}t.closePath()}},Lt={draw:function(t,e){var n=Math.sqrt(e),r=-n/2;t.rect(r,r,n,n)}},jt=Math.sqrt(3),Ft={draw:function(t,e){var n=-Math.sqrt(e/(3*jt));t.moveTo(0,2*n),t.lineTo(-jt*n,-n),t.lineTo(jt*n,-n),t.closePath()}},Ut=-.5,Vt=Math.sqrt(3)/2,Bt=1/Math.sqrt(12),Wt=3*(Bt/2+1),qt={draw:function(t,e){var n=Math.sqrt(e/Wt),r=n/2,i=n*Bt,o=r,a=n*Bt+n,u=-o,s=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(u,s),t.lineTo(Ut*r-Vt*i,Vt*r+Ut*i),t.lineTo(Ut*o-Vt*a,Vt*o+Ut*a),t.lineTo(Ut*u-Vt*s,Vt*u+Ut*s),t.lineTo(Ut*r+Vt*i,Ut*i-Vt*r),t.lineTo(Ut*o+Vt*a,Ut*a-Vt*o),t.lineTo(Ut*u+Vt*s,Ut*s-Vt*u),t.closePath()}},Ht=[Ct,kt,Nt,Lt,Dt,Ft,qt],zt=function(){function t(){var t;if(i||(i=t=e.path()),n.apply(this,arguments).draw(i,+r.apply(this,arguments)),t)return i=null,t+""||null}var n=nt(Ct),r=nt(64),i=null;return t.type=function(e){return arguments.length?(n="function"==typeof e?e:nt(e),t):n},t.size=function(e){return arguments.length?(r="function"==typeof e?e:nt(+e),t):r},t.context=function(e){return arguments.length?(i=null==e?null:e,t):i},t},Gt=function(){};k.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:C(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:C(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var Kt=function(t){return new k(t)};x.prototype={areaStart:Gt,areaEnd:Gt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:C(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var Yt=function(t){return new x(t)};P.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:C(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var Xt=function(t){return new P(t)};N.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r,i=t[0],o=e[0],a=t[n]-i,u=e[n]-o,s=-1;++s<=n;)r=s/n,this._basis.point(this._beta*t[s]+(1-this._beta)*(i+r*a),this._beta*e[s]+(1-this._beta)*(o+r*u));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var Qt=function t(e){function n(t){return 1===e?new k(t):new N(t,e)}return n.beta=function(e){return t(+e)},n}(.85);I.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:A(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:A(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var $t=function t(e){function n(t){return new I(t,e)}return n.tension=function(e){return t(+e)},n}(0);R.prototype={areaStart:Gt,areaEnd:Gt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:A(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Jt=function t(e){function n(t){return new R(t,e)}return n.tension=function(e){return t(+e)},n}(0);M.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:A(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Zt=function t(e){function n(t){return new M(t,e)}return n.tension=function(e){return t(+e)},n}(0);L.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:D(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var te=function t(e){function n(t){return e?new L(t,e):new I(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);j.prototype={areaStart:Gt,areaEnd:Gt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:D(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var ee=function t(e){function n(t){return e?new j(t,e):new R(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);F.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:D(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var ne=function t(e){function n(t){return e?new F(t,e):new M(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);U.prototype={areaStart:Gt,areaEnd:Gt,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};var re=function(t){return new U(t)};H.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:q(this,this._t0,W(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,t!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,q(this,W(this,n=B(this,t,e)),n);break;default:q(this,this._t0,n=B(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(z.prototype=Object.create(H.prototype)).point=function(t,e){H.prototype.point.call(this,e,t)},G.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}},X.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=Q(t),i=Q(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var ie=function(t){return new X(t)};$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var oe=function(t){return new $(t,.5)},ae=function(t,e){if((i=t.length)>1)for(var n,r,i,o=1,a=t[e[0]],u=a.length;o<i;++o)for(r=a,a=t[e[o]],n=0;n<u;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]},ue=function(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n},se=function(){function t(t){var o,a,u=e.apply(this,arguments),s=t.length,c=u.length,l=new Array(c);for(o=0;o<c;++o){for(var f,h=u[o],p=l[o]=new Array(s),d=0;d<s;++d)p[d]=f=[0,+i(t[d],h,d,t)],f.data=t[d];p.key=h}for(o=0,a=n(l);o<c;++o)l[a[o]].index=o;return r(l,a),l}var e=nt([]),n=ue,r=ae,i=tt;return t.keys=function(n){return arguments.length?(e="function"==typeof n?n:nt(Ot.call(n)),t):e},t.value=function(e){return arguments.length?(i="function"==typeof e?e:nt(+e),t):i},t.order=function(e){return arguments.length?(n=null==e?ue:"function"==typeof e?e:nt(Ot.call(e)),t):n},t.offset=function(e){return arguments.length?(r=null==e?ae:e,t):r},t},ce=function(t,e){if((r=t.length)>0){for(var n,r,i,o=0,a=t[0].length;o<a;++o){for(i=n=0;n<r;++n)i+=t[n][o][1]||0;if(i)for(n=0;n<r;++n)t[n][o][1]/=i}ae(t,e)}},le=function(t,e){if((u=t.length)>1)for(var n,r,i,o,a,u,s=0,c=t[e[0]].length;s<c;++s)for(o=a=0,n=0;n<u;++n)(i=(r=t[e[n]][s])[1]-r[0])>=0?(r[0]=o,r[1]=o+=i):i<0?(r[1]=a,r[0]=a+=i):r[0]=o},fe=function(t,e){if((n=t.length)>0){for(var n,r=0,i=t[e[0]],o=i.length;r<o;++r){for(var a=0,u=0;a<n;++a)u+=t[a][r][1]||0;i[r][1]+=i[r][0]=-u/2}ae(t,e)}},he=function(t,e){if((i=t.length)>0&&(r=(n=t[e[0]]).length)>0){for(var n,r,i,o=0,a=1;a<r;++a){
for(var u=0,s=0,c=0;u<i;++u){for(var l=t[e[u]],f=l[a][1]||0,h=l[a-1][1]||0,p=(f-h)/2,d=0;d<u;++d){var y=t[e[d]],v=y[a][1]||0,g=y[a-1][1]||0;p+=v-g}s+=f,c+=p*f}n[a-1][1]+=n[a-1][0]=o,s&&(o-=c/s)}n[a-1][1]+=n[a-1][0]=o,ae(t,e)}},pe=function(t){var e=t.map(et);return ue(t).sort(function(t,n){return e[t]-e[n]})},de=function(t){return pe(t).reverse()},ye=function(t){var e,n,r=t.length,i=t.map(et),o=ue(t).sort(function(t,e){return i[e]-i[t]}),a=0,u=0,s=[],c=[];for(e=0;e<r;++e)n=o[e],a<u?(a+=i[n],s.push(n)):(u+=i[n],c.push(n));return c.reverse().concat(s)},ve=function(t){return ue(t).reverse()};t.arc=dt,t.area=gt,t.line=vt,t.pie=bt,t.areaRadial=Tt,t.radialArea=Tt,t.lineRadial=Et,t.radialLine=Et,t.pointRadial=St,t.linkHorizontal=T,t.linkVertical=S,t.linkRadial=O,t.symbol=zt,t.symbols=Ht,t.symbolCircle=Ct,t.symbolCross=kt,t.symbolDiamond=Nt,t.symbolSquare=Lt,t.symbolStar=Dt,t.symbolTriangle=Ft,t.symbolWye=qt,t.curveBasisClosed=Yt,t.curveBasisOpen=Xt,t.curveBasis=Kt,t.curveBundle=Qt,t.curveCardinalClosed=Jt,t.curveCardinalOpen=Zt,t.curveCardinal=$t,t.curveCatmullRomClosed=ee,t.curveCatmullRomOpen=ne,t.curveCatmullRom=te,t.curveLinearClosed=re,t.curveLinear=yt,t.curveMonotoneX=K,t.curveMonotoneY=Y,t.curveNatural=ie,t.curveStep=oe,t.curveStepAfter=Z,t.curveStepBefore=J,t.stack=se,t.stackOffsetExpand=ce,t.stackOffsetDiverging=le,t.stackOffsetNone=ae,t.stackOffsetSilhouette=fe,t.stackOffsetWiggle=he,t.stackOrderAscending=pe,t.stackOrderDescending=de,t.stackOrderInsideOut=ye,t.stackOrderNone=ue,t.stackOrderReverse=ve,Object.defineProperty(t,"__esModule",{value:!0})})},,,,,function(t,e,n){(function(t){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.process&&v.production||n&&y[e]||(console.warn(e),y[e]=!0)}function o(t){i(t,!0)}Object.defineProperty(e,"__esModule",{value:!0}),e.getDOMNode=e.isReactDOMSupported=void 0;var a=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e.warning=i,e.warnOnce=o;var u=n(1),s=r(u),c=s.default.version.split("."),l=a(c,2),f=l[0],h=l[1],p=Number(h)>13||Number(f)>13,d=e.isReactDOMSupported=function(){return p},y=(e.getDOMNode=function(t){return d()?t:t&&t.getDOMNode()},{}),v={test:!0,production:!0}}).call(e,function(){return this}())},,,,,,,,,,,,function(t,e,n){!function(t,n){n(e)}(this,function(t){"use strict";function e(t){return new n(t)}function n(t){if(!(e=p.exec(t)))throw new Error("invalid format: "+t);var e,n=e[1]||" ",r=e[2]||">",i=e[3]||"-",o=e[4]||"",a=!!e[5],u=e[6]&&+e[6],s=!!e[7],c=e[8]&&+e[8].slice(1),l=e[9]||"";"n"===l?(s=!0,l="g"):h[l]||(l=""),(a||"0"===n&&"="===r)&&(a=!0,n="0",r="="),this.fill=n,this.align=r,this.sign=i,this.symbol=o,this.zero=a,this.width=u,this.comma=s,this.precision=c,this.type=l}function r(e){return d=g(e),t.format=d.format,t.formatPrefix=d.formatPrefix,d}var i,o=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]},a=function(t){return t=o(Math.abs(t)),t?t[1]:NaN},u=function(t,e){return function(n,r){for(var i=n.length,o=[],a=0,u=t[0],s=0;i>0&&u>0&&(s+u+1>r&&(u=Math.max(1,r-s)),o.push(n.substring(i-=u,i+u)),!((s+=u+1)>r));)u=t[a=(a+1)%t.length];return o.reverse().join(e)}},s=function(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}},c=function(t,e){t=t.toPrecision(e);t:for(var n,r=t.length,i=1,o=-1;i<r;++i)switch(t[i]){case".":o=n=i;break;case"0":0===o&&(o=i),n=i;break;case"e":break t;default:o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(n+1):t},l=function(t,e){var n=o(t,e);if(!n)return t+"";var r=n[0],a=n[1],u=a-(i=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,s=r.length;return u===s?r:u>s?r+new Array(u-s+1).join("0"):u>0?r.slice(0,u)+"."+r.slice(u):"0."+new Array(1-u).join("0")+o(t,Math.max(0,e+u-1))[0]},f=function(t,e){var n=o(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},h={"":c,"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return f(100*t,e)},r:f,s:l,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},p=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;e.prototype=n.prototype,n.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var d,y=function(t){return t},v=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],g=function(t){function n(t){function n(t){var e,n,s,c=b,h=w;if("c"===m)h=E(t)+h,t="";else{t=+t;var p=t<0;if(t=E(Math.abs(t),_),p&&0===+t&&(p=!1),c=(p?"("===u?u:"-":"-"===u||"("===u?"":u)+c,h=("s"===m?v[8+i/3]:"")+h+(p&&"("===u?")":""),T)for(e=-1,n=t.length;++e<n;)if(s=t.charCodeAt(e),48>s||s>57){h=(46===s?l+t.slice(e+1):t.slice(e))+h,t=t.slice(0,e);break}}g&&!d&&(t=o(t,1/0));var S=c.length+t.length+h.length,O=S<y?new Array(y-S+1).join(r):"";switch(g&&d&&(t=o(O+t,O.length?y-h.length:1/0),O=""),a){case"<":t=c+t+h+O;break;case"=":t=c+O+t+h;break;case"^":t=O.slice(0,S=O.length>>1)+c+t+h+O.slice(S);break;default:t=O+c+t+h}return f(t)}t=e(t);var r=t.fill,a=t.align,u=t.sign,s=t.symbol,d=t.zero,y=t.width,g=t.comma,_=t.precision,m=t.type,b="$"===s?c[0]:"#"===s&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",w="$"===s?c[1]:/[%p]/.test(m)?p:"",E=h[m],T=!m||/[defgprs%]/.test(m);return _=null==_?m?6:12:/[gprs]/.test(m)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_)),n.toString=function(){return t+""},n}function r(t,r){var i=n((t=e(t),t.type="f",t)),o=3*Math.max(-8,Math.min(8,Math.floor(a(r)/3))),u=Math.pow(10,-o),s=v[8+o/3];return function(t){return i(u*t)+s}}var o=t.grouping&&t.thousands?u(t.grouping,t.thousands):y,c=t.currency,l=t.decimal,f=t.numerals?s(t.numerals):y,p=t.percent||"%";return{format:n,formatPrefix:r}};r({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var _=function(t){return Math.max(0,-a(Math.abs(t)))},m=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(a(e)/3)))-a(Math.abs(t)))},b=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,a(e)-a(t))+1};t.formatDefaultLocale=r,t.formatLocale=g,t.formatSpecifier=e,t.precisionFixed=_,t.precisionPrefix=m,t.precisionRound=b,Object.defineProperty(t,"__esModule",{value:!0})})},,,,function(t,e,n){(function(e){(function(){var n,r,i,o,a,u;"undefined"!=typeof performance&&null!==performance&&performance.now?t.exports=function(){return performance.now()}:"undefined"!=typeof e&&null!==e&&e.hrtime?(t.exports=function(){return(n()-a)/1e6},r=e.hrtime,n=function(){var t;return t=r(),1e9*t[0]+t[1]},o=n(),u=1e9*e.uptime(),a=o-u):Date.now?(t.exports=function(){return Date.now()-i},i=Date.now()):(t.exports=function(){return(new Date).getTime()-i},i=(new Date).getTime())}).call(this)}).call(e,n(31))},,,,,,function(t,e){"use strict";function n(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]="number"==typeof t[n]?t[n]:t[n].val);return e}e.__esModule=!0,e.default=n,t.exports=e.default},,function(t,e,n){"use strict";function r(t){return i(void 0,t)}function i(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:var n=e;return new Date(n.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var r in e)e.hasOwnProperty(r)&&(t[r]=i(t[r],e[r]));return t}function o(t,e,n){t[e]=n}function a(t){var e=I;return I=t,e}function u(t){return JSON.parse(t)}function s(t){return JSON.stringify(t)}function c(t,e){var n=new it(t,e);return n.subscribe.bind(n)}function l(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then(function(){t.apply(void 0,n)}).catch(function(t){e&&e(t)})}}function f(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}function h(){}function p(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=t+" failed: ";return i+=r+" argument "}function d(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(p(t,e,r)+"must be a valid firebase namespace.")}function y(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(p(t,e,r)+"must be a valid function.")}function v(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(p(t,e,r)+"must be a valid context object.")}Object.defineProperty(e,"__esModule",{value:!0});var g=n(159),_={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},m=function(t,e){if(!t)throw b(e)},b=function(t){return new Error("Firebase Database ("+_.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},w=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},E=function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var o=t[n++],a=t[n++],u=t[n++],s=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&u)-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{var o=t[n++],a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")},T={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,u=a?t[i+1]:0,s=i+2<t.length,c=s?t[i+2]:0,l=o>>2,f=(3&o)<<4|u>>4,h=(15&u)<<2|c>>6,p=63&c;s||(p=64,a||(h=64)),r.push(n[l],n[f],n[h],n[p])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(w(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):E(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length,u=a?n[t.charAt(i)]:0;++i;var s=i<t.length,c=s?n[t.charAt(i)]:64;++i;var l=i<t.length,f=l?n[t.charAt(i)]:64;if(++i,null==o||null==u||null==c||null==f)throw Error();var h=o<<2|u>>4;if(r.push(h),64!=c){var p=u<<4&240|c>>2;if(r.push(p),64!=f){var d=c<<6&192|f;r.push(d)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},S=function(t){var e=w(t);return T.encodeByteArray(e,!0)},O=function(t){try{return T.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null},C=function(){function t(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}(),k=function(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""},x=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(k())},P=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},N=function(){return _.NODE_CLIENT===!0||_.NODE_ADMIN===!0},A="FirebaseError",I=Error.captureStackTrace,R=function(){function t(t,e){if(this.code=t,this.message=e,I)I(this,M.prototype.create);else{var n=Error.apply(this,arguments);this.name=A,Object.defineProperty(this,"stack",{get:function(){return n.stack}})}}return t}();R.prototype=Object.create(Error.prototype),R.prototype.constructor=R,R.prototype.name=A;var M=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n,this.pattern=/\{\$([^}]+)}/g}return t.prototype.create=function(t,e){void 0===e&&(e={});var n,r=this.errors[t],i=this.service+"/"+t;n=void 0===r?"Error":r.replace(this.pattern,function(t,n){var r=e[n];return void 0!==r?r.toString():"<"+n+"?>"}),n=this.serviceName+": "+n+" ("+i+").";var o=new R(i,n);for(var a in e)e.hasOwnProperty(a)&&"_"!==a.slice(-1)&&(o[a]=e[a]);return o},t}(),D=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=u(O(o[0])||""),n=u(O(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(t){}return{header:e,claims:n,data:r,signature:i}},L=function(t){var e,n,r=D(t).claims,i=Math.floor((new Date).getTime()/1e3);return"object"==typeof r&&(r.hasOwnProperty("nbf")?e=r.nbf:r.hasOwnProperty("iat")&&(e=r.iat),n=r.hasOwnProperty("exp")?r.exp:e+86400),i&&e&&n&&i>=e&&i<=n},j=function(t){var e=D(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},F=function(t){var e=D(t),n=e.claims;return!!e.signature&&!!n&&"object"==typeof n&&n.hasOwnProperty("iat")},U=function(t){var e=D(t).claims;return"object"==typeof e&&e.admin===!0},V=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},B=function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]},W=function(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])},q=function(t,e){return W(e,function(e,n){t[e]=n}),t},H=function(t){return q({},t)},z=function(t){return"object"==typeof t&&null!==t},G=function(t){for(var e in t)return!1;return!0},K=function(t){var e=0;for(var n in t)e++;return e},Y=function(t,e,n){var r={};for(var i in t)r[i]=e.call(n,t[i],i,t);return r},X=function(t,e,n){for(var r in t)if(e.call(n,t[r],r,t))return r},Q=function(t,e,n){var r=X(t,e,n);return r&&t[r]},$=function(t){for(var e in t)return e},J=function(t){var e=[],n=0;for(var r in t)e[n++]=t[r];return e},Z=function(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&!e(n,t[n]))return!1;return!0},tt=function(t){var e=[];return W(t,function(t,n){Array.isArray(n)?n.forEach(function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}),e.length?"&"+e.join("&"):""},et=function(t){var e={},n=t.replace(/^\?/,"").split("&");return n.forEach(function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}}),e},nt=function(){function t(){this.blockSize=-1}return t}(),rt=function(t){function e(){var e=t.call(this)||this;e.chain_=[],e.buf_=[],e.W_=[],e.pad_=[],e.inbuf_=0,e.total_=0,e.blockSize=64,e.pad_[0]=128;for(var n=1;n<e.blockSize;++n)e.pad_[n]=0;return e.reset(),e}return g.__extends(e,t),e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(var r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(var r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}for(var o,a,u=this.chain_[0],s=this.chain_[1],c=this.chain_[2],l=this.chain_[3],f=this.chain_[4],r=0;r<80;r++){r<40?r<20?(o=l^s&(c^l),a=1518500249):(o=s^c^l,a=1859775393):r<60?(o=s&c|l&(s|c),a=2400959708):(o=s^c^l,a=3395469782);var i=(u<<5|u>>>27)+o+f+a+n[r]&4294967295;f=l,l=c,c=4294967295&(s<<30|s>>>2),s=u,u=i}this.chain_[0]=this.chain_[0]+u&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},e.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0==o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++o,++r,o==this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++o,++r,o==this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},e.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);for(var r=0,n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},e}(nt),it=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");r=f(t,["next","error","complete"])?t:{next:t,error:e,complete:n},void 0===r.next&&(r.next=h),void 0===r.error&&(r.error=h),void 0===r.complete&&(r.complete=h);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}(),ot=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i){var o=t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".";throw new Error(o)}},at=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;r++,m(r<t.length,"Surrogate pair missing trail surrogate.");var a=t.charCodeAt(r)-56320;i=65536+(o<<10)+a}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},ut=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};e.assert=m,e.assertionError=b,e.base64=T,e.base64Decode=O,e.base64Encode=S,e.CONSTANTS=_,e.deepCopy=r,e.deepExtend=i,e.patchProperty=o,e.Deferred=C,e.getUA=k,e.isMobileCordova=x,e.isNodeSdk=N,e.isReactNative=P,e.ErrorFactory=M,e.FirebaseError=R,e.patchCapture=a,e.jsonEval=u,e.stringify=s,e.decode=D,e.isAdmin=U,e.issuedAtTime=j,e.isValidFormat=F,e.isValidTimestamp=L,e.clone=H,e.contains=V,e.every=Z,e.extend=q,e.findKey=X,e.findValue=Q,e.forEach=W,e.getAnyKey=$,e.getCount=K,e.getValues=J,e.isEmpty=G,e.isNonNullObject=z,e.map=Y,e.safeGet=B,e.querystring=tt,e.querystringDecode=et,e.Sha1=rt,e.async=l,e.createSubscribe=c,e.errorPrefix=p,e.validateArgCount=ot,e.validateCallback=y,e.validateContextObject=v,e.validateNamespace=d,e.stringLength=ut,e.stringToByteArray=at},,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){!function(t,n){n(e)}(this,function(t){"use strict";function e(){}function n(t,n){var r=new e;if(t instanceof e)t.each(function(t,e){r.set(e,t)});else if(Array.isArray(t)){var i,o=-1,a=t.length;if(null==n)for(;++o<a;)r.set(o,t[o]);else for(;++o<a;)r.set(n(i=t[o],o,t),i)}else if(t)for(var u in t)r.set(u,t[u]);return r}function r(){return{}}function i(t,e,n){t[e]=n}function o(){return n()}function a(t,e,n){t.set(e,n)}function u(){}function s(t,e){var n=new u;if(t instanceof u)t.each(function(t){n.add(t)});else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}var c="$";e.prototype=n.prototype={constructor:e,has:function(t){return c+t in this},get:function(t){return this[c+t]},set:function(t,e){return this[c+t]=e,this},remove:function(t){var e=c+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===c&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===c&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===c&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===c&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===c&&++t;return t},empty:function(){for(var t in this)if(t[0]===c)return!1;return!0},each:function(t){for(var e in this)e[0]===c&&t(this[e],e.slice(1),this)}};var l=function(){function t(e,r,i,o){if(r>=l.length)return null!=u&&e.sort(u),null!=s?s(e):e;for(var a,c,f,h=-1,p=e.length,d=l[r++],y=n(),v=i();++h<p;)(f=y.get(a=d(c=e[h])+""))?f.push(c):y.set(a,[c]);return y.each(function(e,n){o(v,n,t(e,r,i,o))}),v}function e(t,n){if(++n>l.length)return t;var r,i=f[n-1];return null!=s&&n>=l.length?r=t.entries():(r=[],t.each(function(t,i){r.push({key:i,values:e(t,n)})})),null!=i?r.sort(function(t,e){return i(t.key,e.key)}):r}var u,s,c,l=[],f=[];return c={object:function(e){return t(e,0,r,i)},map:function(e){return t(e,0,o,a)},entries:function(n){return e(t(n,0,o,a),0)},key:function(t){return l.push(t),c},sortKeys:function(t){return f[l.length-1]=t,c},sortValues:function(t){return u=t,c},rollup:function(t){return s=t,c}}},f=n.prototype;u.prototype=s.prototype={constructor:u,has:f.has,add:function(t){return t+="",this[c+t]=t,this},remove:f.remove,clear:f.clear,values:f.keys,size:f.size,empty:f.empty,each:f.each};var h=function(t){var e=[];for(var n in t)e.push(n);return e},p=function(t){var e=[];for(var n in t)e.push(t[n]);return e},d=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e};t.nest=l,t.set=s,t.map=n,t.keys=h,t.values=p,t.entries=d,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e,n){!function(t,r){r(e,n(30))}(this,function(t,e){"use strict";function n(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}function r(t,e){return function(n){return t+n*e}}function i(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function o(t,e){var n=e-t;return n?r(t,n>180||n<-180?n-360*Math.round(n/360):n):k(isNaN(t)?e:t)}function a(t){return 1===(t=+t)?u:function(e,n){return n-e?i(e,n,t):k(isNaN(e)?n:e)}}function u(t,e){var n=e-t;return n?r(t,n):k(isNaN(t)?e:t)}function s(t){return function(n){var r,i,o=n.length,a=new Array(o),u=new Array(o),s=new Array(o);for(r=0;r<o;++r)i=e.rgb(n[r]),a[r]=i.r||0,u[r]=i.g||0,s[r]=i.b||0;return a=t(a),u=t(u),s=t(s),i.opacity=1,function(t){return i.r=a(t),i.g=u(t),i.b=s(t),i+""}}}function c(t){return function(){return t}}function l(t){return function(e){return t(e)+""}}function f(t){return"none"===t?B:(w||(w=document.createElement("DIV"),E=document.documentElement,T=document.defaultView),w.style.transform=t,t=T.getComputedStyle(E.appendChild(w),null).getPropertyValue("transform"),E.removeChild(w),t=t.slice(7,-1).split(","),W(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}function h(t){return null==t?B:(S||(S=document.createElementNS("http://www.w3.org/2000/svg","g")),S.setAttribute("transform",t),(t=S.transform.baseVal.consolidate())?(t=t.matrix,W(t.a,t.b,t.c,t.d,t.e,t.f)):B)}function p(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}function o(t,r,i,o,a,u){if(t!==i||r!==o){var s=a.push("translate(",null,e,null,n);u.push({i:s-4,x:R(t,i)},{i:s-2,x:R(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}function a(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:R(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}function u(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:R(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}function s(t,e,n,r,o,a){if(t!==n||e!==r){var u=o.push(i(o)+"scale(",null,",",null,")");a.push({i:u-4,x:R(t,n)},{i:u-2,x:R(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}return function(e,n){var r=[],i=[];return e=t(e),n=t(n),o(e.translateX,e.translateY,n.translateX,n.translateY,r,i),a(e.rotate,n.rotate,r,i),u(e.skewX,n.skewX,r,i),s(e.scaleX,e.scaleY,n.scaleX,n.scaleY,r,i),e=n=null,function(t){for(var e,n=-1,o=i.length;++n<o;)r[(e=i[n]).i]=e.x(t);return r.join("")}}}function d(t){return((t=Math.exp(t))+1/t)/2}function y(t){return((t=Math.exp(t))-1/t)/2}function v(t){return((t=Math.exp(2*t))-1)/(t+1)}function g(t){return function(n,r){var i=t((n=e.hsl(n)).h,(r=e.hsl(r)).h),o=u(n.s,r.s),a=u(n.l,r.l),s=u(n.opacity,r.opacity);return function(t){return n.h=i(t),n.s=o(t),n.l=a(t),n.opacity=s(t),n+""}}}function _(t,n){var r=u((t=e.lab(t)).l,(n=e.lab(n)).l),i=u(t.a,n.a),o=u(t.b,n.b),a=u(t.opacity,n.opacity);return function(e){return t.l=r(e),t.a=i(e),t.b=o(e),t.opacity=a(e),t+""}}function m(t){return function(n,r){var i=t((n=e.hcl(n)).h,(r=e.hcl(r)).h),o=u(n.c,r.c),a=u(n.l,r.l),s=u(n.opacity,r.opacity);return function(t){return n.h=i(t),n.c=o(t),n.l=a(t),n.opacity=s(t),n+""}}}function b(t){return function n(r){function i(n,i){var o=t((n=e.cubehelix(n)).h,(i=e.cubehelix(i)).h),a=u(n.s,i.s),s=u(n.l,i.l),c=u(n.opacity,i.opacity);return function(t){return n.h=o(t),n.s=a(t),n.l=s(Math.pow(t,r)),n.opacity=c(t),n+""}}return r=+r,i.gamma=n,i}(1)}var w,E,T,S,O=function(t){var e=t.length-1;return function(r){var i=r<=0?r=0:r>=1?(r=1,e-1):Math.floor(r*e),o=t[i],a=t[i+1],u=i>0?t[i-1]:2*o-a,s=i<e-1?t[i+2]:2*a-o;return n((r-i/e)*e,u,o,a,s)}},C=function(t){var e=t.length;return function(r){var i=Math.floor(((r%=1)<0?++r:r)*e),o=t[(i+e-1)%e],a=t[i%e],u=t[(i+1)%e],s=t[(i+2)%e];return n((r-i/e)*e,o,a,u,s)}},k=function(t){return function(){return t}},x=function t(n){function r(t,n){var r=i((t=e.rgb(t)).r,(n=e.rgb(n)).r),o=i(t.g,n.g),a=i(t.b,n.b),s=u(t.opacity,n.opacity);return function(e){return t.r=r(e),t.g=o(e),t.b=a(e),t.opacity=s(e),t+""}}var i=a(n);return r.gamma=t,r}(1),P=s(O),N=s(C),A=function(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=F(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}},I=function(t,e){var n=new Date;return t=+t,e-=t,function(r){return n.setTime(t+e*r),n}},R=function(t,e){return t=+t,e-=t,function(n){return t+e*n}},M=function(t,e){var n,r={},i={};null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={});for(n in e)n in t?r[n]=F(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}},D=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,L=new RegExp(D.source,"g"),j=function(t,e){var n,r,i,o=D.lastIndex=L.lastIndex=0,a=-1,u=[],s=[];for(t+="",e+="";(n=D.exec(t))&&(r=L.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),u[a]?u[a]+=i:u[++a]=i),(n=n[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,s.push({i:a,x:R(n,r)})),o=L.lastIndex;return o<e.length&&(i=e.slice(o),u[a]?u[a]+=i:u[++a]=i),u.length<2?s[0]?l(s[0].x):c(e):(e=s.length,function(t){for(var n,r=0;r<e;++r)u[(n=s[r]).i]=n.x(t);return u.join("")})},F=function(t,n){var r,i=typeof n;return null==n||"boolean"===i?k(n):("number"===i?R:"string"===i?(r=e.color(n))?(n=r,x):j:n instanceof e.color?x:n instanceof Date?I:Array.isArray(n)?A:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?M:R)(t,n)},U=function(t,e){return t=+t,e-=t,function(n){return Math.round(t+e*n)}},V=180/Math.PI,B={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},W=function(t,e,n,r,i,o){var a,u,s;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(s=t*n+e*r)&&(n-=t*s,r-=e*s),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,s/=u),t*r<e*n&&(t=-t,e=-e,s=-s,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*V,skewX:Math.atan(s)*V,scaleX:a,scaleY:u}},q=p(f,"px, ","px)","deg)"),H=p(h,", ",")",")"),z=Math.SQRT2,G=2,K=4,Y=1e-12,X=function(t,e){var n,r,i=t[0],o=t[1],a=t[2],u=e[0],s=e[1],c=e[2],l=u-i,f=s-o,h=l*l+f*f;if(h<Y)r=Math.log(c/a)/z,n=function(t){return[i+t*l,o+t*f,a*Math.exp(z*t*r)]};else{var p=Math.sqrt(h),g=(c*c-a*a+K*h)/(2*a*G*p),_=(c*c-a*a-K*h)/(2*c*G*p),m=Math.log(Math.sqrt(g*g+1)-g),b=Math.log(Math.sqrt(_*_+1)-_);r=(b-m)/z,n=function(t){var e=t*r,n=d(m),u=a/(G*p)*(n*v(z*e+m)-y(m));return[i+u*l,o+u*f,a*n/d(z*e+m)]}}return n.duration=1e3*r,n},Q=g(o),$=g(u),J=m(o),Z=m(u),tt=b(o),et=b(u),nt=function(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n};t.interpolate=F,t.interpolateArray=A,t.interpolateBasis=O,t.interpolateBasisClosed=C,t.interpolateDate=I,t.interpolateNumber=R,t.interpolateObject=M,t.interpolateRound=U,t.interpolateString=j,t.interpolateTransformCss=q,t.interpolateTransformSvg=H,t.interpolateZoom=X,t.interpolateRgb=x,t.interpolateRgbBasis=P,t.interpolateRgbBasisClosed=N,t.interpolateHsl=Q,t.interpolateHslLong=$,t.interpolateLab=_,t.interpolateHcl=J,t.interpolateHclLong=Z,t.interpolateCubehelix=tt,t.interpolateCubehelixLong=et,t.quantize=nt,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e,n){function r(t){return null===t||void 0===t}function i(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length)&&("function"==typeof t.copy&&"function"==typeof t.slice&&!(t.length>0&&"number"!=typeof t[0]))}function o(t,e,n){var o,l;if(r(t)||r(e))return!1;if(t.prototype!==e.prototype)return!1;if(s(t))return!!s(e)&&(t=a.call(t),e=a.call(e),c(t,e,n));if(i(t)){if(!i(e))return!1;if(t.length!==e.length)return!1;for(o=0;o<t.length;o++)if(t[o]!==e[o])return!1;return!0}try{var f=u(t),h=u(e)}catch(t){return!1}if(f.length!=h.length)return!1;for(f.sort(),h.sort(),o=f.length-1;o>=0;o--)if(f[o]!=h[o])return!1;for(o=f.length-1;o>=0;o--)if(l=f[o],!c(t[l],e[l],n))return!1;return typeof t==typeof e}var a=Array.prototype.slice,u=n(121),s=n(120),c=t.exports=function(t,e,n){return n||(n={}),t===e||(t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():!t||!e||"object"!=typeof t&&"object"!=typeof e?n.strict?t===e:t==e:o(t,e,n));
}},function(t,e){function n(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function r(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Object.prototype.hasOwnProperty.call(t,"callee")&&!Object.prototype.propertyIsEnumerable.call(t,"callee")||!1}var i="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();e=t.exports=i?n:r,e.supported=n,e.unsupported=r},function(t,e){function n(t){var e=[];for(var n in t)e.push(n);return e}e=t.exports="function"==typeof Object.keys?Object.keys:n,e.shim=n},,,,,,,function(t,e,n){(function(e){for(var r=n(82),i="undefined"==typeof window?e:window,o=["moz","webkit"],a="AnimationFrame",u=i["request"+a],s=i["cancel"+a]||i["cancelRequest"+a],c=0;!u&&c<o.length;c++)u=i[o[c]+"Request"+a],s=i[o[c]+"Cancel"+a]||i[o[c]+"CancelRequest"+a];if(!u||!s){var l=0,f=0,h=[],p=1e3/60;u=function(t){if(0===h.length){var e=r(),n=Math.max(0,p-(e-l));l=n+e,setTimeout(function(){var t=h.slice(0);h.length=0;for(var e=0;e<t.length;e++)if(!t[e].cancelled)try{t[e].callback(l)}catch(t){setTimeout(function(){throw t},0)}},Math.round(n))}return h.push({handle:++f,callback:t,cancelled:!1}),f},s=function(t){for(var e=0;e<h.length;e++)h[e].handle===t&&(h[e].cancelled=!0)}}t.exports=function(t){return u.call(i,t)},t.exports.cancel=function(){s.apply(i,arguments)},t.exports.polyfill=function(t){t||(t=i),t.requestAnimationFrame=u,t.cancelAnimationFrame=s}}).call(e,function(){return this}())},,,,,,,,,,,,,,,,,function(t,e){"use strict";function n(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=0);return e}e.__esModule=!0,e.default=n,t.exports=e.default},function(t,e){"use strict";function n(t,e,n){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(0!==n[r])return!1;var i="number"==typeof e[r]?e[r]:e[r].val;if(t[r]!==i)return!1}return!0}e.__esModule=!0,e.default=n,t.exports=e.default},function(t,e){"use strict";function n(t,e,n,i,o,a,u){var s=-o*(e-i),c=-a*n,l=s+c,f=n+l*t,h=e+f*t;return Math.abs(f)<u&&Math.abs(h-i)<u?(r[0]=i,r[1]=0,r):(r[0]=h,r[1]=f,r)}e.__esModule=!0,e.default=n;var r=[0,0];t.exports=e.default},,,,function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(1),l=r(c),f=n(78),h=n(2),p=r(h),d=n(6),y=r(d),v=n(506),g=r(v),_=n(7),m=r(_),b="rv-xy-manipulable-axis rv-xy-plot__axis",w=["xRange","yRange","xDomain","yDomain","width","height","marginLeft","marginTop","marginRight","marginBottom","tickSize","tickTotal","tickSizeInner","tickSizeOuter"],E=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),s(e,[{key:"render",value:function(){var t=this.props,n=t.animation,r=t.className,i=t.marginLeft,o=t.marginTop,a=t.axisStart,s=t.axisEnd,c=t.axisDomain,f=t.numberOfTicks,h=t.tickValue,p=t.tickSize,d=t.style;if(n)return l.default.createElement(m.default,u({},this.props,{animatedProps:w}),l.default.createElement(e,u({},this.props,{animation:null})));var y=this._getAttributeFunctor("x"),v=this._getAttributeFunctor("y");return l.default.createElement("g",{className:b+" "+r,ref:"container",transform:"translate("+i+","+o+")"},l.default.createElement("line",u({},u({x1:y({x:a.x}),x2:y({x:s.x}),y1:v({y:a.y}),y2:v({y:s.y})},d.line),{className:"rv-xy-plot__axis__line"})),l.default.createElement("g",{className:"rv-xy-manipulable-axis__ticks"},(0,g.default)({axisDomain:c,axisEnd:{x:y(s),y:v(s)},axisStart:{x:y(a),y:v(a)},numberOfTicks:f,tickValue:h,tickSize:p,style:d})))}}]),e}(y.default),T=(0,f.format)(".2r");E.defaultProps={className:"",numberOfTicks:10,tickValue:function(t){return T(t)},tickSize:5,style:{line:{strokeWidth:1},ticks:{strokeWidth:2},text:{}}},E.propTypes=u({},y.default.propTypes,{axisDomain:p.default.arrayOf(p.default.number).isRequired,axisEnd:p.default.shape({x:p.default.oneOfType([p.default.number,p.default.string]),y:p.default.oneOfType([p.default.number,p.default.string])}).isRequired,axisStart:p.default.shape({x:p.default.oneOfType([p.default.number,p.default.string]),y:p.default.oneOfType([p.default.number,p.default.string])}).isRequired,className:p.default.string,numberOfTicks:p.default.number,tickValue:p.default.func,tickSize:p.default.number,style:p.default.shape({line:p.default.object,ticks:p.default.object,text:p.default.object})}),E.displayName="DecorativeAxis",e.default=E},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=n(1),f=r(l),h=n(2),p=r(h),d=n(12),y=n(7),v=r(y),g=n(18),_=g.DIRECTION.VERTICAL,m=g.DIRECTION.HORIZONTAL,b={direction:p.default.oneOf([_,m]),attr:p.default.string.isRequired,width:p.default.number,height:p.default.number,top:p.default.number,left:p.default.number,style:p.default.object,tickValues:p.default.array,tickTotal:p.default.number,animation:y.AnimationPropType,marginTop:p.default.number,marginBottom:p.default.number,marginLeft:p.default.number,marginRight:p.default.number,innerWidth:p.default.number,innerHeight:p.default.number},w={direction:_},E=["xRange","yRange","xDomain","yDomain","width","height","marginLeft","marginTop","marginRight","marginBottom","tickTotal"],T=function(t){function e(){return o(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return u(e,t),c(e,[{key:"_getDefaultProps",value:function(){var t=this.props,e=t.innerWidth,n=t.innerHeight,r=t.marginTop,i=t.marginLeft,o=t.direction;return{left:i,top:r,width:e,height:n,tickTotal:(0,g.getTicksTotalFromSize)(o===_?e:n)}}},{key:"render",value:function(){var t=this.props.animation;if(t)return f.default.createElement(v.default,s({},this.props,{animatedProps:E}),f.default.createElement(e,s({},this.props,{animation:null})));var n=s({},this._getDefaultProps(),this.props),r=n.attr,o=n.direction,a=n.width,u=n.height,c=n.style,l=n.tickTotal,h=n.tickValues,p=n.top,y=n.left,m=o===_,b=m?"y":"x",w=m?"x":"y",T=m?u:a,S=(0,d.getAttributeScale)(n,r),O=(0,g.getTickValues)(S,l,h);return f.default.createElement("g",{transform:"translate("+y+","+p+")",className:"rv-xy-plot__grid-lines"},O.map(function(t,e){var n,r=S(t),o=(n={},i(n,w+"1",r),i(n,w+"2",r),i(n,b+"1",0),i(n,b+"2",T),n);return f.default.createElement("line",s({},o,{key:e,className:"rv-xy-plot__grid-lines__line",style:c}))}))}}]),e}(l.PureComponent);T.displayName="GridLines",T.defaultProps=w,T.propTypes=b,T.requiresSVG=!0,e.default=T},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t){var e=t.radius,n=t.angle,r=t.angle0,i=-1*n+Math.PI/2,o=-1*r+Math.PI/2;return c({},t,{x:e*Math.cos(i),y:e*Math.sin(i),angle:i,angle0:o})}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l=n(1),f=r(l),h=n(2),p=r(h),d=n(7),y=r(d),v=n(11),g=n(61),_=n(6),m=r(_),b=n(12),w="rv-xy-plot__series rv-xy-plot__series--arc",E=["radius","angle"],T=c({},m.default.defaultProps,{center:{x:0,y:0},arcClassName:"",className:"",style:{}}),S=function(t){function e(t){i(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),r=n._getAllScaleProps(t);return n.state={scaleProps:r},n}return a(e,t),s(e,[{key:"componentWillReceiveProps",value:function(t){this.setState({scaleProps:this._getAllScaleProps(t)})}},{key:"_getAllScaleProps",value:function(t){var e=this._getDefaultScaleProps(t),n=(0,b.extractScalePropsFromProps)(t,E),r=(0,b.getMissingScaleProps)(c({},e,n),t.data,E);return c({},e,n,r)}},{key:"_getDefaultScaleProps",value:function(t){var e=t.innerWidth,n=t.innerHeight,r=Math.min(e/2,n/2);return{radiusRange:[0,r],_radiusValue:r,angleType:"literal"}}},{key:"render",value:function(){var t=this,n=this.props,r=n.arcClassName,i=n.animation,o=n.className,a=n.center,s=n.data,l=n.disableSeries,h=n.hideSeries,p=n.marginLeft,d=n.marginTop,_=n.style;if(!s)return null;if(i){var m=s.map(function(t){return c({},t)});return f.default.createElement("g",{className:"rv-xy-plot__series--arc__animation-wrapper"},f.default.createElement(y.default,c({},this.props,{animatedProps:v.ANIMATED_SERIES_PROPS,data:m}),f.default.createElement(e,c({},this.props,{animation:null,disableSeries:!0,data:m}))),f.default.createElement(e,c({},this.props,{animation:null,hideSeries:!0,style:{stroke:"red"}})))}var E=this.state.scaleProps,T=E.radiusDomain,S=(0,b.getAttributeFunctor)(E,"radius"),O=(0,b.getAttr0Functor)(E,"radius"),C=(0,b.getAttributeFunctor)(E,"angle"),k=(0,b.getAttr0Functor)(E,"angle"),x=this._getAttributeFunctor("fill")||this._getAttributeFunctor("color"),P=this._getAttributeFunctor("stroke")||this._getAttributeFunctor("color"),N=this._getAttributeFunctor("opacity"),A=this._getAttributeFunctor("x"),I=this._getAttributeFunctor("y");return f.default.createElement("g",{className:w+" "+o,onMouseOver:this._seriesMouseOverHandler,onMouseOut:this._seriesMouseOutHandler,onClick:this._seriesClickHandler,onContextMenu:this._seriesRightClickHandler,ref:"container",opacity:h?0:1,pointerEvents:l?"none":"all",transform:"translate("+(p+A(a))+","+(d+I(a))+")"},s.map(function(e,n){var i=T[1]===T[0],o={innerRadius:i?0:O(e),outerRadius:S(e),startAngle:k(e)||0,endAngle:C(e)},a=(0,g.arc)(),s=e.style||{},l=e.className||"";return f.default.createElement("path",{style:c({opacity:N&&N(e),stroke:P&&P(e),fill:x&&x(e)},_,s),onClick:function(n){return t._valueClickHandler(u(e),n)},onContextMenu:function(n){return t._valueRightClickHandler(u(e),n)},onMouseOver:function(n){return t._valueMouseOverHandler(u(e),n)},onMouseOut:function(n){return t._valueMouseOutHandler(u(e),n)},key:n,className:w+"-path "+r+" "+l,d:a(o)})}))}}]),e}(m.default);S.propTypes=c({},m.default.propTypes,(0,b.getScalePropTypesByAttribute)("radius"),(0,b.getScalePropTypesByAttribute)("angle"),{center:p.default.shape({x:p.default.number,y:p.default.number}),arcClassName:p.default.string}),S.defaultProps=T,S.displayName="ArcSeries",e.default=S},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=n(1),f=i(l),h=n(2),p=i(h),d=n(61),y=r(d),v=n(7),g=i(v),_=n(10),m=n(11),b=n(66),w=n(6),E=i(w),T="rv-xy-plot__series rv-xy-plot__series--line",S={dashed:"6, 2",solid:null},O=function(t){function e(){return o(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return u(e,t),c(e,[{key:"_renderLine",value:function(t,e,n,r,i){var o=y.line();return null!==r&&("string"==typeof r&&y[r]?o=o.curve(y[r]):"function"==typeof r&&(o=o.curve(r))),o=o.defined(i),(o=o.x(e).y(n))(t)}},{key:"render",value:function(){var t=this.props,n=t.animation,r=t.className,i=t.data;if(this.props.nullAccessor&&(0,b.warning)("nullAccessor has been renamed to getNull",!0),!i)return null;if(n)return f.default.createElement(g.default,s({},this.props,{animatedProps:m.ANIMATED_SERIES_PROPS}),f.default.createElement(e,s({},this.props,{animation:null})));var o=this.props,a=o.curve,u=o.marginLeft,c=o.marginTop,l=o.strokeDasharray,h=o.strokeStyle,p=o.strokeWidth,d=o.style,y=this._getAttributeFunctor("x"),v=this._getAttributeFunctor("y"),w=this._getAttributeValue("stroke")||this._getAttributeValue("color"),E=this._getAttributeValue("opacity"),O=Number.isFinite(E)?E:_.DEFAULT_OPACITY,C=this.props.nullAccessor||this.props.getNull,k=this._renderLine(i,y,v,a,C);return f.default.createElement("path",{d:k,className:T+" "+r,transform:"translate("+u+","+c+")",onMouseOver:this._seriesMouseOverHandler,onMouseOut:this._seriesMouseOutHandler,onClick:this._seriesClickHandler,onContextMenu:this._seriesRightClickHandler,style:s({opacity:O,strokeDasharray:S[h]||l,strokeWidth:p,stroke:w},d)})}}]),e}(E.default);O.displayName="LineSeries",O.propTypes=s({},E.default.propTypes,{strokeStyle:p.default.oneOf(Object.keys(S)),curve:p.default.oneOfType([p.default.string,p.default.func]),getNull:p.default.func}),O.defaultProps=s({},E.default.defaultProps,{strokeStyle:"solid",style:{},opacity:1,curve:null,className:"",getNull:function(){return!0}}),e.default=O},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(1),l=r(c),f=n(2),h=r(f),p=n(7),d=r(p),y=n(11),v=n(66),g=n(10),_=n(6),m=r(_),b="rv-xy-plot__series rv-xy-plot__series--mark",w=1,E=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),s(e,[{key:"_renderCircle",value:function(t,e,n,r,i){var o=this,a=i.fill,s=i.opacity,c=i.size,f=i.stroke,h=i.x,p=i.y,d={r:c?c(t):g.DEFAULT_SIZE,cx:h(t),cy:p(t),style:u({opacity:s?s(t):g.DEFAULT_OPACITY,stroke:f&&f(t),fill:a&&a(t),strokeWidth:n||w},r),key:e,onClick:function(e){return o._valueClickHandler(t,e)},onContextMenu:function(e){return o._valueRightClickHandler(t,e)},onMouseOver:function(e){return o._valueMouseOverHandler(t,e)},onMouseOut:function(e){return o._valueMouseOutHandler(t,e)}};return l.default.createElement("circle",d)}},{key:"render",value:function(){var t=this,n=this.props,r=n.animation,i=n.className,o=n.data,a=n.marginLeft,s=n.marginTop,c=n.strokeWidth,f=n.style;this.props.nullAccessor&&(0,v.warning)("nullAccessor has been renamed to getNull",!0);var h=this.props.nullAccessor||this.props.getNull;if(!o)return null;if(r)return l.default.createElement(d.default,u({},this.props,{animatedProps:y.ANIMATED_SERIES_PROPS}),l.default.createElement(e,u({},this.props,{animation:null})));var p={fill:this._getAttributeFunctor("fill")||this._getAttributeFunctor("color"),opacity:this._getAttributeFunctor("opacity"),size:this._getAttributeFunctor("size"),stroke:this._getAttributeFunctor("stroke")||this._getAttributeFunctor("color"),x:this._getAttributeFunctor("x"),y:this._getAttributeFunctor("y")};return l.default.createElement("g",{className:b+" "+i,ref:"container",transform:"translate("+a+","+s+")"},o.map(function(e,n){return h(e)&&t._renderCircle(e,n,c,f,p)}))}}]),e}(m.default);E.displayName="MarkSeries",E.propTypes=u({},m.default.propTypes,{getNull:h.default.func,strokeWidth:h.default.number}),E.defaultProps={getNull:function(){return!0}},e.default=E},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(1),l=r(c),f=n(7),h=r(f),p=n(11),d=n(6),y=r(d),v="rv-xy-plot__series rv-xy-plot__series--polygon",g="#12939A",_=function(t,e,n){return t.reduce(function(t,r,i){return t+" "+(i?"L":"M")+e(r)+" "+n(r)},"")+" Z"},m=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),s(e,[{key:"render",value:function(){var t=this.props,n=t.animation,r=t.color,i=t.className,o=t.data,a=t.marginLeft,s=t.marginTop,c=t.style;if(!o)return null;if(n)return l.default.createElement(h.default,u({},this.props,{animatedProps:p.ANIMATED_SERIES_PROPS}),l.default.createElement(e,u({},this.props,{animation:null})));var f=this._getAttributeFunctor("x"),d=this._getAttributeFunctor("y");return l.default.createElement("path",{className:v+" "+i,onMouseOver:this._seriesMouseOverHandler,onMouseOut:this._seriesMouseOutHandler,onClick:this._seriesClickHandler,onContextMenu:this._seriesRightClickHandler,fill:r||g,style:c,d:_(o,f,d),transform:"translate("+a+","+s+")",ref:"container"})}}],[{key:"propTypes",get:function(){return u({},y.default.propTypes)}}]),e}(y.default);m.displayName="PolygonSeries",e.default=m},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(2),l=r(c),f=n(30),h=n(10),p=n(12),d=n(6),y=r(d),v=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),s(e,[{key:"render",value:function(){return null}}],[{key:"renderLayer",value:function(t,e){var n=t.data,r=t.linePosAttr,i=t.lineSizeAttr,o=t.marginLeft,a=t.marginTop,u=t.valuePosAttr;if(n&&0!==n.length){var s=(0,p.getAttributeFunctor)(t,r),c=(0,p.getAttr0Functor)(t,r),l=(0,p.getAttributeFunctor)(t,u),d=(0,p.getAttr0Functor)(t,u),y=(0,p.getAttributeFunctor)(t,"fill")||(0,p.getAttributeFunctor)(t,"color"),v=(0,p.getAttributeFunctor)(t,"stroke")||(0,p.getAttributeFunctor)(t,"color"),g=(0,p.getAttributeFunctor)(t,"opacity");n.forEach(function(t){var n=(0,f.rgb)(y(t)),r=(0,f.rgb)(v(t)),p=g(t)||h.DEFAULT_OPACITY,_=c(t),m=Math.min(d(t),l(t)),b="x"===u?m:_,w="y"===u?m:_,E=Math.abs(s(t)-c(t)),T=Math.abs(-d(t)+l(t)),S="height"===i?E:T,O="width"===i?E:T;e.beginPath(),e.rect(b+o,w+a,O,S),e.fillStyle="rgba("+n.r+", "+n.g+", "+n.b+", "+p+")",e.fill(),e.strokeStyle="rgba("+r.r+", "+r.g+", "+r.b+", "+p+")",e.stroke()})}}},{key:"requiresSVG",get:function(){return!1}},{key:"isCanvas",get:function(){return!0}}]),e}(y.default);v.displayName="RectSeriesCanvas",v.defaultProps=u({},y.default.defaultProps,{linePosAttr:l.default.string.isRequired,valuePosAttr:l.default.string.isRequired,lineSizeAttr:l.default.string.isRequired,valueSizeAttr:l.default.string.isRequired}),v.propTypes=u({},y.default.propTypes),e.default=v},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=n(1),f=r(l),h=n(2),p=r(h),d=n(7),y=r(d),v=n(11),g=n(6),_=r(g),m="rv-xy-plot__series rv-xy-plot__series--rect",b=function(t){function e(){return o(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return u(e,t),c(e,[{key:"render",value:function(){var t=this,n=this.props,r=n.animation,o=n.className,a=n.data,u=n.linePosAttr,c=n.lineSizeAttr,l=n.marginLeft,h=n.marginTop,p=n.style,d=n.valuePosAttr,g=n.valueSizeAttr;if(!a)return null;if(r)return f.default.createElement(y.default,s({},this.props,{animatedProps:v.ANIMATED_SERIES_PROPS}),f.default.createElement(e,s({},this.props,{animation:null})));var _=this._getAttributeFunctor(u),b=this._getAttr0Functor(u),w=this._getAttributeFunctor(d),E=this._getAttr0Functor(d),T=this._getAttributeFunctor("fill")||this._getAttributeFunctor("color"),S=this._getAttributeFunctor("stroke")||this._getAttributeFunctor("color"),O=this._getAttributeFunctor("opacity");return f.default.createElement("g",{className:m+" "+o,ref:"container",transform:"translate("+l+","+h+")"},a.map(function(e,n){var r,o=(r={style:s({opacity:O&&O(e),stroke:S&&S(e),fill:T&&T(e)},p)},i(r,u,b(e)),i(r,c,Math.abs(_(e)-b(e))),i(r,d,Math.min(E(e),w(e))),i(r,g,Math.abs(-E(e)+w(e))),i(r,"onClick",function(n){return t._valueClickHandler(e,n)}),i(r,"onContextMenu",function(n){return t._valueRightClickHandler(e,n)}),i(r,"onMouseOver",function(n){return t._valueMouseOverHandler(e,n)}),i(r,"onMouseOut",function(n){return t._valueMouseOutHandler(e,n)}),i(r,"key",n),r);return f.default.createElement("rect",o)}))}}],[{key:"propTypes",get:function(){return s({},_.default.propTypes,{linePosAttr:p.default.string,valuePosAttr:p.default.string,lineSizeAttr:p.default.string,valueSizeAttr:p.default.string})}}]),e}(_.default);b.displayName="RectSeries",e.default=b},function(t,e,n){var r,i;(function(n){var o,a,u,s,c,l,f,h,p,d,y,v,g,_,m,b,w,E,T;!function(o){function a(t,e){return t!==u&&("function"==typeof Object.create?Object.defineProperty(t,"__esModule",{value:!0}):t.__esModule=!0),function(n,r){return t[n]=e?e(n,r):r}}var u="object"==typeof n?n:"object"==typeof self?self:"object"==typeof this?this:{};r=[e],i=function(t){o(a(u,a(t)))}.apply(e,r),!(void 0!==i&&(t.exports=i))}(function(t){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};o=function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)},a=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},u=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&(n[r[i]]=t[r[i]]);return n},s=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;u>=0;u--)(i=t[u])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},c=function(t,e){return function(n,r){e(n,r,t)}},l=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},f=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{s(r.next(t))}catch(t){o(t)}}function u(t){try{s(r.throw(t))}catch(t){o(t)}}function s(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,u)}s((r=r.apply(t,e||[])).next())})},h=function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=e.call(t,s)}catch(t){n=[6,t],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,u,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return u={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u},p=function(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])},d=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}},y=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},v=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(y(arguments[e]));return t},g=function(t){return this instanceof g?(this.v=t,this):new g(t)},_=function(t,e,n){function r(t){l[t]&&(c[t]=function(e){return new Promise(function(n,r){f.push([t,e,n,r])>1||i(t,e)})})}function i(t,e){try{o(l[t](e))}catch(t){s(f[0][3],t)}}function o(t){t.value instanceof g?Promise.resolve(t.value.v).then(a,u):s(f[0][2],t)}function a(t){i("next",t)}function u(t){i("throw",t)}function s(t,e){t(e),f.shift(),f.length&&i(f[0][0],f[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var c,l=n.apply(t,e||[]),f=[];return c={},r("next"),r("throw"),r("return"),c[Symbol.asyncIterator]=function(){return this},c},m=function(t){function e(e,i){t[e]&&(n[e]=function(n){return(r=!r)?{value:g(t[e](n)),done:"return"===e}:i?i(n):n})}var n,r;return n={},e("next"),e("throw",function(t){throw t}),e("return"),n[Symbol.iterator]=function(){return this},n},b=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator];return e?e.call(t):"function"==typeof d?d(t):t[Symbol.iterator]()},w=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},E=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e},T=function(t){return t&&t.__esModule?t:{
default:t}},t("__extends",o),t("__assign",a),t("__rest",u),t("__decorate",s),t("__param",c),t("__metadata",l),t("__awaiter",f),t("__generator",h),t("__exportStar",p),t("__values",d),t("__read",y),t("__spread",v),t("__await",g),t("__asyncGenerator",_),t("__asyncDelegator",m),t("__asyncValues",b),t("__makeTemplateObject",w),t("__importStar",E),t("__importDefault",T)})}).call(e,function(){return this}())},,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){!function(t,n){n(e)}(this,function(t){"use strict";function e(t,e){return t.parent===e.parent?1:2}function n(t){return t.reduce(r,0)/t.length}function r(t,e){return t+e.x}function i(t){return 1+t.reduce(o,0)}function o(t,e){return Math.max(t,e.y)}function a(t){for(var e;e=t.children;)t=e[0];return t}function u(t){for(var e;e=t.children;)t=e[e.length-1];return t}function s(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;--r>=0;)e+=n[r].value;else e=1;t.value=e}function c(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}function l(t,e){var n,r,i,o,a,u=new y(t),s=+t.value&&(u.value=t.value),c=[u];for(null==e&&(e=h);n=c.pop();)if(s&&(n.value=+n.data.value),(i=e(n.data))&&(a=i.length))for(n.children=new Array(a),o=a-1;o>=0;--o)c.push(r=n.children[o]=new y(i[o])),r.parent=n,r.depth=n.depth+1;return u.eachBefore(d)}function f(){return l(this).eachBefore(p)}function h(t){return t.children}function p(t){t.data=t.data.data}function d(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function y(t){this.data=t,this.depth=this.height=0,this.parent=null}function v(t){for(var e,n,r=t.length;r;)n=Math.random()*r--|0,e=t[r],t[r]=t[n],t[n]=e;return t}function g(t,e){var n,r;if(b(e,t))return[e];for(n=0;n<t.length;++n)if(_(e,t[n])&&b(T(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(_(T(t[n],t[r]),e)&&_(T(t[n],e),t[r])&&_(T(t[r],e),t[n])&&b(S(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function _(t,e){var n=t.r-e.r,r=e.x-t.x,i=e.y-t.y;return n<0||n*n<r*r+i*i}function m(t,e){var n=t.r-e.r+1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function b(t,e){for(var n=0;n<e.length;++n)if(!m(t,e[n]))return!1;return!0}function w(t){switch(t.length){case 1:return E(t[0]);case 2:return T(t[0],t[1]);case 3:return S(t[0],t[1],t[2])}}function E(t){return{x:t.x,y:t.y,r:t.r}}function T(t,e){var n=t.x,r=t.y,i=t.r,o=e.x,a=e.y,u=e.r,s=o-n,c=a-r,l=u-i,f=Math.sqrt(s*s+c*c);return{x:(n+o+s/f*l)/2,y:(r+a+c/f*l)/2,r:(f+i+u)/2}}function S(t,e,n){var r=t.x,i=t.y,o=t.r,a=e.x,u=e.y,s=e.r,c=n.x,l=n.y,f=n.r,h=r-a,p=r-c,d=i-u,y=i-l,v=s-o,g=f-o,_=r*r+i*i-o*o,m=_-a*a-u*u+s*s,b=_-c*c-l*l+f*f,w=p*d-h*y,E=(d*b-y*m)/(2*w)-r,T=(y*v-d*g)/w,S=(p*m-h*b)/(2*w)-i,O=(h*g-p*v)/w,C=T*T+O*O-1,k=2*(o+E*T+S*O),x=E*E+S*S-o*o,P=-(C?(k+Math.sqrt(k*k-4*C*x))/(2*C):x/k);return{x:r+E+T*P,y:i+S+O*P,r:P}}function O(t,e,n){var r,i,o,a,u=t.x-e.x,s=t.y-e.y,c=u*u+s*s;c?(i=e.r+n.r,i*=i,a=t.r+n.r,a*=a,i>a?(r=(c+a-i)/(2*c),o=Math.sqrt(Math.max(0,a/c-r*r)),n.x=t.x-r*u-o*s,n.y=t.y-r*s+o*u):(r=(c+i-a)/(2*c),o=Math.sqrt(Math.max(0,i/c-r*r)),n.x=e.x+r*u-o*s,n.y=e.y+r*s+o*u)):(n.x=e.x+n.r,n.y=e.y)}function C(t,e){var n=t.r+e.r-1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function k(t){var e=t._,n=t.next._,r=e.r+n.r,i=(e.x*n.r+n.x*e.r)/r,o=(e.y*n.r+n.y*e.r)/r;return i*i+o*o}function x(t){this._=t,this.next=null,this.previous=null}function P(t){if(!(i=t.length))return 0;var e,n,r,i,o,a,u,s,c,l,f;if(e=t[0],e.x=0,e.y=0,!(i>1))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(i>2))return e.r+n.r;O(n,e,r=t[2]),e=new x(e),n=new x(n),r=new x(r),e.next=r.previous=n,n.next=e.previous=r,r.next=n.previous=e;t:for(u=3;u<i;++u){O(e._,n._,r=t[u]),r=new x(r),s=n.next,c=e.previous,l=n._.r,f=e._.r;do if(l<=f){if(C(s._,r._)){n=s,e.next=n,n.previous=e,--u;continue t}l+=s._.r,s=s.next}else{if(C(c._,r._)){e=c,e.next=n,n.previous=e,--u;continue t}f+=c._.r,c=c.previous}while(s!==c.next);for(r.previous=e,r.next=n,e.next=n.previous=n=r,o=k(e);(r=r.next)!==n;)(a=k(r))<o&&(e=r,o=a);n=e.next}for(e=[n._],r=n;(r=r.next)!==n;)e.push(r._);for(r=ut(e),u=0;u<i;++u)e=t[u],e.x-=r.x,e.y-=r.y;return r.r}function N(t){return null==t?null:A(t)}function A(t){if("function"!=typeof t)throw new Error;return t}function I(){return 0}function R(t){return Math.sqrt(t.value)}function M(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function D(t,e){return function(n){if(r=n.children){var r,i,o,a=r.length,u=t(n)*e||0;if(u)for(i=0;i<a;++i)r[i].r+=u;if(o=P(r),u)for(i=0;i<a;++i)r[i].r-=u;n.r=o+u}}}function L(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function j(t){return t.id}function F(t){return t.parentId}function U(t,e){return t.parent===e.parent?1:2}function V(t){var e=t.children;return e?e[0]:t.t}function B(t){var e=t.children;return e?e[e.length-1]:t.t}function W(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function q(t){for(var e,n=0,r=0,i=t.children,o=i.length;--o>=0;)e=i[o],e.z+=n,e.m+=n,n+=e.s+(r+=e.c)}function H(t,e,n){return t.a.parent===e.parent?t.a:n}function z(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function G(t){for(var e,n,r,i,o,a=new z(t,0),u=[a];e=u.pop();)if(r=e._.children)for(e.children=new Array(o=r.length),i=o-1;i>=0;--i)u.push(n=e.children[i]=new z(r[i],i)),n.parent=e;return(a.parent=new z(null,0)).children=[a],a}function K(t,e,n,r,i,o){for(var a,u,s,c,l,f,h,p,d,y,v,g=[],_=e.children,m=0,b=0,w=_.length,E=e.value;m<w;){s=i-n,c=o-r;do l=_[b++].value;while(!l&&b<w);for(f=h=l,y=Math.max(c/s,s/c)/(E*t),v=l*l*y,d=Math.max(h/v,v/f);b<w;++b){if(l+=u=_[b].value,u<f&&(f=u),u>h&&(h=u),v=l*l*y,p=Math.max(h/v,v/f),p>d){l-=u;break}d=p}g.push(a={value:l,dice:s<c,children:_.slice(m,b)}),a.dice?ht(a,n,r,i,E?r+=c*l/E:o):mt(a,n,r,E?n+=s*l/E:i,o),E-=l,m=b}return g}var Y=function(){function t(t){var e,l=0;t.eachAfter(function(t){var o=t.children;o?(t.x=n(o),t.y=i(o)):(t.x=e?l+=r(t,e):0,t.y=0,e=t)});var f=a(t),h=u(t),p=f.x-r(f,h)/2,d=h.x+r(h,f)/2;return t.eachAfter(c?function(e){e.x=(e.x-t.x)*o,e.y=(t.y-e.y)*s}:function(e){e.x=(e.x-p)/(d-p)*o,e.y=(1-(t.y?e.y/t.y:1))*s})}var r=e,o=1,s=1,c=!1;return t.separation=function(e){return arguments.length?(r=e,t):r},t.size=function(e){return arguments.length?(c=!1,o=+e[0],s=+e[1],t):c?null:[o,s]},t.nodeSize=function(e){return arguments.length?(c=!0,o=+e[0],s=+e[1],t):c?[o,s]:null},t},X=function(){return this.eachAfter(s)},Q=function(t){var e,n,r,i,o=this,a=[o];do for(e=a.reverse(),a=[];o=e.pop();)if(t(o),n=o.children)for(r=0,i=n.length;r<i;++r)a.push(n[r]);while(a.length);return this},$=function(t){for(var e,n,r=this,i=[r];r=i.pop();)if(t(r),e=r.children)for(n=e.length-1;n>=0;--n)i.push(e[n]);return this},J=function(t){for(var e,n,r,i=this,o=[i],a=[];i=o.pop();)if(a.push(i),e=i.children)for(n=0,r=e.length;n<r;++n)o.push(e[n]);for(;i=a.pop();)t(i);return this},Z=function(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})},tt=function(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})},et=function(t){for(var e=this,n=c(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r},nt=function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},rt=function(){var t=[];return this.each(function(e){t.push(e)}),t},it=function(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t},ot=function(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e};y.prototype=l.prototype={constructor:y,count:X,each:Q,eachAfter:J,eachBefore:$,sum:Z,sort:tt,path:et,ancestors:nt,descendants:rt,leaves:it,links:ot,copy:f};var at=Array.prototype.slice,ut=function(t){for(var e,n,r=0,i=(t=v(at.call(t))).length,o=[];r<i;)e=t[r],n&&m(n,e)?++r:(n=w(o=g(o,e)),r=0);return n},st=function(t){return P(t),t},ct=function(t){return function(){return t}},lt=function(){function t(t){return t.x=n/2,t.y=r/2,e?t.eachBefore(M(e)).eachAfter(D(i,.5)).eachBefore(L(1)):t.eachBefore(M(R)).eachAfter(D(I,1)).eachAfter(D(i,t.r/Math.min(n,r))).eachBefore(L(Math.min(n,r)/(2*t.r))),t}var e=null,n=1,r=1,i=I;return t.radius=function(n){return arguments.length?(e=N(n),t):e},t.size=function(e){return arguments.length?(n=+e[0],r=+e[1],t):[n,r]},t.padding=function(e){return arguments.length?(i="function"==typeof e?e:ct(+e),t):i},t},ft=function(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)},ht=function(t,e,n,r,i){for(var o,a=t.children,u=-1,s=a.length,c=t.value&&(r-e)/t.value;++u<s;)o=a[u],o.y0=n,o.y1=i,o.x0=e,o.x1=e+=o.value*c},pt=function(){function t(t){var a=t.height+1;return t.x0=t.y0=i,t.x1=n,t.y1=r/a,t.eachBefore(e(r,a)),o&&t.eachBefore(ft),t}function e(t,e){return function(n){n.children&&ht(n,n.x0,t*(n.depth+1)/e,n.x1,t*(n.depth+2)/e);var r=n.x0,o=n.y0,a=n.x1-i,u=n.y1-i;a<r&&(r=a=(r+a)/2),u<o&&(o=u=(o+u)/2),n.x0=r,n.y0=o,n.x1=a,n.y1=u}}var n=1,r=1,i=0,o=!1;return t.round=function(e){return arguments.length?(o=!!e,t):o},t.size=function(e){return arguments.length?(n=+e[0],r=+e[1],t):[n,r]},t.padding=function(e){return arguments.length?(i=+e,t):i},t},dt="$",yt={depth:-1},vt={},gt=function(){function t(t){var r,i,o,a,u,s,c,l=t.length,f=new Array(l),h={};for(i=0;i<l;++i)r=t[i],u=f[i]=new y(r),null!=(s=e(r,i,t))&&(s+="")&&(c=dt+(u.id=s),h[c]=c in h?vt:u);for(i=0;i<l;++i)if(u=f[i],s=n(t[i],i,t),null!=s&&(s+="")){if(a=h[dt+s],!a)throw new Error("missing: "+s);if(a===vt)throw new Error("ambiguous: "+s);a.children?a.children.push(u):a.children=[u],u.parent=a}else{if(o)throw new Error("multiple roots");o=u}if(!o)throw new Error("no root");if(o.parent=yt,o.eachBefore(function(t){t.depth=t.parent.depth+1,--l}).eachBefore(d),o.parent=null,l>0)throw new Error("cycle");return o}var e=j,n=F;return t.id=function(n){return arguments.length?(e=A(n),t):e},t.parentId=function(e){return arguments.length?(n=A(e),t):n},t};z.prototype=Object.create(y.prototype);var _t=function(){function t(t){var r=G(t);if(r.eachAfter(e),r.parent.m=-r.z,r.eachBefore(n),s)t.eachBefore(i);else{var c=t,l=t,f=t;t.eachBefore(function(t){t.x<c.x&&(c=t),t.x>l.x&&(l=t),t.depth>f.depth&&(f=t)});var h=c===l?1:o(c,l)/2,p=h-c.x,d=a/(l.x+h+p),y=u/(f.depth||1);t.eachBefore(function(t){t.x=(t.x+p)*d,t.y=t.depth*y})}return t}function e(t){var e=t.children,n=t.parent.children,i=t.i?n[t.i-1]:null;if(e){q(t);var a=(e[0].z+e[e.length-1].z)/2;i?(t.z=i.z+o(t._,i._),t.m=t.z-a):t.z=a}else i&&(t.z=i.z+o(t._,i._));t.parent.A=r(t,i,t.parent.A||n[0])}function n(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function r(t,e,n){if(e){for(var r,i=t,a=t,u=e,s=i.parent.children[0],c=i.m,l=a.m,f=u.m,h=s.m;u=B(u),i=V(i),u&&i;)s=V(s),a=B(a),a.a=t,r=u.z+f-i.z-c+o(u._,i._),r>0&&(W(H(u,t,n),t,r),c+=r,l+=r),f+=u.m,c+=i.m,h+=s.m,l+=a.m;u&&!B(a)&&(a.t=u,a.m+=f-l),i&&!V(s)&&(s.t=i,s.m+=c-h,n=t)}return n}function i(t){t.x*=a,t.y=t.depth*u}var o=U,a=1,u=1,s=null;return t.separation=function(e){return arguments.length?(o=e,t):o},t.size=function(e){return arguments.length?(s=!1,a=+e[0],u=+e[1],t):s?null:[a,u]},t.nodeSize=function(e){return arguments.length?(s=!0,a=+e[0],u=+e[1],t):s?[a,u]:null},t},mt=function(t,e,n,r,i){for(var o,a=t.children,u=-1,s=a.length,c=t.value&&(i-n)/t.value;++u<s;)o=a[u],o.x0=e,o.x1=r,o.y0=n,o.y1=n+=o.value*c},bt=(1+Math.sqrt(5))/2,wt=function t(e){function n(t,n,r,i,o){K(e,t,n,r,i,o)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(bt),Et=function(){function t(t){return t.x0=t.y0=0,t.x1=i,t.y1=o,t.eachBefore(e),a=[0],r&&t.eachBefore(ft),t}function e(t){var e=a[t.depth],r=t.x0+e,i=t.y0+e,o=t.x1-e,h=t.y1-e;o<r&&(r=o=(r+o)/2),h<i&&(i=h=(i+h)/2),t.x0=r,t.y0=i,t.x1=o,t.y1=h,t.children&&(e=a[t.depth+1]=u(t)/2,r+=f(t)-e,i+=s(t)-e,o-=c(t)-e,h-=l(t)-e,o<r&&(r=o=(r+o)/2),h<i&&(i=h=(i+h)/2),n(t,r,i,o,h))}var n=wt,r=!1,i=1,o=1,a=[0],u=I,s=I,c=I,l=I,f=I;return t.round=function(e){return arguments.length?(r=!!e,t):r},t.size=function(e){return arguments.length?(i=+e[0],o=+e[1],t):[i,o]},t.tile=function(e){return arguments.length?(n=A(e),t):n},t.padding=function(e){return arguments.length?t.paddingInner(e).paddingOuter(e):t.paddingInner()},t.paddingInner=function(e){return arguments.length?(u="function"==typeof e?e:ct(+e),t):u},t.paddingOuter=function(e){return arguments.length?t.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):t.paddingTop()},t.paddingTop=function(e){return arguments.length?(s="function"==typeof e?e:ct(+e),t):s},t.paddingRight=function(e){return arguments.length?(c="function"==typeof e?e:ct(+e),t):c},t.paddingBottom=function(e){return arguments.length?(l="function"==typeof e?e:ct(+e),t):l},t.paddingLeft=function(e){return arguments.length?(f="function"==typeof e?e:ct(+e),t):f},t},Tt=function(t,e,n,r,i){function o(t,e,n,r,i,a,u){if(t>=e-1){var c=s[t];return c.x0=r,c.y0=i,c.x1=a,c.y1=u,void 0}for(var f=l[t],h=n/2+f,p=t+1,d=e-1;p<d;){var y=p+d>>>1;l[y]<h?p=y+1:d=y}h-l[p-1]<l[p]-h&&t+1<p&&--p;var v=l[p]-f,g=n-v;if(a-r>u-i){var _=(r*g+a*v)/n;o(t,p,v,r,i,_,u),o(p,e,g,_,i,a,u)}else{var m=(i*g+u*v)/n;o(t,p,v,r,i,a,m),o(p,e,g,r,m,a,u)}}var a,u,s=t.children,c=s.length,l=new Array(c+1);for(l[0]=u=a=0;a<c;++a)l[a+1]=u+=s[a].value;o(0,c,t.value,e,n,r,i)},St=function(t,e,n,r,i){(1&t.depth?mt:ht)(t,e,n,r,i)},Ot=function t(e){function n(t,n,r,i,o){if((a=t._squarify)&&a.ratio===e)for(var a,u,s,c,l,f=-1,h=a.length,p=t.value;++f<h;){for(u=a[f],s=u.children,c=u.value=0,l=s.length;c<l;++c)u.value+=s[c].value;u.dice?ht(u,n,r,i,r+=(o-r)*u.value/p):mt(u,n,r,n+=(i-n)*u.value/p,o),p-=u.value}else t._squarify=a=K(e,t,n,r,i,o),a.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(bt);t.cluster=Y,t.hierarchy=l,t.pack=lt,t.packSiblings=st,t.packEnclose=ut,t.partition=pt,t.stratify=gt,t.tree=_t,t.treemap=Et,t.treemapBinary=Tt,t.treemapDice=ht,t.treemapSlice=mt,t.treemapSliceDice=St,t.treemapSquarify=wt,t.treemapResquarify=Ot,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e,n){!function(t,n){n(e)}(this,function(t){"use strict";function e(t,n,r,a){function u(e){return t(e=new Date(+e)),e}return u.floor=u,u.ceil=function(e){return t(e=new Date(e-1)),n(e,1),t(e),e},u.round=function(t){var e=u(t),n=u.ceil(t);return t-e<n-t?e:n},u.offset=function(t,e){return n(t=new Date(+t),null==e?1:Math.floor(e)),t},u.range=function(e,r,i){var o,a=[];if(e=u.ceil(e),i=null==i?1:Math.floor(i),!(e<r&&i>0))return a;do a.push(o=new Date(+e)),n(e,i),t(e);while(o<e&&e<r);return a},u.filter=function(r){return e(function(e){if(e>=e)for(;t(e),!r(e);)e.setTime(e-1)},function(t,e){if(t>=t)if(e<0)for(;++e<=0;)for(;n(t,-1),!r(t););else for(;--e>=0;)for(;n(t,1),!r(t););})},r&&(u.count=function(e,n){return i.setTime(+e),o.setTime(+n),t(i),t(o),Math.floor(r(i,o))},u.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?u.filter(a?function(e){return a(e)%t===0}:function(e){return u.count(0,e)%t===0}):u:null}),u}function n(t){return e(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*c)/h})}function r(t){return e(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/h})}var i=new Date,o=new Date,a=e(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});a.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?e(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):a:null};var u=a.range,s=1e3,c=6e4,l=36e5,f=864e5,h=6048e5,p=e(function(t){t.setTime(Math.floor(t/s)*s)},function(t,e){t.setTime(+t+e*s)},function(t,e){return(e-t)/s},function(t){return t.getUTCSeconds()}),d=p.range,y=e(function(t){t.setTime(Math.floor(t/c)*c)},function(t,e){t.setTime(+t+e*c)},function(t,e){return(e-t)/c},function(t){return t.getMinutes()}),v=y.range,g=e(function(t){var e=t.getTimezoneOffset()*c%l;e<0&&(e+=l),t.setTime(Math.floor((+t-e)/l)*l+e)},function(t,e){t.setTime(+t+e*l)},function(t,e){return(e-t)/l},function(t){return t.getHours()}),_=g.range,m=e(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*c)/f},function(t){return t.getDate()-1}),b=m.range,w=n(0),E=n(1),T=n(2),S=n(3),O=n(4),C=n(5),k=n(6),x=w.range,P=E.range,N=T.range,A=S.range,I=O.range,R=C.range,M=k.range,D=e(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),L=D.range,j=e(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});j.every=function(t){return isFinite(t=Math.floor(t))&&t>0?e(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)}):null};var F=j.range,U=e(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*c)},function(t,e){return(e-t)/c},function(t){return t.getUTCMinutes()}),V=U.range,B=e(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+e*l)},function(t,e){return(e-t)/l},function(t){return t.getUTCHours()}),W=B.range,q=e(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/f},function(t){return t.getUTCDate()-1}),H=q.range,z=r(0),G=r(1),K=r(2),Y=r(3),X=r(4),Q=r(5),$=r(6),J=z.range,Z=G.range,tt=K.range,et=Y.range,nt=X.range,rt=Q.range,it=$.range,ot=e(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),at=ot.range,ut=e(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});ut.every=function(t){return isFinite(t=Math.floor(t))&&t>0?e(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null};var st=ut.range;t.timeInterval=e,t.timeMillisecond=a,t.timeMilliseconds=u,t.utcMillisecond=a,t.utcMilliseconds=u,t.timeSecond=p,t.timeSeconds=d,t.utcSecond=p,t.utcSeconds=d,t.timeMinute=y,t.timeMinutes=v,t.timeHour=g,t.timeHours=_,t.timeDay=m,t.timeDays=b,t.timeWeek=w,t.timeWeeks=x,t.timeSunday=w,t.timeSundays=x,t.timeMonday=E,t.timeMondays=P,t.timeTuesday=T,t.timeTuesdays=N,t.timeWednesday=S,t.timeWednesdays=A,t.timeThursday=O,t.timeThursdays=I,t.timeFriday=C,t.timeFridays=R,t.timeSaturday=k,t.timeSaturdays=M,t.timeMonth=D,t.timeMonths=L,t.timeYear=j,t.timeYears=F,t.utcMinute=U,t.utcMinutes=V,t.utcHour=B,t.utcHours=W,t.utcDay=q,t.utcDays=H,t.utcWeek=z,t.utcWeeks=J,t.utcSunday=z,t.utcSundays=J,t.utcMonday=G,t.utcMondays=Z,t.utcTuesday=K,t.utcTuesdays=tt,t.utcWednesday=Y,t.utcWednesdays=et,t.utcThursday=X,t.utcThursdays=nt,t.utcFriday=Q,t.utcFridays=rt,t.utcSaturday=$,t.utcSaturdays=it,t.utcMonth=ot,t.utcMonths=at,t.utcYear=ut,t.utcYears=st,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e,n){!function(t,n){n(e)}(this,function(t){"use strict";function e(t){return t[0]}function n(t){return t[1]}function r(){this._=null}function i(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function o(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function a(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function u(t){for(;t.L;)t=t.L;return t}function s(t,e,n,r){var i=[null,null],o=F.push(i)-1;return i.left=t,i.right=e,n&&l(i,t,e,n),r&&l(i,e,t,r),L[t.index].halfedges.push(o),L[e.index].halfedges.push(o),i}function c(t,e,n){var r=[e,n];return r.left=t,r}function l(t,e,n,r){t[0]||t[1]?t.left===n?t[1]=r:t[0]=r:(t[0]=r,t.left=e,t.right=n)}function f(t,e,n,r,i){var o,a=t[0],u=t[1],s=a[0],c=a[1],l=u[0],f=u[1],h=0,p=1,d=l-s,y=f-c;if(o=e-s,d||!(o>0)){if(o/=d,d<0){if(o<h)return;o<p&&(p=o)}else if(d>0){if(o>p)return;o>h&&(h=o)}if(o=r-s,d||!(o<0)){if(o/=d,d<0){if(o>p)return;o>h&&(h=o)}else if(d>0){if(o<h)return;o<p&&(p=o)}if(o=n-c,y||!(o>0)){if(o/=y,y<0){if(o<h)return;o<p&&(p=o)}else if(y>0){if(o>p)return;o>h&&(h=o)}if(o=i-c,y||!(o<0)){if(o/=y,y<0){if(o>p)return;o>h&&(h=o)}else if(y>0){if(o<h)return;o<p&&(p=o)}return!(h>0||p<1)||(h>0&&(t[0]=[s+h*d,c+h*y]),p<1&&(t[1]=[s+p*d,c+p*y]),!0)}}}}}function h(t,e,n,r,i){var o=t[1];if(o)return!0;var a,u,s=t[0],c=t.left,l=t.right,f=c[0],h=c[1],p=l[0],d=l[1],y=(f+p)/2,v=(h+d)/2;if(d===h){if(y<e||y>=r)return;if(f>p){if(s){if(s[1]>=i)return}else s=[y,n];o=[y,i]}else{if(s){if(s[1]<n)return}else s=[y,i];o=[y,n]}}else if(a=(f-p)/(d-h),u=v-a*y,a<-1||a>1)if(f>p){if(s){if(s[1]>=i)return}else s=[(n-u)/a,n];o=[(i-u)/a,i]}else{if(s){if(s[1]<n)return}else s=[(i-u)/a,i];o=[(n-u)/a,n]}else if(h<d){if(s){if(s[0]>=r)return}else s=[e,a*e+u];o=[r,a*r+u]}else{if(s){if(s[0]<e)return}else s=[r,a*r+u];o=[e,a*e+u]}return t[0]=s,t[1]=o,!0}function p(t,e,n,r){for(var i,o=F.length;o--;)h(i=F[o],t,e,n,r)&&f(i,t,e,n,r)&&(Math.abs(i[0][0]-i[1][0])>B||Math.abs(i[0][1]-i[1][1])>B)||delete F[o]}function d(t){return L[t.index]={site:t,halfedges:[]}}function y(t,e){var n=t.site,r=e.left,i=e.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=e[1],i=e[0]):(r=e[0],i=e[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function v(t,e){return e[+(e.left!==t.site)]}function g(t,e){return e[+(e.left===t.site)]}function _(){for(var t,e,n,r,i=0,o=L.length;i<o;++i)if((t=L[i])&&(r=(e=t.halfedges).length)){var a=new Array(r),u=new Array(r);for(n=0;n<r;++n)a[n]=n,u[n]=y(t,F[e[n]]);for(a.sort(function(t,e){return u[e]-u[t]}),n=0;n<r;++n)u[n]=e[a[n]];for(n=0;n<r;++n)e[n]=u[n]}}function m(t,e,n,r){var i,o,a,u,s,l,f,h,p,d,y,_,m=L.length,b=!0;for(i=0;i<m;++i)if(o=L[i]){for(a=o.site,s=o.halfedges,u=s.length;u--;)F[s[u]]||s.splice(u,1);for(u=0,l=s.length;u<l;)d=g(o,F[s[u]]),y=d[0],_=d[1],f=v(o,F[s[++u%l]]),h=f[0],p=f[1],(Math.abs(y-h)>B||Math.abs(_-p)>B)&&(s.splice(u,0,F.push(c(a,d,Math.abs(y-t)<B&&r-_>B?[t,Math.abs(h-t)<B?p:r]:Math.abs(_-r)<B&&n-y>B?[Math.abs(p-r)<B?h:n,r]:Math.abs(y-n)<B&&_-e>B?[n,Math.abs(h-n)<B?p:e]:Math.abs(_-e)<B&&y-t>B?[Math.abs(p-e)<B?h:t,e]:null))-1),++l);l&&(b=!1)}if(b){var w,E,T,S=1/0;for(i=0,b=null;i<m;++i)(o=L[i])&&(a=o.site,w=a[0]-t,E=a[1]-e,T=w*w+E*E,T<S&&(S=T,b=o));if(b){var O=[t,e],C=[t,r],k=[n,r],x=[n,e];b.halfedges.push(F.push(c(a=b.site,O,C))-1,F.push(c(a,C,k))-1,F.push(c(a,k,x))-1,F.push(c(a,x,O))-1)}}for(i=0;i<m;++i)(o=L[i])&&(o.halfedges.length||delete L[i])}function b(){i(this),this.x=this.y=this.arc=this.site=this.cy=null}function w(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var a=i[0],u=i[1],s=r[0]-a,c=r[1]-u,l=o[0]-a,f=o[1]-u,h=2*(s*f-c*l);if(!(h>=-W)){var p=s*s+c*c,d=l*l+f*f,y=(f*p-c*d)/h,v=(s*d-l*p)/h,g=U.pop()||new b;g.arc=t,g.site=i,g.x=y+a,g.y=(g.cy=v+u)+Math.sqrt(y*y+v*v),t.circle=g;for(var _=null,m=j._;m;)if(g.y<m.y||g.y===m.y&&g.x<=m.x){if(!m.L){_=m.P;break}m=m.L}else{if(!m.R){_=m;break}m=m.R}j.insert(_,g),_||(M=g)}}}}function E(t){var e=t.circle;e&&(e.P||(M=e.N),j.remove(e),U.push(e),i(e),t.circle=null)}function T(){i(this),this.edge=this.site=this.circle=null}function S(t){var e=V.pop()||new T;return e.site=t,e}function O(t){E(t),D.remove(t),V.push(t),i(t)}function C(t){var e=t.circle,n=e.x,r=e.cy,i=[n,r],o=t.P,a=t.N,u=[t];O(t);for(var c=o;c.circle&&Math.abs(n-c.circle.x)<B&&Math.abs(r-c.circle.cy)<B;)o=c.P,u.unshift(c),O(c),c=o;u.unshift(c),E(c);for(var f=a;f.circle&&Math.abs(n-f.circle.x)<B&&Math.abs(r-f.circle.cy)<B;)a=f.N,u.push(f),O(f),f=a;u.push(f),E(f);var h,p=u.length;for(h=1;h<p;++h)f=u[h],c=u[h-1],l(f.edge,c.site,f.site,i);c=u[0],f=u[p-1],f.edge=s(c.site,f.site,null,i),w(c),w(f)}function k(t){for(var e,n,r,i,o=t[0],a=t[1],u=D._;u;)if(r=x(u,a)-o,r>B)u=u.L;else{if(i=o-P(u,a),!(i>B)){r>-B?(e=u.P,n=u):i>-B?(e=u,n=u.N):e=n=u;break}if(!u.R){e=u;break}u=u.R}d(t);var c=S(t);if(D.insert(e,c),e||n){if(e===n)return E(e),n=S(e.site),D.insert(c,n),c.edge=n.edge=s(e.site,c.site),w(e),void w(n);if(!n)return void(c.edge=s(e.site,c.site));E(e),E(n);var f=e.site,h=f[0],p=f[1],y=t[0]-h,v=t[1]-p,g=n.site,_=g[0]-h,m=g[1]-p,b=2*(y*m-v*_),T=y*y+v*v,O=_*_+m*m,C=[(m*T-v*O)/b+h,(y*O-_*T)/b+p];l(n.edge,f,g,C),c.edge=s(f,t,null,C),n.edge=s(t,g,null,C),w(e),w(n)}}function x(t,e){var n=t.site,r=n[0],i=n[1],o=i-e;if(!o)return r;var a=t.P;if(!a)return-(1/0);n=a.site;var u=n[0],s=n[1],c=s-e;if(!c)return u;var l=u-r,f=1/o-1/c,h=l/c;return f?(-h+Math.sqrt(h*h-2*f*(l*l/(-2*c)-s+c/2+i-o/2)))/f+r:(r+u)/2}function P(t,e){var n=t.N;if(n)return x(n,e);var r=t.site;return r[1]===e?r[0]:1/0}function N(t,e,n){return(t[0]-n[0])*(e[1]-t[1])-(t[0]-e[0])*(n[1]-t[1])}function A(t,e){return e[1]-t[1]||e[0]-t[0]}function I(t,e){var n,i,o,a=t.sort(A).pop();for(F=[],L=new Array(t.length),D=new r,j=new r;;)if(o=M,a&&(!o||a[1]<o.y||a[1]===o.y&&a[0]<o.x))a[0]===n&&a[1]===i||(k(a),n=a[0],i=a[1]),a=t.pop();else{if(!o)break;C(o.arc)}if(_(),e){var u=+e[0][0],s=+e[0][1],c=+e[1][0],l=+e[1][1];p(u,s,c,l),m(u,s,c,l)}this.edges=F,this.cells=L,D=j=F=L=null}var R=function(t){return function(){return t}};r.prototype={constructor:r,insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=u(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)r=n.U,n===r.L?(i=r.R,i&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(o(this,n),t=n,n=t.U),n.C=!1,r.C=!0,a(this,r))):(i=r.L,i&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(a(this,n),t=n,n=t.U),n.C=!1,r.C=!0,o(this,r))),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,s=t.L,c=t.R;if(n=s?c?u(c):s:c,i?i.L===t?i.L=n:i.R=n:this._=n,s&&c?(r=n.C,n.C=t.C,n.L=s,s.U=n,n!==c?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=c,c.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===i.L){if(e=i.R,e.C&&(e.C=!1,i.C=!0,o(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,a(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,o(this,i),t=this._;break}}else if(e=i.L,e.C&&(e.C=!1,i.C=!0,a(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,o(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,a(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var M,D,L,j,F,U=[],V=[],B=1e-6,W=1e-12;I.prototype={constructor:I,polygons:function(){var t=this.edges;return this.cells.map(function(e){var n=e.halfedges.map(function(n){return v(e,t[n])});return n.data=e.site.data,n})},triangles:function(){var t=[],e=this.edges;return this.cells.forEach(function(n,r){if(o=(i=n.halfedges).length)for(var i,o,a,u=n.site,s=-1,c=e[i[o-1]],l=c.left===u?c.right:c.left;++s<o;)a=l,c=e[i[s]],l=c.left===u?c.right:c.left,a&&l&&r<a.index&&r<l.index&&N(u,a,l)<0&&t.push([u.data,a.data,l.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,e,n){for(var r,i,o=this,a=o._found||0,u=o.cells.length;!(i=o.cells[a]);)if(++a>=u)return null;var s=t-i.site[0],c=e-i.site[1],l=s*s+c*c;do i=o.cells[r=a],a=null,i.halfedges.forEach(function(n){var r=o.edges[n],u=r.left;if(u!==i.site&&u||(u=r.right)){var s=t-u[0],c=e-u[1],f=s*s+c*c;f<l&&(l=f,a=u.index)}});while(null!==a);return o._found=r,null==n||l<=n*n?i.site:null}};var q=function(){function t(t){return new I(t.map(function(e,n){var o=[Math.round(r(e,n,t)/B)*B,Math.round(i(e,n,t)/B)*B];return o.index=n,o.data=e,o}),o)}var r=e,i=n,o=null;return t.polygons=function(e){return t(e).polygons()},t.links=function(e){return t(e).links()},t.triangles=function(e){return t(e).triangles()},t.x=function(e){return arguments.length?(r="function"==typeof e?e:R(+e),t):r},t.y=function(e){return arguments.length?(i="function"==typeof e?e:R(+e),t):i},t.extent=function(e){return arguments.length?(o=null==e?null:[[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]],t):o&&[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},t.size=function(e){return arguments.length?(o=null==e?null:[[0,0],[+e[0],+e[1]]],t):o&&[o[1][0]-o[0][0],o[1][1]-o[0][1]]},t};t.voronoi=q,Object.defineProperty(t,"__esModule",{value:!0})})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){"use strict";e.__esModule=!0,e.default={noWobble:{stiffness:170,damping:26},gentle:{stiffness:120,damping:14},wobbly:{stiffness:180,damping:12},stiff:{stiffness:210,damping:20}},t.exports=e.default},,,,function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){var e=t.className,n=t.colors,r=t.height,i=t.items,o=t.onItemClick,u=t.onItemMouseEnter,s=t.onItemMouseLeave,c=t.orientation,f=t.width;return a.default.createElement("div",{className:"rv-discrete-color-legend "+c+" "+e,style:{width:f,height:r}},i.map(function(t,e){return a.default.createElement(l.default,{title:t.title?t.title:t,color:t.color?t.color:n[e%n.length],disabled:Boolean(t.disabled),orientation:c,key:e,onClick:o?function(n){return o(t,e,n)}:null,onMouseEnter:u?function(n){return u(t,e,n)}:null,onMouseLeave:u?function(n){return s(t,e,n)}:null})}))}Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),a=r(o),u=n(2),s=r(u),c=n(499),l=r(c),f=n(10);i.displayName="DiscreteColorLegendItem",i.propTypes={className:s.default.string,items:s.default.arrayOf(s.default.oneOfType([s.default.shape({title:s.default.string.isRequired,color:s.default.string,disabled:s.default.bool}),s.default.string.isRequired,s.default.element])).isRequired,onItemClick:s.default.func,onItemMouseEnter:s.default.func,onItemMouseLeave:s.default.func,height:s.default.number,width:s.default.number,orientation:s.default.oneOf(["vertical","horizontal"])},i.defaultProps={className:"",colors:f.DISCRETE_COLOR_RANGE,orientation:"vertical"},e.default=i},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(1),l=r(c),f=n(2),h=r(f),p=n(7),d=r(p),y=n(18),v=n(12),g=n(503),_=r(g),m=n(504),b=r(m),w=n(505),E=r(w),T=["xRange","yRange","xDomain","yDomain","width","height","marginLeft","marginTop","marginRight","marginBottom","tickSize","tickTotal","tickSizeInner","tickSizeOuter"],S=y.ORIENTATION.LEFT,O=y.ORIENTATION.RIGHT,C=y.ORIENTATION.TOP,k=y.ORIENTATION.BOTTOM,x={orientation:h.default.oneOf([S,O,C,k]),attr:h.default.string.isRequired,attrAxis:h.default.string,width:h.default.number,height:h.default.number,top:h.default.number,left:h.default.number,title:h.default.string,style:h.default.object,className:h.default.string,hideTicks:h.default.bool,hideLine:h.default.bool,on0:h.default.bool,tickLabelAngle:h.default.number,tickSize:h.default.number,tickSizeInner:h.default.number,tickSizeOuter:h.default.number,tickPadding:h.default.number,
tickValues:h.default.array,tickFormat:h.default.func,tickTotal:h.default.number,marginTop:h.default.number,marginBottom:h.default.number,marginLeft:h.default.number,marginRight:h.default.number,innerWidth:h.default.number,innerHeight:h.default.number},P={className:"",on0:!1,style:{},tickSize:6,tickPadding:8,orientation:k},N="rv-xy-plot__axis",A="rv-xy-plot__axis--vertical",I="rv-xy-plot__axis--horizontal",R=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),s(e,[{key:"_getDefaultAxisProps",value:function(){var t=this.props,e=t.innerWidth,n=t.innerHeight,r=t.marginTop,i=t.marginBottom,o=t.marginLeft,a=t.marginRight,u=t.orientation;return u===k?{tickTotal:(0,y.getTicksTotalFromSize)(e),top:n+r,left:o,width:e,height:i}:u===C?{tickTotal:(0,y.getTicksTotalFromSize)(e),top:0,left:o,width:e,height:r}:u===S?{tickTotal:(0,y.getTicksTotalFromSize)(n),top:r,left:0,width:o,height:n}:{tickTotal:(0,y.getTicksTotalFromSize)(n),top:r,left:o+e,width:a,height:n}}},{key:"render",value:function(){var t=this.props.animation;if(t){var n=t.nonAnimatedProps?T.filter(function(e){return t.nonAnimatedProps.indexOf(e)<0}):T;return l.default.createElement(d.default,u({},this.props,{animatedProps:n}),l.default.createElement(e,u({},this.props,{animation:null})))}var r=u({},this._getDefaultAxisProps(),this.props),i=r.attrAxis,o=r.className,a=r.height,s=r.hideLine,c=r.hideTicks,f=r.left,h=r.marginTop,p=r.on0,y=r.orientation,g=r.position,m=r.style,w=r.title,C=r.top,k=r.width,x=[S,O].indexOf(y)>-1,P=x?A:I,R=f,M=C;if(p){var D=(0,v.getAttributeScale)(r,i);x?R=D(0):M=h+D(0)}return l.default.createElement("g",{transform:"translate("+R+","+M+")",className:N+" "+P+" "+o,style:m},!s&&l.default.createElement(_.default,{height:a,width:k,orientation:y,style:u({},m,m.line)}),!c&&l.default.createElement(b.default,u({},r,{style:u({},m,m.ticks)})),w?l.default.createElement(E.default,{position:g,title:w,height:a,width:k,style:u({},m,m.title),orientation:y}):null)}}]),e}(c.PureComponent);R.displayName="Axis",R.propTypes=x,R.defaultProps=P,R.requiresSVG=!0,e.default=R},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e){var n=(0,d.getScaleObjectFromProps)(t,e);return n?n.distance:0}Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=n(2),f=r(l),h=n(30),p=n(10),d=n(12),y=n(11),v=n(6),g=r(v),_=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),c(e,[{key:"render",value:function(){return null}}],[{key:"renderLayer",value:function(t,e){var n=t.data,r=t.linePosAttr,i=t.lineSizeAttr,o=t.valuePosAttr,a=t.marginTop,s=t.marginBottom;if(n&&0!==n.length){var c=u(t,r),l=(0,d.getAttributeFunctor)(t,r),f=(0,d.getAttributeFunctor)(t,o),v=(0,d.getAttr0Functor)(t,o),g=(0,d.getAttributeFunctor)(t,"fill")||(0,d.getAttributeFunctor)(t,"color"),_=(0,d.getAttributeFunctor)(t,"stroke")||(0,d.getAttributeFunctor)(t,"color"),m=(0,d.getAttributeFunctor)(t,"opacity"),b=c/2*.85,w=(0,y.getStackParams)(t),E=w.sameTypeTotal,T=w.sameTypeIndex;n.forEach(function(t){var n=(0,h.rgb)(g(t)),r=(0,h.rgb)(_(t)),u=m(t)||p.DEFAULT_OPACITY,c=l(t)-b+2*b/E*T,d=Math.min(v(t),f(t)),y="x"===o?d:c,w="y"===o?d:c,S=2*b/E,O=Math.abs(-v(t)+f(t)),C="height"===i?S:O,k="width"===i?S:O;e.beginPath(),e.rect(y+s,w+a,k,C),e.fillStyle="rgba("+n.r+", "+n.g+", "+n.b+", "+u+")",e.fill(),e.strokeStyle="rgba("+r.r+", "+r.g+", "+r.b+", "+u+")",e.stroke()})}}},{key:"requiresSVG",get:function(){return!1}},{key:"isCanvas",get:function(){return!0}}]),e}(g.default);_.displayName="BarSeriesCanvas",_.defaultProps=s({},g.default.defaultProps,{linePosAttr:f.default.string.isRequired,valuePosAttr:f.default.string.isRequired,lineSizeAttr:f.default.string.isRequired,valueSizeAttr:f.default.string.isRequired}),_.propTypes=s({},g.default.propTypes),e.default=_},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=n(1),f=r(l),h=n(2),p=r(h),d=n(7),y=r(d),v=n(11),g=n(6),_=r(g),m="rv-xy-plot__series rv-xy-plot__series--bar",b=function(t){function e(){return o(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return u(e,t),c(e,[{key:"render",value:function(){var t=this,n=this.props,r=n.animation,o=n.className,a=n.data,u=n.linePosAttr,c=n.lineSizeAttr,l=n.marginLeft,h=n.marginTop,p=n.style,d=n.valuePosAttr,g=n.valueSizeAttr;if(!a)return null;if(r)return f.default.createElement(y.default,s({},this.props,{animatedProps:v.ANIMATED_SERIES_PROPS}),f.default.createElement(e,s({},this.props,{animation:null})));var _=(0,v.getStackParams)(this.props),b=_.sameTypeTotal,w=_.sameTypeIndex,E=this._getScaleDistance(u),T=this._getAttributeFunctor(u),S=this._getAttributeFunctor(d),O=this._getAttr0Functor(d),C=this._getAttributeFunctor("fill")||this._getAttributeFunctor("color"),k=this._getAttributeFunctor("stroke")||this._getAttributeFunctor("color"),x=this._getAttributeFunctor("opacity"),P=E/2*.85;return f.default.createElement("g",{className:m+" "+o,ref:"container",transform:"translate("+l+","+h+")"},a.map(function(e,n){var r,o=(r={style:s({opacity:x&&x(e),stroke:k&&k(e),fill:C&&C(e)},p)},i(r,u,T(e)-P+2*P/b*w),i(r,c,2*P/b),i(r,d,Math.min(O(e),S(e))),i(r,g,Math.abs(-O(e)+S(e))),i(r,"onClick",function(n){return t._valueClickHandler(e,n)}),i(r,"onContextMenu",function(n){return t._valueRightClickHandler(e,n)}),i(r,"onMouseOver",function(n){return t._valueMouseOverHandler(e,n)}),i(r,"onMouseOut",function(n){return t._valueMouseOutHandler(e,n)}),i(r,"key",n),r);return f.default.createElement("rect",o)}))}}],[{key:"propTypes",get:function(){return s({},_.default.propTypes,{linePosAttr:p.default.string,valuePosAttr:p.default.string,lineSizeAttr:p.default.string,valueSizeAttr:p.default.string,cluster:p.default.string})}}]),e}(_.default);b.displayName="BarSeries",e.default=b},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=n(1),l=r(c),f=n(2),h=r(f),p=n(6),d=r(p),y=n(154),v=r(y),g=n(155),_=r(g),m=s({},v.default.propTypes,{lineStyle:h.default.object,markStyle:h.default.object}),b=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),u(e,[{key:"render",value:function(){var t=this.props,e=t.lineStyle,n=t.markStyle,r=t.style;return l.default.createElement("g",{className:"rv-xy-plot__series rv-xy-plot__series--linemark"},l.default.createElement(v.default,s({},this.props,{style:s({},r,e)})),l.default.createElement(_.default,s({},this.props,{style:s({},r,n)})))}}],[{key:"defaultProps",get:function(){return s({},v.default.defaultProps,{lineStyle:{},markStyle:{}})}}]),e}(d.default);b.displayName="LineMarkSeries",b.propTypes=m,e.default=b},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(2),l=r(c),f=n(30),h=n(10),p=n(12),d=n(6),y=r(d),v=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),s(e,[{key:"render",value:function(){return null}}],[{key:"renderLayer",value:function(t,e){var n=t.data,r=t.marginLeft,i=t.marginTop,o=t.strokeWidth,a=t.strokeDasharray;if(n&&0!==n.length){var u=(0,p.getAttributeFunctor)(t,"x"),s=(0,p.getAttributeFunctor)(t,"y"),c=(0,p.getAttributeValue)(t,"stroke")||(0,p.getAttributeValue)(t,"color"),l=(0,f.rgb)(c),d=(0,p.getAttributeValue)(t,"opacity"),y=Number.isFinite(d)?d:h.DEFAULT_OPACITY;e.beginPath(),e.moveTo(u(n[0])+r,s(n[0])+i),n.forEach(function(t){return e.lineTo(u(t)+r,s(t)+i)}),e.strokeStyle="rgba("+l.r+", "+l.g+", "+l.b+", "+y+")",e.lineWidth=o,a&&e.setLineDash(a),e.stroke(),e.lineWidth=1}}},{key:"requiresSVG",get:function(){return!1}},{key:"isCanvas",get:function(){return!0}}]),e}(y.default);v.displayName="LineSeriesCanvas",v.defaultProps=u({},y.default.defaultProps,{strokeWidth:1,strokeDasharray:""}),v.propTypes=u({},y.default.propTypes,{strokeWidth:l.default.number}),e.default=v},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(30),l=n(10),f=n(12),h=n(6),p=r(h),d=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),s(e,[{key:"render",value:function(){return null}}],[{key:"renderLayer",value:function(t,e){var n=t.data,r=t.marginLeft,i=t.marginTop,o=(0,f.getAttributeFunctor)(t,"x"),a=(0,f.getAttributeFunctor)(t,"y"),u=(0,f.getAttributeFunctor)(t,"size")||function(t){return l.DEFAULT_SIZE},s=(0,f.getAttributeFunctor)(t,"fill")||(0,f.getAttributeFunctor)(t,"color"),h=(0,f.getAttributeFunctor)(t,"stroke")||(0,f.getAttributeFunctor)(t,"color"),p=(0,f.getAttributeFunctor)(t,"opacity");n.forEach(function(t){var n=(0,c.rgb)(s(t)),f=(0,c.rgb)(h(t)),d=p(t)||l.DEFAULT_OPACITY;e.beginPath(),e.arc(o(t)+r,a(t)+i,u(t),0,2*Math.PI),e.fillStyle="rgba("+n.r+", "+n.g+", "+n.b+", "+d+")",e.fill(),e.strokeStyle="rgba("+f.r+", "+f.g+", "+f.b+", "+d+")",e.stroke()})}},{key:"requiresSVG",get:function(){return!1}},{key:"isCanvas",get:function(){return!0}}]),e}(p.default);d.displayName="MarkSeriesCanvas",d.propTypes=u({},p.default.propTypes),e.default=d},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(1),l=r(c),f=n(6),h=r(f),p=n(158),d=r(p),y=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),s(e,[{key:"render",value:function(){return l.default.createElement(d.default,u({},this.props,{linePosAttr:"x",valuePosAttr:"y",lineSizeAttr:"width",valueSizeAttr:"height"}))}}],[{key:"getParentConfig",value:function(t){var e=!1,n="y"===t;return{isDomainAdjustmentNeeded:e,zeroBaseValue:n}}}]),e}(h.default);y.displayName="VerticalRectSeries",e.default=y},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){var e=t.className,n=t.extent,r=t.nodes,i=t.onBlur,a=t.onClick,s=t.onMouseUp,c=t.onMouseDown,f=t.onHover,h=t.polygonStyle,p=t.style,d=t.x,y=t.y,v=(0,l.voronoi)().x(d).y(y).extent(n);return u.default.createElement("g",{className:e+" rv-voronoi",style:p},v.polygons(r).map(function(t,e){return u.default.createElement("path",{className:"rv-voronoi__cell "+(t.data&&t.data.className||""),d:"M"+t.join("L")+"Z",onClick:function(){return a(t.data)},onMouseUp:function(){return s(t.data)},onMouseDown:function(){return c(t.data)},onMouseOver:function(){return f(t.data)},onMouseOut:function(){return i(t.data)},fill:"none",style:o({pointerEvents:"all"},h,t.data&&t.data.style),key:e})}))}Object.defineProperty(e,"__esModule",{value:!0});var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=n(1),u=r(a),s=n(2),c=r(s),l=n(188),f=function(t){return t};i.requiresSVG=!0,i.defaultProps={className:"",onBlur:f,onClick:f,onHover:f,onMouseDown:f,onMouseUp:f,x:function(t){return t.x},y:function(t){return t.y}},i.propTypes={className:c.default.string,extent:c.default.arrayOf(c.default.arrayOf(c.default.number)).isRequired,nodes:c.default.arrayOf(c.default.object).isRequired,onBlur:c.default.func,onClick:c.default.func,onHover:c.default.func,onMouseDown:c.default.func,onMouseUp:c.default.func,x:c.default.func,y:c.default.func},e.default=i},,,,,,function(t,e){!function(t){"use strict";function e(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function n(t){return"string"!=typeof t&&(t=String(t)),t}function r(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return g.iterable&&(e[Symbol.iterator]=function(){return e}),e}function i(t){this.map={},t instanceof i?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function o(t){return t.bodyUsed?Promise.reject(new TypeError("Already read")):void(t.bodyUsed=!0)}function a(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function u(t){var e=new FileReader,n=a(e);return e.readAsArrayBuffer(t),n}function s(t){var e=new FileReader,n=a(e);return e.readAsText(t),n}function c(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}function l(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function f(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"==typeof t)this._bodyText=t;else if(g.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(g.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(g.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(g.arrayBuffer&&g.blob&&m(t))this._bodyArrayBuffer=l(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!g.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!b(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=l(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):g.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},g.blob&&(this.blob=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(u)}),this.text=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return s(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(c(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},g.formData&&(this.formData=function(){return this.text().then(d)}),this.json=function(){return this.text().then(JSON.parse)},this}function h(t){var e=t.toUpperCase();return w.indexOf(e)>-1?e:t}function p(t,e){e=e||{};var n=e.body;if(t instanceof p){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new i(t.headers)),this.method=t.method,this.mode=t.mode,n||null==t._bodyInit||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new i(e.headers)),this.method=h(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function d(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}}),e}function y(t){var e=new i,n=t.replace(/\r?\n[\t ]+/g," ");return n.split(/\r?\n/).forEach(function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();e.append(r,i)}}),e}function v(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new i(e.headers),this.url=e.url||"",this._initBody(t)}if(!t.fetch){var g={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(g.arrayBuffer)var _=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],m=function(t){return t&&DataView.prototype.isPrototypeOf(t)},b=ArrayBuffer.isView||function(t){return t&&_.indexOf(Object.prototype.toString.call(t))>-1};i.prototype.append=function(t,r){t=e(t),r=n(r);var i=this.map[t];this.map[t]=i?i+","+r:r},i.prototype.delete=function(t){delete this.map[e(t)]},i.prototype.get=function(t){return t=e(t),this.has(t)?this.map[t]:null},i.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},i.prototype.set=function(t,r){this.map[e(t)]=n(r)},i.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},i.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),r(t)},i.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),r(t)},i.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),r(t)},g.iterable&&(i.prototype[Symbol.iterator]=i.prototype.entries);var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];p.prototype.clone=function(){return new p(this,{body:this._bodyInit})},f.call(p.prototype),f.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},v.error=function(){var t=new v(null,{status:0,statusText:""});return t.type="error",t};var E=[301,302,303,307,308];v.redirect=function(t,e){if(E.indexOf(e)===-1)throw new RangeError("Invalid status code");return new v(null,{status:e,headers:{location:t}})},t.Headers=i,t.Request=p,t.Response=v,t.fetch=function(t,e){return new Promise(function(n,r){var i=new p(t,e),o=new XMLHttpRequest;o.onload=function(){var t={status:o.status,statusText:o.statusText,headers:y(o.getAllResponseHeaders()||"")};t.url="responseURL"in o?o.responseURL:t.headers.get("X-Request-URL");var e="response"in o?o.response:o.responseText;n(new v(e,t))},o.onerror=function(){r(new TypeError("Network request failed"))},o.ontimeout=function(){r(new TypeError("Network request failed"))},o.open(i.method,i.url,!0),"include"===i.credentials?o.withCredentials=!0:"omit"===i.credentials&&(o.withCredentials=!1),"responseType"in o&&g.blob&&(o.responseType="blob"),i.headers.forEach(function(t,e){o.setRequestHeader(e,t)}),o.send("undefined"==typeof i._bodyInit?null:i._bodyInit)})},t.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},function(t,e,n){(function(t){(function(){function t(t){return"string"==typeof t}function e(t){return"boolean"==typeof t}function r(){}function i(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&"undefined"!=typeof t.splice&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof t.call&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&"undefined"==typeof t.call)return"object";return e}function o(t){return null===t}function a(t){return"array"==i(t)}function u(t){var e=i(t);return"array"==e||"object"==e&&"number"==typeof t.length}function s(t){return"function"==i(t)}function c(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function l(t,e,n){return t.call.apply(t.bind,arguments)}function f(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function h(t,e,n){return h=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?l:f,h.apply(null,arguments)}function p(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function d(t,e){function n(){}n.prototype=e.prototype,t.lb=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ad=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function y(t){t.prototype.then=t.prototype.then,t.prototype.$goog_Thenable=!0}function v(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}}function g(t){if(Error.captureStackTrace)Error.captureStackTrace(this,g);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function _(t,e){t=t.split("%s");for(var n="",r=t.length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");g.call(this,n+t[r])}function m(t,e){throw new _("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function b(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function w(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function E(){this.b=this.a=null}function T(){var t=Fs,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function S(){this.next=this.b=this.a=null}function O(e,n){var r=e.length,i=t(e)?e.split(""):e;for(--r;0<=r;--r)r in i&&n.call(void 0,i[r],r,e)}function C(e){t:{for(var n=qr,r=e.length,i=t(e)?e.split(""):e,o=0;o<r;o++)if(o in i&&n.call(void 0,i[o],o,e)){n=o;break t}n=-1}return 0>n?null:t(e)?e.charAt(n):e[n]}function k(t,e){return 0<=bs(t,e)}function x(t,e){e=bs(t,e);var n;return(n=0<=e)&&Array.prototype.splice.call(t,e,1),n}function P(t,e){var n=0;O(t,function(r,i){e.call(void 0,r,i,t)&&1==Array.prototype.splice.call(t,i,1).length&&n++})}function N(t){return Array.prototype.concat.apply([],arguments)}function A(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function I(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function R(t){return As.test(t)?(-1!=t.indexOf("&")&&(t=t.replace(Os,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(Cs,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(ks,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(xs,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(Ps,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(Ns,"&#0;")),t):t}function M(t,e){return-1!=t.indexOf(e)}function D(t,e){return t<e?-1:t>e?1:0}function L(t){return M(ms,t)}function j(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function F(t){for(var e in t)return!1;return!0}function U(t){var e,n={};for(e in t)n[e]=t[e];return n}function V(t,e){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(var o=0;o<Ls.length;o++)n=Ls[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function B(t){ds.setTimeout(function(){throw t},0)}function W(){var t=ds.MessageChannel;if("undefined"==typeof t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!L("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",t.src="",document.documentElement.appendChild(t);var e=t.contentWindow;t=e.document,t.open(),t.write(""),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=h(function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),"undefined"!=typeof t&&!L("Trident")&&!L("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){n=n.next;var t=n.rb;n.rb=null,t()}},function(t){r.next={rb:t},r=r.next,e.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){ds.setTimeout(t,0)}}function q(t,e){Ds||H(),js||(Ds(),js=!0),Fs.add(t,e)}function H(){if(ds.Promise&&ds.Promise.resolve){var t=ds.Promise.resolve(void 0);Ds=function(){t.then(z)}}else Ds=function(){var t=z;!s(ds.setImmediate)||ds.Window&&ds.Window.prototype&&!L("Edge")&&ds.Window.prototype.setImmediate==ds.setImmediate?(Ms||(Ms=W()),Ms(t)):ds.setImmediate(t)}}function z(){for(var t;t=T();){try{t.a.call(t.b)}catch(t){B(t)}w(_s,t)}js=!1}function G(t,e){if(this.a=Us,this.j=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=r)try{var n=this;t.call(e,function(t){rt(n,Vs,t)},function(t){if(!(t instanceof ft))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}rt(n,Bs,t)})}catch(t){rt(this,Bs,t)}}function K(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}function Y(t,e,n){var r=Ws.get();return r.g=t,r.b=e,r.f=n,r}function X(t){if(t instanceof G)return t;var e=new G(r);return rt(e,Vs,t),e}function Q(t){return new G(function(e,n){n(t)})}function $(t,e,n){it(t,e,n,null)||q(p(e,t))}function J(t){return new G(function(e,n){var r=t.length,i=[];if(r)for(var o,a=function(t,n){r--,i[t]=n,0==r&&e(i)},u=function(t){n(t)},s=0;s<t.length;s++)o=t[s],$(o,p(a,s),u);else e(i)})}function Z(t){return new G(function(e){var n=t.length,r=[];if(n)for(var i,o=function(t,i,o){n--,r[t]=i?{Zb:!0,value:o}:{Zb:!1,reason:o},0==n&&e(r)},a=0;a<t.length;a++)i=t[a],$(i,p(o,a,!0),p(o,a,!1));else e(r)})}function tt(t,e){if(t.a==Us)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==t&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==Us&&1==r?tt(n,e):(o?(r=o,r.next==n.f&&(n.f=r),r.next=r.next.next):ut(n),st(n,i,Bs,e)));
}t.c=null}else rt(t,Bs,e)}function et(t,e){t.b||t.a!=Vs&&t.a!=Bs||at(t),t.f?t.f.next=e:t.b=e,t.f=e}function nt(t,e,n,r){var i=Y(null,null,null);return i.a=new G(function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(t){o(t)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof ft?o(e):t(i)}catch(t){o(t)}}:o}),i.a.c=t,et(t,i),i.a}function rt(t,e,n){t.a==Us&&(t===n&&(e=Bs,n=new TypeError("Promise cannot resolve to itself")),t.a=1,it(n,t.Kc,t.Lc,t)||(t.j=n,t.a=e,t.c=null,at(t),e!=Bs||n instanceof ft||lt(t,n)))}function it(t,e,n,i){if(t instanceof G)return et(t,Y(e||r,n||null,i)),!0;if(v(t))return t.then(e,n,i),!0;if(c(t))try{var o=t.then;if(s(o))return ot(t,o,e,n,i),!0}catch(t){return n.call(i,t),!0}return!1}function ot(t,e,n,r,i){function o(t){u||(u=!0,r.call(i,t))}function a(t){u||(u=!0,n.call(i,t))}var u=!1;try{e.call(t,a,o)}catch(t){o(t)}}function at(t){t.h||(t.h=!0,q(t.Ub,t))}function ut(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function st(t,e,n,r){if(n==Bs&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,ct(e,n,r);else try{e.c?e.g.call(e.f):ct(e,n,r)}catch(t){qs.call(null,t)}w(Ws,e)}function ct(t,e,n){e==Vs?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}function lt(t,e){t.g=!0,q(function(){t.g&&qs.call(null,e)})}function ft(t){g.call(this,t)}function ht(){0!=Hs&&(zs[this[ys]||(this[ys]=++vs)]=this),this.pa=this.pa,this.oa=this.oa}function pt(t){if(!t.pa&&(t.pa=!0,t.ua(),0!=Hs)){var e=t[ys]||(t[ys]=++vs);if(0!=Hs&&t.oa&&0<t.oa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete zs[e]}}function dt(t){return dt[" "](t),t}function yt(t,e){var n=rc;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}function vt(){var t=ds.document;return t?t.documentMode:void 0}function gt(t){return yt(t,function(){for(var e=0,n=Ss(String(Gs)).split("."),r=Ss(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",u=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==a[0].length&&0==u[0].length)break;e=D(0==a[1].length?0:parseInt(a[1],10),0==u[1].length?0:parseInt(u[1],10))||D(0==a[2].length,0==u[2].length)||D(a[2],u[2]),a=a[3],u=u[3]}while(0==e)}return 0<=e})}function _t(t,e){this.type=t,this.b=this.target=e,this.Eb=!0}function mt(e,n){if(_t.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var r=this.type=e.type,i=e.changedTouches?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=n,n=e.relatedTarget){if($s){t:{try{dt(n.nodeName);var o=!0;break t}catch(t){}o=!1}o||(n=null)}}else"mouseover"==r?n=e.fromElement:"mouseout"==r&&(n=e.toElement);this.relatedTarget=n,null===i?(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=t(e.pointerType)?e.pointerType:cc[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}function bt(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.La=i,this.key=++fc,this.ma=this.Ha=!1}function wt(t){t.ma=!0,t.listener=null,t.proxy=null,t.src=null,t.La=null}function Et(t){this.src=t,this.a={},this.b=0}function Tt(t,e){var n=e.type;n in t.a&&x(t.a[n],e)&&(wt(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function St(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ma&&o.listener==e&&o.capture==!!n&&o.La==r)return i}return-1}function Ot(t,e,n,r,i){if(r&&r.once)xt(t,e,n,r,i);else if(a(e))for(var o=0;o<e.length;o++)Ot(t,e[o],n,r,i);else n=Lt(n),t&&t[lc]?Ft(t,e,n,c(r)?!!r.capture:!!r,i):Ct(t,e,n,!1,r,i)}function Ct(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=c(i)?!!i.capture:!!i,u=Dt(t);if(u||(t[hc]=u=new Et(t)),n=u.add(e,n,r,a,o),!n.proxy){if(r=kt(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)sc||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(At(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}dc++}}function kt(){var t=Mt,e=ac?function(n){return t.call(e.src,e.listener,n)}:function(n){if(n=t.call(e.src,e.listener,n),!n)return n};return e}function xt(t,e,n,r,i){if(a(e))for(var o=0;o<e.length;o++)xt(t,e[o],n,r,i);else n=Lt(n),t&&t[lc]?Ut(t,e,n,c(r)?!!r.capture:!!r,i):Ct(t,e,n,!0,r,i)}function Pt(t,e,n,r,i){if(a(e))for(var o=0;o<e.length;o++)Pt(t,e[o],n,r,i);else r=c(r)?!!r.capture:!!r,n=Lt(n),t&&t[lc]?(t=t.u,e=String(e).toString(),e in t.a&&(o=t.a[e],n=St(o,n,r,i),-1<n&&(wt(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=Dt(t))&&(e=t.a[e.toString()],t=-1,e&&(t=St(e,n,r,i)),(n=-1<t?e[t]:null)&&Nt(n))}function Nt(t){if("number"!=typeof t&&t&&!t.ma){var e=t.src;if(e&&e[lc])Tt(e.u,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(At(n),r):e.addListener&&e.removeListener&&e.removeListener(r),dc--,(n=Dt(e))?(Tt(n,t),0==n.b&&(n.src=null,e[hc]=null)):wt(t)}}}function At(t){return t in pc?pc[t]:pc[t]="on"+t}function It(t,e,n,r){var i=!0;if((t=Dt(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.ma&&(o=Rt(o,r),i=i&&!1!==o)}return i}function Rt(t,e){var n=t.listener,r=t.La||t.src;return t.Ha&&Nt(t),n.call(r,e)}function Mt(t,e){if(t.ma)return!0;if(!ac){if(!e)t:{e=["window","event"];for(var n=ds,r=0;r<e.length;r++)if(n=n[e[r]],null==n){e=null;break t}e=n}if(r=e,e=new mt(r,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=It(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=It(r[i],t,!1,e),n=n&&o}return n}return Rt(t,new mt(e,this))}function Dt(t){return t=t[hc],t instanceof Et?t:null}function Lt(t){return s(t)?t:(t[yc]||(t[yc]=function(e){return t.handleEvent(e)}),t[yc])}function jt(){ht.call(this),this.u=new Et(this),this.Mb=this,this.Ta=null}function Ft(t,e,n,r,i){t.u.add(String(e),n,!1,r,i)}function Ut(t,e,n,r,i){t.u.add(String(e),n,!0,r,i)}function Vt(t,e,n,r){if(e=t.u.a[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.ma&&a.capture==n){var u=a.listener,s=a.La||a.src;a.Ha&&Tt(t.u,a),i=!1!==u.call(s,r)&&i}}return i&&0!=r.Eb}function Bt(t,e,n){if(s(t))n&&(t=h(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=h(t.handleEvent,t)}return 2147483647<Number(e)?-1:ds.setTimeout(t,e||0)}function Wt(t){var e=null;return new G(function(n,r){e=Bt(function(){n(void 0)},t),-1==e&&r(Error("Failed to schedule timer."))}).m(function(t){throw ds.clearTimeout(e),t})}function qt(e){if(e.S&&"function"==typeof e.S)return e.S();if(t(e))return e.split("");if(u(e)){for(var n=[],r=e.length,i=0;i<r;i++)n.push(e[i]);return n}n=[],r=0;for(i in e)n[r++]=e[i];return n}function Ht(e){if(e.U&&"function"==typeof e.U)return e.U();if(!e.S||"function"!=typeof e.S){if(u(e)||t(e)){var n=[];e=e.length;for(var r=0;r<e;r++)n.push(r);return n}n=[],r=0;for(var i in e)n[r++]=i;return n}}function zt(e,n){if(e.forEach&&"function"==typeof e.forEach)e.forEach(n,void 0);else if(u(e)||t(e))ws(e,n,void 0);else for(var r=Ht(e),i=qt(e),o=i.length,a=0;a<o;a++)n.call(void 0,i[a],r&&r[a],e)}function Gt(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Gt)for(n=t.U(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Kt(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Yt(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)r=t.a[e],Yt(i,r)||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Yt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Xt(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Qt(t,e){if(this.b=this.l=this.c="",this.j=null,this.h=this.g="",this.f=!1,t instanceof Qt){this.f=void 0!==e?e:t.f,$t(this,t.c),this.l=t.l,this.b=t.b,Jt(this,t.j),this.g=t.g,e=t.a;var n=new ue;n.c=e.c,e.a&&(n.a=new Gt(e.a),n.b=e.b),Zt(this,n),this.h=t.h}else t&&(n=String(t).match(vc))?(this.f=!!e,$t(this,n[1]||"",!0),this.l=ie(n[2]||""),this.b=ie(n[3]||"",!0),Jt(this,n[4]),this.g=ie(n[5]||"",!0),Zt(this,n[6]||"",!0),this.h=ie(n[7]||"")):(this.f=!!e,this.a=new ue(null,this.f))}function $t(t,e,n){t.c=n?ie(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function Jt(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.j=e}else t.j=null}function Zt(t,e,n){e instanceof ue?(t.a=e,de(t.a,t.f)):(n||(e=oe(e,bc)),t.a=new ue(e,t.f))}function te(t,e,n){t.a.set(e,n)}function ee(t,e){return t.a.get(e)}function ne(t){return t instanceof Qt?new Qt(t):new Qt(t,void 0)}function re(t,e){var n=new Qt(null,void 0);return $t(n,"https"),t&&(n.b=t),e&&(n.g=e),n}function ie(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function oe(e,n,r){return t(e)?(e=encodeURI(e).replace(n,ae),r&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ae(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(15&t).toString(16)}function ue(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function se(t){t.a||(t.a=new Gt,t.b=0,t.c&&Xt(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function ce(t){var e=Ht(t);if("undefined"==typeof e)throw Error("Keys are undefined");var n=new ue(null,void 0);t=qt(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];a(o)?he(n,i,o):n.add(i,o)}return n}function le(t,e){se(t),e=pe(t,e),Yt(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,t=t.a,Yt(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Kt(t)))}function fe(t,e){return se(t),e=pe(t,e),Yt(t.a.b,e)}function he(t,e,n){le(t,e),0<n.length&&(t.c=null,t.a.set(pe(t,e),A(n)),t.b+=n.length)}function pe(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function de(t,e){e&&!t.f&&(se(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(le(this,e),he(this,n,t))},t)),t.f=e}function ye(){this.a="",this.b=Tc}function ve(t){return t instanceof ye&&t.constructor===ye&&t.b===Tc?t.a:(m("expected object of type Const, got '"+t+"'"),"type_error:Const")}function ge(t){var e=new ye;return e.a=t,e}function _e(){this.a="",this.b=Cc}function me(t){return t instanceof _e&&t.constructor===_e&&t.b===Cc?t.a:(m("expected object of type TrustedResourceUrl, got '"+t+"' of type "+i(t)),"type_error:TrustedResourceUrl")}function be(t,e){var n=ve(t);if(!Oc.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return t=n.replace(Sc,function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return t=e[r],t instanceof ye?ve(t):encodeURIComponent(String(t))}),we(t)}function we(t){var e=new _e;return e.a=t,e}function Ee(){this.a="",this.b=xc}function Te(t){return t instanceof Ee&&t.constructor===Ee&&t.b===xc?t.a:(m("expected object of type SafeUrl, got '"+t+"' of type "+i(t)),"type_error:SafeUrl")}function Se(t){return t instanceof Ee?t:(t=t.la?t.ja():String(t),kc.test(t)||(t="about:invalid#zClosurez"),Oe(t))}function Oe(t){var e=new Ee;return e.a=t,e}function Ce(){this.a="",this.b=Pc}function ke(t){return t instanceof Ce&&t.constructor===Ce&&t.b===Pc?t.a:(m("expected object of type SafeHtml, got '"+t+"' of type "+i(t)),"type_error:SafeHtml")}function xe(t){var e=new Ce;return e.a=t,e}function Pe(e){var n=document;return t(e)?n.getElementById(e):e}function Ne(t,e){j(e,function(e,n){e&&e.la&&(e=e.ja()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:Nc.hasOwnProperty(n)?t.setAttribute(Nc[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e})}function Ae(e,n,r){var i=arguments,o=document,u=String(i[0]),s=i[1];if(!Ec&&s&&(s.name||s.type)){if(u=["<",u],s.name&&u.push(' name="',R(s.name),'"'),s.type){u.push(' type="',R(s.type),'"');var c={};V(c,s),delete c.type,s=c}u.push(">"),u=u.join("")}return u=o.createElement(u),s&&(t(s)?u.className=s:a(s)?u.className=s.join(" "):Ne(u,s)),2<i.length&&Ie(o,u,i),u}function Ie(e,n,r){function i(r){r&&n.appendChild(t(r)?e.createTextNode(r):r)}for(var o=2;o<r.length;o++){var a=r[o];!u(a)||c(a)&&0<a.nodeType?i(a):ws(Re(a)?A(a):a,i)}}function Re(t){if(t&&"number"==typeof t.length){if(c(t))return"function"==typeof t.item||"string"==typeof t.item;if(s(t))return"function"==typeof t.item}return!1}function Me(t){var e=[];return Le(new De,t,e),e.join("")}function De(){}function Le(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(a(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),Le(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){n.push("{"),i="";for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&(o=e[r],"function"!=typeof o&&(n.push(i),je(r,n),n.push(":"),Le(t,o,n),i=","));return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":je(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}function je(t,e){e.push('"',t.replace(Ic,function(t){var e=Ac[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),Ac[t]=e),e}),'"')}function Fe(){var t=nn();return Ys&&!!nc&&11==nc||/Edge\/\d+/.test(t)}function Ue(){return ds.window&&ds.window.location.href||self&&self.location&&self.location.href||""}function Ve(t,e){e=e||ds.window;var n="about:blank";t&&(n=Te(Se(t))),e.location.href=n}function Be(t,e){var n,r=[];for(n in t)if(n in e)if(typeof t[n]!=typeof e[n])r.push(n);else if(a(t[n])){t:{var i=void 0,o=t[n],u=e[n];for(i in o)if(!(i in u)||o[i]!==u[i]){i=!1;break t}for(i in u)if(!(i in o)){i=!1;break t}i=!0}i||r.push(n)}else"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<Be(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n);else r.push(n);for(n in e)n in t||r.push(n);return r}function We(){var t=nn();return t=tn(t)!=Dc?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null,!(t&&30>t)&&(!Ys||!nc||9<nc)}function qe(t){return t=(t||nn()).toLowerCase(),!!(t.match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function He(t){t=t||ds.window;try{t.close()}catch(t){}}function ze(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=nn().toLowerCase(),r&&(e.target=r,M(n,"crios/")&&(e.target="_blank")),tn(nn())==Mc&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Ee?n:Se("undefined"!=typeof n.href?n.href:String(n)),n=t.target||n.target,i=[];for(a in t)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(t[a]?1:0))}var a=i.join(",");if((L("iPhone")&&!L("iPod")&&!L("iPad")||L("iPad")||L("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(a=r.document.createElement("A"),e instanceof Ee||e instanceof Ee||(e=e.la?e.ja():String(e),kc.test(e)||(e="about:invalid#zClosurez"),e=Oe(e)),a.href=Te(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),t=document.createEvent("MouseEvent"),t.initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=r.open("",n,a),t=Te(e),a&&(Qs&&M(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,ge("b/12014412, meta tag with sanitized URL"),t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+R(t)+'">',t=xe(t),a.document.write(ke(t)),a.document.close())):(a=r.open(Te(e),n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(t){}return a}function Ge(t){return new G(function(e){function n(){Wt(2e3).then(function(){return t&&!t.closed?n():void e()})}return n()})}function Ke(){var t=null;return new G(function(e){"complete"==ds.document.readyState?e():(t=function(){e()},xt(window,"load",t))}).m(function(e){throw Pt(window,"load",t),e})}function Ye(){return Xe(void 0)?Ke().then(function(){return new G(function(t,e){var n=ds.document,r=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(r),t()},!1)})}):Q(Error("Cordova must run in an Android or iOS file scheme."))}function Xe(t){return t=t||nn(),!("file:"!==sn()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function Qe(){var t=ds.window;try{return!(!t||t==t.top)}catch(t){return!1}}function $e(){return"object"!=typeof ds.window&&"function"==typeof ds.importScripts}function Je(){return hs.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":hs.INTERNAL.hasOwnProperty("node")?"Node":$e()?"Worker":"Browser"}function Ze(){var t=Je();return"ReactNative"===t||"Node"===t}function tn(t){var e=t.toLowerCase();return M(e,"opera/")||M(e,"opr/")||M(e,"opios/")?"Opera":M(e,"iemobile")?"IEMobile":M(e,"msie")||M(e,"trident/")?"IE":M(e,"edge/")?"Edge":M(e,"firefox/")?Mc:M(e,"silk/")?"Silk":M(e,"blackberry")?"Blackberry":M(e,"webos")?"Webos":!M(e,"safari/")||M(e,"chrome/")||M(e,"crios/")||M(e,"android")?!M(e,"chrome/")&&!M(e,"crios/")||M(e,"edge/")?M(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Dc:"Safari"}function en(t,e){e=e||[];var n,r=[],i={};for(n in Lc)i[Lc[n]]=!0;for(n=0;n<e.length;n++)"undefined"!=typeof i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),e=r,e.length||(e=["FirebaseCore-web"]),r=Je(),"Browser"===r?(i=nn(),r=tn(i)):"Worker"===r&&(i=nn(),r=tn(i)+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function nn(){return ds.navigator&&ds.navigator.userAgent||""}function rn(t,e){t=t.split("."),e=e||ds;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function on(){try{var t=ds.localStorage,e=pn();if(t)return t.setItem(e,"1"),t.removeItem(e),!Fe()||!!ds.indexedDB}catch(t){return $e()&&!!ds.indexedDB}return!1}function an(){return(un()||"chrome-extension:"===sn()||Xe())&&!Ze()&&on()&&!$e()}function un(){return"http:"===sn()||"https:"===sn()}function sn(){return ds.location&&ds.location.protocol||null}function cn(t){return t=t||nn(),!qe(t)&&tn(t)!=Mc}function ln(t){return"undefined"==typeof t?null:Me(t)}function fn(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function hn(t){if(null!==t)return JSON.parse(t)}function pn(t){return t?t:Math.floor(1e9*Math.random()).toString()}function dn(t){return t=t||nn(),"Safari"!=tn(t)&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function yn(){var t=ds.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function vn(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=nn(),e=Je(),this.b=qe(t)||"ReactNative"===e}function gn(){var t=ds.document;return!t||"undefined"==typeof t.visibilityState||"visible"==t.visibilityState}function _n(){var t=ds.document,e=null;return gn()||!t?X():new G(function(n){e=function(){gn()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)}).m(function(n){throw t.removeEventListener("visibilitychange",e,!1),n})}function mn(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function bn(){return!(!rn("fireauth.oauthhelper",ds)&&!rn("fireauth.iframe",ds))}function wn(t,e,n){jc?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function En(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&wn(t,n,e[n])}function Tn(t){var e={};return En(e,t),e}function Sn(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function On(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(void 0===r||null===r||""===r)return!1}return!0}function Cn(t){var e=t;if("object"==typeof t&&null!=t){e="length"in t?[]:{};for(var n in t)wn(e,n,Cn(t[n]))}return e}function kn(t){var e={},n=t[Bc],r=t[Wc];if(t=t[qc],!t||t!=Vc&&!n)throw Error("Invalid provider user info!");e[zc]=r||null,e[Hc]=n||null,wn(this,Kc,t),wn(this,Gc,Cn(e))}function xn(t,e){this.code=Yc+t,this.message=e||Xc[t]||""}function Pn(t){var e=t&&t.code;return e?new xn(e.substring(Yc.length),t.message):null}function Nn(t){var e=t[Zc];if("undefined"==typeof e)throw new xn("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new xn("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Qc];if(n&&"object"==typeof n){e=n[nl];var r=n[tl];if(n=n[el],"string"==typeof e&&e.length){if(this.a=e,"undefined"!=typeof r&&"boolean"!=typeof r)throw new xn("argument-error",tl+" property must be a boolean when specified.");if(this.g=!!r,"undefined"!=typeof n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new xn("argument-error",el+" property must be a non empty string when specified.");this.b=n||null}else{if("undefined"!=typeof e)throw new xn("argument-error",nl+" property must be a non empty string when specified.");if("undefined"!=typeof r||"undefined"!=typeof n)throw new xn("missing-android-pkg-name")}}else if("undefined"!=typeof n)throw new xn("argument-error",Qc+" property must be a non null object when specified.");if(this.f=null,(e=t[Jc])&&"object"==typeof e){if(e=e[rl],"string"==typeof e&&e.length)this.f=e;else if("undefined"!=typeof e)throw new xn("argument-error",rl+" property must be a non empty string when specified.")}else if("undefined"!=typeof e)throw new xn("argument-error",Jc+" property must be a non null object when specified.");if(t=t[$c],"undefined"!=typeof t&&"boolean"!=typeof t)throw new xn("argument-error",$c+" property must be a boolean when specified.");this.c=!!t}function An(t){var e={};e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f;for(var n in e)null===e[n]&&delete e[n];return e}function In(t){return Es(t,function(t){return t=t.toString(16),1<t.length?t:"0"+t}).join("")}function Rn(t){var e="";return Mn(t,function(t){e+=String.fromCharCode(t)}),e}function Mn(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=ol[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}Dn();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),u=n(64);if(64===u&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=u&&e(a<<6&192|u))}}function Dn(){if(!il){il={},ol={};for(var t=0;65>t;t++)il[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t),ol[il[t]]=t,62<=t&&(ol["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(t)]=t)}}function Ln(t){this.c=t.sub,gs(),this.a=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.b=!!t.is_anonymous||"anonymous"==this.a}function jn(t){return(t=Fn(t))&&t.sub&&t.iss&&t.aud&&t.exp?new Ln(t):null}function Fn(t){if(!t)return null;if(t=t.split("."),3!=t.length)return null;t=t[1];for(var e=(4-t.length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(Rn(t))}catch(t){}return null}function Un(t){for(var e in sl)if(sl[e].Na==t)return sl[e];return null}function Vn(t){var e={};e["facebook.com"]=qn,e["google.com"]=zn,e["github.com"]=Hn,e["twitter.com"]=Gn;var n=t&&t[ll];try{if(n)return e[n]?new e[n](t):new Wn(t);if("undefined"!=typeof t[cl])return new Bn(t)}catch(t){}return null}function Bn(t){var e=t[ll];if(!e&&t[cl]){var n=jn(t[cl]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,"undefined"!=typeof t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),wn(this,"providerId",e),wn(this,"isNewUser",n)}function Wn(t){Bn.call(this,t),t=hn(t.rawUserInfo||"{}"),wn(this,"profile",Cn(t||{}))}function qn(t){if(Wn.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Hn(t){if(Wn.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");wn(this,"username",this.profile&&this.profile.login||null)}function zn(t){if(Wn.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Gn(t){if(Wn.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");wn(this,"username",t.screenName||null)}function Kn(t){this.a=ne(t)}function Yn(t){var e=ne(t),n=ee(e,"link"),r=ee(ne(n),"link");return e=ee(e,"deep_link_id"),ee(ne(e),"link")||e||r||n||t}function Xn(t,e){return t.then(function(t){if(t[Pl]){var n=jn(t[Pl]);if(!n||e!=n.c)throw new xn("user-mismatch");return t}throw new xn("user-mismatch")}).m(function(t){throw t&&t.code&&t.code==Yc+"user-not-found"?new xn("user-mismatch"):t})}function Qn(t,e,n){if(e.idToken||e.accessToken)e.idToken&&wn(this,"idToken",e.idToken),e.accessToken&&wn(this,"accessToken",e.accessToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new xn("internal-error","failed to construct a credential");wn(this,"accessToken",e.oauthToken),wn(this,"secret",e.oauthTokenSecret)}wn(this,"providerId",t),wn(this,"signInMethod",n)}function $n(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,{postBody:ce(e).toString(),requestUri:"http://localhost"}}function Jn(t,e){this.Ac=e||[],En(this,{providerId:t,isOAuthProvider:!0}),this.tb={},this.Za=(Un(t)||{}).Ma||null,this.Xa=null}function Zn(t){Jn.call(this,t,ul),this.a=[]}function tr(){Zn.call(this,"facebook.com")}function er(t){if(!t)throw new xn("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return c(t)&&(e=t.accessToken),(new tr).credential(null,e)}function nr(){Zn.call(this,"github.com")}function rr(t){if(!t)throw new xn("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return c(t)&&(e=t.accessToken),(new nr).credential(null,e)}function ir(){Zn.call(this,"google.com"),this.ta("profile")}function or(t,e){var n=t;return c(t)&&(n=t.idToken,e=t.accessToken),(new ir).credential(n,e)}function ar(){Jn.call(this,"twitter.com",al)}function ur(t,e){var n=t;if(c(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new xn("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Qn("twitter.com",n,"twitter.com")}function sr(t,e,n){this.a=t,this.b=e,wn(this,"providerId","password"),wn(this,"signInMethod",n===cr.EMAIL_LINK_SIGN_IN_METHOD?cr.EMAIL_LINK_SIGN_IN_METHOD:cr.EMAIL_PASSWORD_SIGN_IN_METHOD)}function cr(){En(this,{providerId:"password",isOAuthProvider:!1})}function lr(t,e){if(e=fr(e),!e)throw new xn("argument-error","Invalid email link!");return new sr(t,e,cr.EMAIL_LINK_SIGN_IN_METHOD)}function fr(t){t=Yn(t),t=new Kn(t);var e=ee(t.a,"oobCode")||null;return"signIn"===(ee(t.a,"mode")||null)&&e?e:null}function hr(t){if(!(t.Ra&&t.Qa||t.Ea&&t.Z))throw new xn("internal-error");this.a=t,wn(this,"providerId","phone"),wn(this,"signInMethod","phone")}function pr(t){return t.a.Ea&&t.a.Z?{temporaryProof:t.a.Ea,phoneNumber:t.a.Z}:{sessionInfo:t.a.Ra,code:t.a.Qa}}function dr(t){try{this.a=t||hs.auth()}catch(t){throw new xn("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}En(this,{providerId:"phone",isOAuthProvider:!1})}function yr(t,e){if(!t)throw new xn("missing-verification-id");if(!e)throw new xn("missing-verification-code");return new hr({Ra:t,Qa:e})}function vr(t){if(t.temporaryProof&&t.phoneNumber)return new hr({Ea:t.temporaryProof,Z:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret;t=t&&t.oauthIdToken;try{switch(e){case"google.com":return or(t,n);case"facebook.com":return er(n);case"github.com":return rr(n);case"twitter.com":return ur(n,r);default:return new Zn(e).credential(t,n)}}catch(t){return null}}function gr(t){if(!t.isOAuthProvider)throw new xn("invalid-oauth-provider")}function _r(t,e,n,r,i){if(this.b=t,this.c=e||null,this.f=n||null,this.g=r||null,this.a=i||null,!this.f&&!this.a)throw new xn("invalid-auth-event");if(this.f&&this.a)throw new xn("invalid-auth-event");if(this.f&&!this.g)throw new xn("invalid-auth-event")}function mr(t){return t=t||{},t.type?new _r(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&Pn(t.error)):null}function br(){this.b=null,this.a=[]}function wr(t){var e="unauthorized-domain",n=void 0,r=ne(t);t=r.b,r=r.c,"chrome-extension"==r?n=I("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=I("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",xn.call(this,e,n)}function Er(t,e,n){xn.call(this,t,n),t=e||{},t.ub&&wn(this,"email",t.ub),t.Z&&wn(this,"phoneNumber",t.Z),t.credential&&wn(this,"credential",t.credential)}function Tr(t){if(t.code){var e=t.code||"";0==e.indexOf(Yc)&&(e=e.substring(Yc.length));var n={credential:vr(t)};if(t.email)n.ub=t.email;else{if(!t.phoneNumber)return new xn(e,t.message||void 0);n.Z=t.phoneNumber}return new Er(e,n,t.message)}return null}function Sr(){}function Or(t){return t.c||(t.c=t.b())}function Cr(){}function kr(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function xr(){}function Pr(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseText="",this.status=-1,this.statusText="",this.a.onload=h(this.bc,this),this.a.onerror=h(this.zb,this),this.a.onprogress=h(this.cc,this),this.a.ontimeout=h(this.fc,this)}function Nr(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Ar(t,e,n){this.reset(t,e,n,void 0,void 0)}function Ir(t){this.f=t,this.b=this.c=this.a=null}function Rr(t,e){this.name=t,this.value=e}function Mr(t){return t.c?t.c:t.a?Mr(t.a):(m("Root logger has no level set."),null)}function Dr(t){bl||(bl=new Ir(""),ml[""]=bl,bl.c=gl);var e;if(!(e=ml[t])){e=new Ir(t);var n=t.lastIndexOf("."),r=t.substr(n+1);n=Dr(t.substr(0,n)),n.b||(n.b={}),n.b[r]=e,e.a=n,ml[t]=e}return e}function Lr(t,e){
t&&t.log(_l,e,void 0)}function jr(t){this.f=t}function Fr(t){jt.call(this),this.j=t,this.readyState=wl,this.status=0,this.responseText=this.statusText="",this.onreadystatechange=null,this.g=new Headers,this.b=null,this.h="GET",this.c="",this.a=!1,this.f=Dr("goog.net.FetchXmlHttp")}function Ur(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function Vr(t){jt.call(this),this.headers=new Gt,this.D=t||null,this.c=!1,this.B=this.a=null,this.h=this.N=this.l="",this.f=this.I=this.j=this.G=!1,this.g=0,this.s=null,this.o=El,this.v=this.O=!1}function Br(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.N=n,t.G=!1,t.c=!0,t.a=t.D?t.D.a():pl.a(),t.B=Or(t.D?t.D:pl),t.a.onreadystatechange=h(t.Db,t);try{Lr(t.b,Jr(t,"Opening Xhr")),t.I=!0,t.a.open(n,String(e),!0),t.I=!1}catch(e){return Lr(t.b,Jr(t,"Error opening Xhr: "+e.message)),void Hr(t,e)}e=r||"";var o=new Gt(t.headers);i&&zt(i,function(t,e){o.set(e,t)}),i=C(o.U()),r=ds.FormData&&e instanceof ds.FormData,!k(Sl,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(t,e){this.a.setRequestHeader(e,t)},t),t.o&&(t.a.responseType=t.o),"withCredentials"in t.a&&t.a.withCredentials!==t.O&&(t.a.withCredentials=t.O);try{Yr(t),0<t.g&&(t.v=Wr(t.a),Lr(t.b,Jr(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.v)),t.v?(t.a.timeout=t.g,t.a.ontimeout=h(t.Fa,t)):t.s=Bt(t.Fa,t.g,t)),Lr(t.b,Jr(t,"Sending request")),t.j=!0,t.a.send(e),t.j=!1}catch(e){Lr(t.b,Jr(t,"Send error: "+e.message)),Hr(t,e)}}function Wr(t){return Ys&&gt(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}function qr(t){return"content-type"==t.toLowerCase()}function Hr(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,zr(t),Kr(t)}function zr(t){t.G||(t.G=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Gr(t){if(t.c&&"undefined"!=typeof ps)if(t.B[1]&&4==Xr(t)&&2==Qr(t))Lr(t.b,Jr(t,"Local request error detected and ignored"));else if(t.j&&4==Xr(t))Bt(t.Db,0,t);else if(t.dispatchEvent("readystatechange"),4==Xr(t)){Lr(t.b,Jr(t,"Request complete")),t.c=!1;try{var e=Qr(t);t:switch(e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break t;default:n=!1}var r;if(!(r=n)){var i;if(i=0===e){var o=String(t.l).match(vc)[1]||null;if(!o&&ds.self&&ds.self.location){var a=ds.self.location.protocol;o=a.substr(0,a.length-1)}i=!Tl.test(o?o.toLowerCase():"")}r=i}if(r)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var u=2<Xr(t)?t.a.statusText:""}catch(e){Lr(t.b,"Can not get status: "+e.message),u=""}t.h=u+" ["+Qr(t)+"]",zr(t)}}finally{Kr(t)}}}function Kr(t,e){if(t.a){Yr(t);var n=t.a,i=t.B[0]?r:null;t.a=null,t.B=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=i}catch(e){(t=t.b)&&t.log(yl,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function Yr(t){t.a&&t.v&&(t.a.ontimeout=null),t.s&&(ds.clearTimeout(t.s),t.s=null)}function Xr(t){return t.a?t.a.readyState:0}function Qr(t){try{return 2<Xr(t)?t.a.status:-1}catch(t){return-1}}function $r(t){try{return t.a?t.a.responseText:""}catch(e){return Lr(t.b,"Can not get responseText: "+e.message),""}}function Jr(t,e){return e+" ["+t.N+" "+t.l+" "+Qr(t)+"]"}function Zr(t,e){this.g=[],this.v=t,this.s=e||null,this.f=this.a=!1,this.c=void 0,this.u=this.B=this.j=!1,this.h=0,this.b=null,this.l=0}function ti(t,e,n){t.a=!0,t.c=n,t.f=!e,oi(t)}function ei(t){if(t.a){if(!t.u)throw new ai(t);t.u=!1}}function ni(t,e){ri(t,null,e,void 0)}function ri(t,e,n,r){t.g.push([e,n,r]),t.a&&oi(t)}function ii(t){return Ts(t.g,function(t){return s(t[1])})}function oi(t){if(t.h&&t.a&&ii(t)){var e=t.h,n=Ol[e];n&&(ds.clearTimeout(n.a),delete Ol[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.j;){var i=t.g.shift(),o=i[0],a=i[1];if(i=i[2],o=t.f?a:o)try{var u=o.call(i||t.s,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(v(e)||"function"==typeof ds.Promise&&e instanceof ds.Promise)&&(r=!0,t.j=!0)}catch(r){e=r,t.f=!0,ii(t)||(n=!0)}}t.c=e,r&&(u=h(t.o,t,!0),r=h(t.o,t,!1),e instanceof Zr?(ri(e,u,r),e.B=!0):e.then(u,r)),n&&(e=new si(e),Ol[e.a]=e,t.h=e.a)}function ai(){g.call(this)}function ui(){g.call(this)}function si(t){this.a=ds.setTimeout(h(this.c,this),0),this.b=t}function ci(t){var e={},n=e.document||document,r=me(t),i=document.createElement("SCRIPT"),o={Fb:i,Fa:void 0},a=new Zr(fi,o),u=null,s=null!=e.timeout?e.timeout:5e3;return 0<s&&(u=window.setTimeout(function(){hi(i,!0);var t=new pi(kl,"Timeout reached for loading script "+r);ei(a),ti(a,!1,t)},s),o.Fa=u),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(hi(i,e.bd||!1,u),a.D())},i.onerror=function(){hi(i,!0,u);var t=new pi(Cl,"Error while loading script "+r);ei(a),ti(a,!1,t)},o=e.attributes||{},V(o,{type:"text/javascript",charset:"UTF-8"}),Ne(i,o),i.src=me(t),li(n).appendChild(i),a}function li(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}function fi(){if(this&&this.Fb){var t=this.Fb;t&&"SCRIPT"==t.tagName&&hi(t,!0,this.Fa)}}function hi(t,e,n){null!=n&&ds.clearTimeout(n),t.onload=r,t.onerror=r,t.onreadystatechange=r,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)}function pi(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),g.call(this,n),this.code=t}function di(t){this.f=t}function yi(t,e,n){if(this.b=t,t=e||{},this.j=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.l=t.secureTokenTimeout||Nl,this.f=U(t.secureTokenHeaders||Al),this.g=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.h=t.firebaseTimeout||Il,this.a=U(t.firebaseHeaders||Rl),n&&(this.a["X-Client-Version"]=n,this.f["X-Client-Version"]=n),n="Node"==Je(),n=ds.XMLHttpRequest||n&&hs.INTERNAL.node&&hs.INTERNAL.node.XMLHttpRequest,!n&&!$e())throw new xn("internal-error","The XMLHttpRequest compatibility library was not found.");this.c=void 0,$e()?this.c=new jr(self):Ze()?this.c=new di(n):this.c=new xr}function vi(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function gi(t,e){e?(t.a["X-Client-Version"]=e,t.f["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.f["X-Client-Version"])}function _i(t,e,n,r,i,o,a){We()||$e()?t=h(t.o,t):(xl||(xl=new G(function(t,e){mi(t,e)})),t=h(t.u,t)),t(e,n,r,i,o,a)}function mi(t,e){if(((window.gapi||{}).client||{}).request)t();else{ds[Dl]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))};var n=be(Ml,{onload:Dl});ni(ci(n),function(){e(Error("CORS_UNSUPPORTED"))})}}function bi(t,e){return new G(function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?_i(t,t.j+"?key="+encodeURIComponent(t.b),function(t){t?t.error?r(Ui(t)):t.access_token&&t.refresh_token?n(t):r(new xn("internal-error")):r(new xn("network-request-failed"))},"POST",ce(e).toString(),t.f,t.l.get()):r(new xn("internal-error"))})}function wi(t,e,n,r,i,o){var a=ne(t.g+e);te(a,"key",t.b),o&&te(a,"cb",gs().toString());var u="GET"==n;if(u)for(var s in r)r.hasOwnProperty(s)&&te(a,s,r[s]);return new G(function(e,o){_i(t,a.toString(),function(t){t?t.error?o(Ui(t,i||{})):e(t):o(new xn("network-request-failed"))},n,u?void 0:Me(fn(r)),t.a,t.h.get())})}function Ei(t){if(!hl.test(t.email))throw new xn("invalid-email")}function Ti(t){"email"in t&&Ei(t)}function Si(t,e){return ji(t,Bl,{identifier:e,continueUri:un()?Ue():"http://localhost"}).then(function(t){return t.allProviders||[]})}function Oi(t,e){return ji(t,Bl,{identifier:e,continueUri:un()?Ue():"http://localhost"}).then(function(t){return t.signinMethods||[]})}function Ci(t){return ji(t,Ql,{}).then(function(t){return t.authorizedDomains||[]})}function ki(t){if(!t[Pl])throw new xn("internal-error")}function xi(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new xn("internal-error")}else{if(!t.sessionInfo)throw new xn("missing-verification-id");if(!t.code)throw new xn("missing-verification-code")}}function Pi(t,e){return ji(t,Zl,e)}function Ni(t,e,n){return ji(t,ql,{idToken:e,deleteProvider:n})}function Ai(t){if(!t.requestUri||!t.sessionId&&!t.postBody)throw new xn("internal-error")}function Ii(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Tr(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Tr(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Tr(t)):t.errorMessage&&(e=Fi(t.errorMessage)),e)throw e;if(!t[Pl])throw new xn("internal-error")}function Ri(t,e){return e.returnIdpCredential=!0,ji(t,rf,e)}function Mi(t,e){return e.returnIdpCredential=!0,ji(t,af,e)}function Di(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,ji(t,of,e)}function Li(t){if(!t.oobCode)throw new xn("invalid-action-code")}function ji(t,e,n){if(!On(n,e.T))return Q(new xn("internal-error"));var r,i=e.Cb||"POST";return X(n).then(e.A).then(function(){return e.R&&(n.returnSecureToken=!0),wi(t,e.endpoint,i,n,e.Tb,e.pb||!1)}).then(function(t){return r=t}).then(e.J).then(function(){if(!e.ba)return r;if(!(e.ba in r))throw new xn("internal-error");return r[e.ba]})}function Fi(t){return Ui({error:{errors:[{message:t}],code:400,message:t}})}function Ui(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new xn(r[n]):null)return n;n=t.error&&t.error.message||"",r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash"},V(r,e||{}),e=(e=n.match(/^[^\s]+\s*:\s*(.*)$/))&&1<e.length?e[1]:void 0;for(var i in r)if(0===n.indexOf(i))return new xn(r[i],e);return!e&&t&&(e=ln(t)),new xn("internal-error",e)}function Vi(t){for(var e in hf)if(hf[e].id===t)return t=hf[e],{firebaseEndpoint:t.Ya,secureTokenEndpoint:t.eb};return null}function Bi(t){this.b=t,this.a=null,this.ab=Wi(this)}function Wi(t){return zi().then(function(){return new G(function(e,n){rn("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:rn("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},yf.get());r.ping(i).then(i,function(){n(Error("Network Error"))})})})})}function qi(t,e){return t.ab.then(function(){return new G(function(n){t.a.send(e.type,e,n,rn("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function Hi(t,e){t.ab.then(function(){t.a.register("authEvent",e,rn("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}function zi(){return vf?vf:vf=new G(function(t,e){function n(){yn(),rn("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){yn(),e(Error("Network Error"))},timeout:df.get()})}if(rn("gapi.iframes.Iframe"))t();else if(rn("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();ds[r]=function(){rn("gapi.load")?n():e(Error("Network Error"))},r=be(pf,{onload:r}),X(ci(r)).m(function(){e(Error("Network Error"))})}}).m(function(t){throw vf=null,t})}function Gi(t,e,n){this.j=t,this.g=e,this.h=n,this.f=null,this.a=re(this.j,"/__/auth/iframe"),te(this.a,"apiKey",this.g),te(this.a,"appName",this.h),this.b=null,this.c=[]}function Ki(t,e,n,r,i){this.o=t,this.u=e,this.c=n,this.l=r,this.h=this.g=this.j=null,this.a=i,this.f=null}function Yi(t){try{return hs.app(t).auth().Ka()}catch(t){return[]}}function Xi(t,e,n,r,i){this.u=t,this.f=e,this.b=n,this.c=r||null,this.h=i||null,this.o=this.s=this.v=null,this.g=[],this.l=this.a=null}function Qi(t){var e=Ue();return Ci(t).then(function(t){t:{var n=ne(e),r=n.c;n=n.b;for(var i=0;i<t.length;i++){var o=t[i],a=n,u=r;if(0==o.indexOf("chrome-extension://")?a=ne(o).b==a&&"chrome-extension"==u:"http"!=u&&"https"!=u?a=!1:Rc.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new wr(Ue())})}function $i(t){return t.l?t.l:(t.l=Ke().then(function(){if(!t.s){var e=t.c,n=t.h,r=Yi(t.b),i=new Gi(t.u,t.f,t.b);i.f=e,i.b=n,i.c=A(r||[]),t.s=i.toString()}t.j=new Bi(t.s),to(t)}),t.l)}function Ji(t){return t.o||(t.v=t.c?en(t.c,Yi(t.b)):null,t.o=new yi(t.f,Vi(t.h),t.v)),t.o}function Zi(t,e,n,r,i,o,a,u,s,c){return t=new Ki(t,e,n,r,i),t.j=o,t.g=a,t.h=u,t.b=U(s||null),t.f=c,t.toString()}function to(t){if(!t.j)throw Error("IfcHandler must be initialized!");Hi(t.j,function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=mr(e.authEvent),n=0;n<t.g.length;n++)r=t.g[n](e)||r;return n={},n.status=r?"ACK":"ERROR",X(n)}return n.status="ERROR",X(n)})}function eo(t){var e={type:"webStorageSupport"};return $i(t).then(function(){return qi(t.j,e)}).then(function(t){if(t&&t.length&&"undefined"!=typeof t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})}function no(t){if(this.a=t||hs.INTERNAL.reactNative&&hs.INTERNAL.reactNative.AsyncStorage,!this.a)throw new xn("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function ro(){if(!uo())throw new xn("web-storage-unsupported");this.f={},this.a=[],this.b=0,this.g=ds.indexedDB,this.type="indexedDB"}function io(t){return new G(function(e,n){var r=t.g.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}})}function oo(t){return new G(function(e,n){var r=t.g.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(t){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){r=r.target.result,r.objectStoreNames.contains("firebaseLocalStorage")?e(r):io(t).then(function(){return oo(t)}).then(function(t){e(t)}).m(function(t){n(t)})}})}function ao(t){return t.h||(t.h=oo(t)),t.h}function uo(){try{return!!ds.indexedDB}catch(t){return!1}}function so(t){return t.objectStore("firebaseLocalStorage")}function co(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function lo(t){return new G(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(Error(t.target.errorCode))}})}function fo(t){function e(){return t.c=Wt(800).then(h(t.Jc,t)).then(function(e){0<e.length&&ws(t.a,function(t){t(e)})}).then(e).m(function(t){"STOP_EVENT"!=t.message&&e()}),t.c}t.c&&t.c.cancel("STOP_EVENT"),e()}function ho(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=X().then(function(){return uo()?(gf||(gf=new ro),n=gf,n.set("__sak","!").then(function(){return n.get("__sak")}).then(function(t){if("!"!==t)throw Error("indexedDB not supported!");return n.P("__sak")}).then(function(){return n}).m(function(){return e.c})):e.c}).then(function(t){return e.type=t.type,t.Y(function(t){ws(e.a,function(e){e(t)})}),t})}function po(){this.a={},this.type="inMemory"}function yo(){if(!go()){if("Node"==Je())throw new xn("internal-error","The LocalStorage compatibility library was not found.");throw new xn("web-storage-unsupported")}this.a=vo()||hs.INTERNAL.node.localStorage,this.type="localStorage"}function vo(){try{var t=ds.localStorage,e=pn();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function go(){var t="Node"==Je();if(t=vo()||t&&hs.INTERNAL.node&&hs.INTERNAL.node.localStorage,!t)return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}function _o(){this.type="nullStorage"}function mo(){if(!wo()){if("Node"==Je())throw new xn("internal-error","The SessionStorage compatibility library was not found.");throw new xn("web-storage-unsupported")}this.a=bo()||hs.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function bo(){try{var t=ds.sessionStorage,e=pn();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function wo(){var t="Node"==Je();if(t=bo()||t&&hs.INTERNAL.node&&hs.INTERNAL.node.sessionStorage,!t)return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}function Eo(){var t={};t.Browser=bf,t.Node=wf,t.ReactNative=Ef,t.Worker=Tf,this.a=t[Je()]}function To(t){var e=new xn("invalid-persistence-type"),n=new xn("unsupported-persistence-type");t:{for(r in Sf)if(Sf[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(Je()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;default:if(!on()&&"none"!==t)throw n}}function So(){var t=!(dn(nn())||!Qe()),e=cn(),n=on();this.o=t,this.h=e,this.l=n,this.a={},_f||(_f=new Eo),t=_f;try{this.g=!Fe()&&bn()||!ds.indexedDB?new t.a.w:new ho($e()?new po:new t.a.w)}catch(t){this.g=new po,this.h=!0}try{this.j=new t.a.Pa}catch(t){this.j=new po}this.u=new po,this.f=h(this.Kb,this),this.b={}}function Oo(){return mf||(mf=new So),mf}function Co(t,e){switch(e){case"session":return t.j;case"none":return t.u;default:return t.g}}function ko(t,e){return"firebase:"+t.name+(e?":"+e:"")}function xo(t,e,n){var r=ko(e,n),i=Co(t,e.w);return t.get(e,n).then(function(o){var a=null;try{a=hn(ds.localStorage.getItem(r))}catch(t){}return a&&!o?(ds.localStorage.removeItem(r),t.set(e,a,n)):void(a&&o&&"localStorage"!=i.type&&ds.localStorage.removeItem(r))})}function Po(t,e,n){return n=ko(e,n),"local"==e.w&&(t.b[n]=null),Co(t,e.w).P(n)}function No(t){Ao(t),t.c=setInterval(function(){for(var e in t.a){var n=ds.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new mt({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Kb(n))}},1e3)}function Ao(t){t.c&&(clearInterval(t.c),t.c=null)}function Io(t){this.a=t,this.b=Oo()}function Ro(t){return t.b.get(Cf,t.a).then(function(t){return mr(t)})}function Mo(){this.a=Oo()}function Do(){this.b=-1}function Lo(t,e){this.b=-1,this.b=kf,this.f=ds.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.j=t,this.h=e,this.l=ds.Int32Array?new Int32Array(64):Array(64),void 0!==Of||(Of=ds.Int32Array?new Int32Array(If):If),this.reset()}function jo(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var u=0|t.a[2],s=0|t.a[3],c=0|t.a[4],l=0|t.a[5],f=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var h=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&u^i&u)|0;a=c&l^~c&f,o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0,a=a+(0|Of[e])|0,a=o+(a+(0|n[e])|0)|0,o=f,f=l,l=c,c=s+a|0,s=u,u=i,i=r,r=a+h|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+u|0,t.a[3]=t.a[3]+s|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+f|0,t.a[7]=t.a[7]+o|0}function Fo(e,n,r){void 0===r&&(r=n.length);var i=0,o=e.c;if(t(n))for(;i<r;)e.f[o++]=n.charCodeAt(i++),o==e.b&&(jo(e),o=0);else{if(!u(n))throw Error("message must be string or array");for(;i<r;){var a=n[i++];if(!("number"==typeof a&&0<=a&&255>=a&&a==(0|a)))throw Error("message must be a byte array");e.f[o++]=a,o==e.b&&(jo(e),o=0)}}e.c=o,e.g+=r}function Uo(){Lo.call(this,8,Rf)}function Vo(t,e,n,r,i){this.u=t,this.j=e,this.l=n,this.o=r||null,this.s=i||null,this.h=e+":"+n,this.v=new Mo,this.g=new Io(this.h),this.f=null,this.b=[],this.a=this.c=null}function Bo(t){return new xn("invalid-cordova-configuration",t)}function Wo(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}function qo(t){var e=new Uo;Fo(e,t),t=[];var n=8*e.g;56>e.c?Fo(e,Af,56-e.c):Fo(e,Af,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(jo(e),r=n=0;r<e.j;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return In(t)}function Ho(t,e,n,r){var i=Wo(),o=new _r(e,r,null,i,new xn("no-auth-event")),a=rn("BuildInfo.packageName",ds);if("string"!=typeof a)throw new xn("invalid-cordova-configuration");var u=rn("BuildInfo.displayName",ds),s={};if(nn().toLowerCase().match(/iphone|ipad|ipod/))s.ibi=a;else{if(!nn().toLowerCase().match(/android/))return Q(new xn("operation-not-supported-in-this-environment"));s.apn=a}u&&(s.appDisplayName=u),i=qo(i),s.sessionId=i;var c=Zi(t.u,t.j,t.l,e,n,null,r,t.o,s,t.s);return t.ea().then(function(){var e=t.h;return t.v.a.set(Cf,o.C(),e)}).then(function(){var e=rn("cordova.plugins.browsertab.isAvailable",ds);if("function"!=typeof e)throw new xn("invalid-cordova-configuration");var n=null;e(function(e){if(e){if(n=rn("cordova.plugins.browsertab.openUrl",ds),"function"!=typeof n)throw new xn("invalid-cordova-configuration");n(c)}else{if(n=rn("cordova.InAppBrowser.open",ds),"function"!=typeof n)throw new xn("invalid-cordova-configuration");e=nn(),e=!(!e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)&&!e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)),t.a=n(c,e?"_blank":"_system","location=yes")}})})}function zo(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(t){}}function Go(t){return t.f||(t.f=t.ea().then(function(){return new G(function(e){function n(r){return e(r),t.Ja(n),!1}t.va(n),Yo(t)})})),t.f}function Ko(t){var e=null;return Ro(t.g).then(function(n){return e=n,n=t.g,Po(n.b,Cf,n.a)}).then(function(){return e})}function Yo(t){function e(e){r=!0,i&&i.cancel(),Ko(t).then(function(r){var i=n;if(r&&e&&e.url){var o=null;i=Yn(e.url),-1!=i.indexOf("/__/auth/callback")&&(o=ne(i),o=hn(ee(o,"firebaseError")||null),o=(o="object"==typeof o?Pn(o):null)?new _r(r.b,r.c,null,null,o):new _r(r.b,r.c,i,r.g)),i=o||n}zo(t,i)})}var n=new _r("unknown",null,null,null,new xn("no-auth-event")),r=!1,i=Wt(500).then(function(){return Ko(t).then(function(){r||zo(t,n)})}),o=ds.handleOpenURL;ds.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(rn("BuildInfo.packageName",ds).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(t){console.error(t)}},fl||(fl=new br),fl.subscribe(e)}function Xo(t){this.a=t,this.b=Oo()}function Qo(t){return t.b.set(Mf,"pending",t.a)}function $o(t){return Po(t.b,Mf,t.a)}function Jo(t){return t.b.get(Mf,t.a).then(function(t){return"pending"==t})}function Zo(t,e,n){this.v=t,this.l=e,this.u=n,this.h=[],this.f=!1,this.j=h(this.o,this),this.c=new aa,this.s=new pa,this.g=new Xo(this.l+":"+this.u),this.b={},this.b.unknown=this.c,this.b.signInViaRedirect=this.c,this.b.linkViaRedirect=this.c,this.b.reauthViaRedirect=this.c,this.b.signInViaPopup=this.s,this.b.linkViaPopup=this.s,this.b.reauthViaPopup=this.s,this.a=ta(this.v,this.l,this.u,jl)}function ta(t,e,n,r){var i=hs.SDK_VERSION||null;return Xe()?new Vo(t,e,n,i,r):new Xi(t,e,n,i,r)}function ea(t){t.f||(t.f=!0,t.a.va(t.j));var e=t.a;return t.a.ea().m(function(n){throw t.a==e&&t.reset(),n})}function na(t){t.a.Gb()&&ea(t).m(function(e){var n=new _r("unknown",null,null,null,new xn("operation-not-supported-in-this-environment"));ia(e)&&t.o(n)}),t.a.Bb()||ua(t.c)}function ra(t,e,n,r,i,o){return t.a.xb(e,n,r,function(){t.f||(t.f=!0,t.a.va(t.j))},function(){t.reset()},i,o)}function ia(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function oa(t,e,n){var r=e+":"+n;return jf[r]||(jf[r]=new Zo(t,e,n)),jf[r]}function aa(){this.b=null,this.f=[],this.c=[],this.a=null,this.g=!1}function ua(t){t.g||(t.g=!0,fa(t,!1,null,null))}function sa(t,e,n){n=n.wa(e.b,e.c);var r=e.f,i=e.g,o=!!e.b.match(/Redirect$/);n(r,i).then(function(e){fa(t,o,e,null)}).m(function(e){fa(t,o,null,e)})}function ca(t,e){if(t.b=function(){return Q(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}function la(t,e){if(t.b=function(){return X(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function fa(t,e,n,r){e?r?ca(t,r):la(t,n):la(t,{user:null}),t.f=[],t.c=[]}function ha(t){var e=new xn("timeout");t.a&&t.a.cancel(),t.a=Wt(Lf.get()).then(function(){t.b||fa(t,!0,null,e)})}function pa(){}function da(t,e){var n=t.c,r=t.b;e.wa(r,n)(t.f,t.g).then(function(t){e.ga(r,t,null,n)}).m(function(t){e.ga(r,null,t,n)})}function ya(t,e){this.a=e,wn(this,"verificationId",t)}function va(t,e,n,r){return new dr(t).Sa(e,n).then(function(t){return new ya(t,r)})}function ga(t){var e=Fn(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new xn("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");En(this,{token:t,expirationTime:mn(1e3*e.exp),authTime:mn(1e3*e.auth_time),issuedAtTime:mn(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,claims:e})}function _a(t,e,n){if(this.h=t,this.j=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function ma(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}function ba(t,e){t.stop(),t.b=Wt(ma(t,e)).then(function(){return _n()}).then(function(){return t.h()}).then(function(){ba(t,!0)}).m(function(e){t.j(e)&&ba(t,!1)})}function wa(t){this.f=t,this.b=this.a=null,this.c=0}function Ea(t,e){var n=e[Pl],r=e.refreshToken;e=Ta(e.expiresIn),t.b=n,t.c=e,t.a=r}function Ta(t){return gs()+1e3*parseInt(t,10)}function Sa(t,e){return bi(t.f,e).then(function(e){return t.b=e.access_token,t.c=Ta(e.expires_in),t.a=e.refresh_token,{accessToken:t.b,expirationTime:t.c,refreshToken:t.a}}).m(function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e})}function Oa(t,e){this.a=t||null,this.b=e||null,En(this,{lastSignInTime:mn(e||null),creationTime:mn(t||null)})}function Ca(t){return new Oa(t.a,t.b)}function ka(t,e,n,r,i,o){En(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function xa(t,e){_t.call(this,t);for(var n in e)this[n]=e[n]}function Pa(t,e,n){this.D=[],this.G=t.apiKey,this.s=t.appName,this.B=t.authDomain||null,t=hs.SDK_VERSION?en(hs.SDK_VERSION):null,this.b=new yi(this.G,Vi(jl),t),this.h=new wa(this.b),ja(this,e[Pl]),Ea(this.h,e),wn(this,"refreshToken",this.h.a),Ba(this,n||{}),jt.call(this),this.I=!1,this.B&&an()&&(this.a=oa(this.B,this.G,this.s)),this.N=[],this.j=null,this.l=Ma(this),this.V=h(this.Ga,this);var r=this;this.ia=null,this.sa=function(t){r.na(t.g)},this.X=null,this.O=[],this.ra=function(t){Aa(r,t.c)},this.W=null}function Na(t,e){t.X&&Pt(t.X,"languageCodeChanged",t.sa),(t.X=e)&&Ot(e,"languageCodeChanged",t.sa)}function Aa(t,e){t.O=e,gi(t.b,hs.SDK_VERSION?en(hs.SDK_VERSION,t.O):null)}function Ia(t,e){t.W&&Pt(t.W,"frameworkChanged",t.ra),(t.W=e)&&Ot(e,"frameworkChanged",t.ra)}function Ra(t){try{return hs.app(t.s).auth()}catch(e){throw new xn("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.s+"'!")}}function Ma(t){return new _a(function(){return t.F(!0)},function(t){return!(!t||"auth/network-request-failed"!=t.code)},function(){var e=t.h.c-gs()-3e5;return 0<e?e:0})}function Da(t){t.o||t.l.b||(t.l.start(),Pt(t,"tokenChanged",t.V),Ot(t,"tokenChanged",t.V))}function La(t){Pt(t,"tokenChanged",t.V),t.l.stop()}function ja(t,e){t.qa=e,wn(t,"_lat",e)}function Fa(t,e){P(t.N,function(t){return t==e})}function Ua(t){for(var e=[],n=0;n<t.N.length;n++)e.push(t.N[n](t));return Z(e).then(function(){return t})}function Va(t){t.a&&!t.I&&(t.I=!0,t.a.subscribe(t))}function Ba(t,e){En(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,metadata:new Oa(e.createdAt,e.lastLoginAt),providerData:[]})}function Wa(){}function qa(t){return X().then(function(){if(t.o)throw new xn("app-deleted")})}function Ha(t){return Es(t.providerData,function(t){return t.providerId})}function za(t,e){e&&(Ga(t,e.providerId),t.providerData.push(e))}function Ga(t,e){P(t.providerData,function(t){return t.providerId==e})}function Ka(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&wn(t,e,n)}function Ya(t,e){t!=e&&(En(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,providerData:[]}),e.metadata?wn(t,"metadata",Ca(e.metadata)):wn(t,"metadata",new Oa),ws(e.providerData,function(e){za(t,e)}),t.h=e.h,wn(t,"refreshToken",t.h.a))}function Xa(t){return t.F().then(function(e){var n=t.isAnonymous;return $a(t,e).then(function(){return n||Ka(t,"isAnonymous",!1),e})})}function Qa(t,e){e[Pl]&&t.qa!=e[Pl]&&(Ea(t.h,e),t.dispatchEvent(new xa("tokenChanged")),ja(t,e[Pl]),Ka(t,"refreshToken",t.h.a))}function $a(t,e){return ji(t.b,Gl,{idToken:e}).then(h(t.uc,t))}function Ja(t){return(t=t.providerUserInfo)&&t.length?Es(t,function(t){return new ka(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)}):[]}function Za(t,e){return Xa(t).then(function(){if(k(Ha(t),e))return Ua(t).then(function(){throw new xn("provider-already-linked")})})}function tu(t,e,n){var r=vr(e);return e=Vn(e),Tn({user:t,credential:r,additionalUserInfo:e,operationType:n})}function eu(t,e){return Qa(t,e),t.reload().then(function(){return t})}function nu(t,e,n,r,i){if(!an())return Q(new xn("operation-not-supported-in-this-environment"));if(t.j&&!i)return Q(t.j);var o=Un(n.providerId),a=pn(t.uid+":::"),u=null;(!cn()||Qe())&&t.B&&n.isOAuthProvider&&(u=Zi(t.B,t.G,t.s,e,n,null,a,hs.SDK_VERSION||null));var s=ze(u,o&&o.Aa,o&&o.za);return r=r().then(function(){if(iu(t),!i)return t.F().then(function(){})}).then(function(){return ra(t.a,s,e,n,a,!!u)}).then(function(){return new G(function(n,r){t.ga(e,null,new xn("cancelled-popup-request"),t.g||null),t.f=n,t.v=r,t.g=a,t.c=t.a.Da(t,e,s,a)})}).then(function(t){return s&&He(s),t?Tn(t):null}).m(function(t){throw s&&He(s),t}),ou(t,r,i)}function ru(t,e,n,r,i){if(!an())return Q(new xn("operation-not-supported-in-this-environment"));if(t.j&&!i)return Q(t.j);var o=null,a=pn(t.uid+":::");return r=r().then(function(){if(iu(t),!i)return t.F().then(function(){})}).then(function(){return t.$=a,Ua(t)}).then(function(e){return t.fa&&(e=t.fa,e=e.b.set(Ff,t.C(),e.a)),e}).then(function(){return t.a.Ba(e,n,a)}).m(function(e){if(o=e,t.fa)return lu(t.fa);throw o}).then(function(){if(o)throw o}),ou(t,r,i)}function iu(t){if(!t.a||!t.I){
if(t.a&&!t.I)throw new xn("internal-error");throw new xn("auth-domain-config-required")}}function ou(t,e,n){var r=au(t,e,n);return t.D.push(r),r.ha(function(){x(t.D,r)}),r}function au(t,e,n){return t.j&&!n?(e.cancel(),Q(t.j)):e.m(function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.j||t.dispatchEvent(new xa("userInvalidated")),t.j=e),e})}function uu(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!(t.stsTokenManager&&t.stsTokenManager.accessToken&&t.stsTokenManager.expirationTime))return null;n[Pl]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null,n.expiresIn=(t.stsTokenManager.expirationTime-gs())/1e3;var r=new Pa(e,n,t);return t.providerData&&ws(t.providerData,function(t){t&&za(r,Tn(t))}),t.redirectEventId&&(r.$=t.redirectEventId),r}function su(t,e,n,r){var i=new Pa(t,e);return n&&(i.fa=n),r&&Aa(i,r),i.reload().then(function(){return i})}function cu(t){this.a=t,this.b=Oo()}function lu(t){return Po(t.b,Ff,t.a)}function fu(t,e){return t.b.get(Ff,t.a).then(function(t){return t&&e&&(t.authDomain=e),uu(t||{})})}function hu(t){this.a=t,this.b=Oo(),this.c=null,this.f=du(this),this.b.addListener(yu("local"),this.a,h(this.g,this))}function pu(t,e){var n,r=[];for(n in Sf)Sf[n]!==e&&r.push(Po(t.b,yu(Sf[n]),t.a));return r.push(Po(t.b,Uf,t.a)),J(r)}function du(t){var e=yu("local"),n=yu("session"),r=yu("none");return xo(t.b,e,t.a).then(function(){return t.b.get(n,t.a)}).then(function(i){return i?n:t.b.get(r,t.a).then(function(n){return n?r:t.b.get(e,t.a).then(function(n){return n?e:t.b.get(Uf,t.a).then(function(t){return t?yu(t):e})})})}).then(function(e){return t.c=e,pu(t,e.w)}).m(function(){t.c||(t.c=e)})}function yu(t){return{name:"authUser",w:t}}function vu(t){return bu(t,function(){return t.b.set(Uf,t.c.w,t.a)})}function gu(t,e){return bu(t,function(){return t.b.set(t.c,e.C(),t.a)})}function _u(t){return bu(t,function(){return Po(t.b,t.c,t.a)})}function mu(t,e){return bu(t,function(){return t.b.get(t.c,t.a).then(function(t){return t&&e&&(t.authDomain=e),uu(t||{})})})}function bu(t,e){return t.f=t.f.then(e,e),t.f}function wu(t){if(this.l=!1,wn(this,"app",t),!Ru(this).options||!Ru(this).options.apiKey)throw new xn("invalid-api-key");t=hs.SDK_VERSION?en(hs.SDK_VERSION):null,this.b=new yi(Ru(this).options&&Ru(this).options.apiKey,Vi(jl),t),this.N=[],this.o=[],this.I=[],this.Ob=hs.INTERNAL.createSubscribe(h(this.ic,this)),this.O=void 0,this.Pb=hs.INTERNAL.createSubscribe(h(this.jc,this)),xu(this,null),this.h=new hu(Ru(this).options.apiKey+":"+Ru(this).name),this.G=new cu(Ru(this).options.apiKey+":"+Ru(this).name),this.V=Fu(this,Nu(this)),this.j=Fu(this,Au(this)),this.X=!1,this.ia=h(this.Ic,this),this.Ga=h(this.ka,this),this.qa=h(this.Yb,this),this.ra=h(this.gc,this),this.sa=h(this.hc,this),Cu(this),this.INTERNAL={},this.INTERNAL.delete=h(this.delete,this),this.INTERNAL.logFramework=h(this.qc,this),this.s=0,jt.call(this),Su(this),this.D=[]}function Eu(t){_t.call(this,"languageCodeChanged"),this.g=t}function Tu(t){_t.call(this,"frameworkChanged"),this.c=t}function Su(t){Object.defineProperty(t,"lc",{get:function(){return this.ca()},set:function(t){this.na(t)},enumerable:!1}),t.W=null}function Ou(t){return t.Nb||Q(new xn("auth-domain-config-required"))}function Cu(t){var e=Ru(t).options.authDomain,n=Ru(t).options.apiKey;e&&an()&&(t.Nb=t.V.then(function(){if(!t.l){if(t.a=oa(e,n,Ru(t).name),t.a.subscribe(t),Mu(t)&&Va(Mu(t)),t.B){Va(t.B);var r=t.B;r.na(t.ca()),Na(r,t),r=t.B,Aa(r,t.D),Ia(r,t),t.B=null}return t.a}}))}function ku(t,e){var n={};return n.apiKey=Ru(t).options.apiKey,n.authDomain=Ru(t).options.authDomain,n.appName=Ru(t).name,t.V.then(function(){return su(n,e,t.G,t.Ka())}).then(function(e){return Mu(t)&&e.uid==Mu(t).uid?(Ya(Mu(t),e),t.ka(e)):(xu(t,e),Va(e),t.ka(e))}).then(function(){Lu(t)})}function xu(t,e){Mu(t)&&(Fa(Mu(t),t.Ga),Pt(Mu(t),"tokenChanged",t.qa),Pt(Mu(t),"userDeleted",t.ra),Pt(Mu(t),"userInvalidated",t.sa),La(Mu(t))),e&&(e.N.push(t.Ga),Ot(e,"tokenChanged",t.qa),Ot(e,"userDeleted",t.ra),Ot(e,"userInvalidated",t.sa),0<t.s&&Da(e)),wn(t,"currentUser",e),e&&(e.na(t.ca()),Na(e,t),Aa(e,t.D),Ia(e,t))}function Pu(t){var e=fu(t.G,Ru(t).options.authDomain).then(function(e){return(t.B=e)&&(e.fa=t.G),lu(t.G)});return Fu(t,e)}function Nu(t){var e=Ru(t).options.authDomain,n=Pu(t).then(function(){return mu(t.h,e)}).then(function(e){return e?(e.fa=t.G,t.B&&(t.B.$||null)==(e.$||null)?e:e.reload().then(function(){return gu(t.h,e).then(function(){return e})}).m(function(n){return"auth/network-request-failed"==n.code?e:_u(t.h)})):null}).then(function(e){xu(t,e||null)});return Fu(t,n)}function Au(t){return t.V.then(function(){return t.da()}).m(function(){}).then(function(){if(!t.l)return t.ia()}).m(function(){}).then(function(){if(!t.l){t.X=!0;var e=t.h;e.b.addListener(yu("local"),e.a,t.ia)}})}function Iu(t,e){var n=null,r=null;return Fu(t,e.then(function(e){return n=vr(e),r=Vn(e),ku(t,e)}).then(function(){return Tn({user:Mu(t),credential:n,additionalUserInfo:r,operationType:"signIn"})}))}function Ru(t){return t.app}function Mu(t){return t.currentUser}function Du(t){return Mu(t)&&Mu(t)._lat||null}function Lu(t){if(t.X){for(var e=0;e<t.o.length;e++)t.o[e]&&t.o[e](Du(t));if(t.O!==t.getUid()&&t.I.length)for(t.O=t.getUid(),e=0;e<t.I.length;e++)t.I[e]&&t.I[e](Du(t))}}function ju(t,e){t.I.push(e),Fu(t,t.j.then(function(){!t.l&&k(t.I,e)&&t.O!==t.getUid()&&(t.O=t.getUid(),e(Du(t)))}))}function Fu(t,e){return t.N.push(e),e.ha(function(){x(t.N,e)}),e}function Uu(t,e,n,r,i,o){if(wn(this,"type","recaptcha"),this.b=this.c=null,this.o=!1,this.l=e,this.a=n||{theme:"light",type:"image"},this.g=[],this.a[Wf])throw new xn("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.h="invisible"===this.a[qf],!ds.document)throw new xn("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Pe(e)||!this.h&&Pe(e).hasChildNodes())throw new xn("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.u=new yi(t,o||null,i||null),this.s=r||function(){return null};var a=this;this.j=[];var u=this.a[Vf];this.a[Vf]=function(t){if(Vu(a,t),"function"==typeof u)u(t);else if("string"==typeof u){var e=rn(u,ds);"function"==typeof e&&e(t)}};var s=this.a[Bf];this.a[Bf]=function(){if(Vu(a,null),"function"==typeof s)s();else if("string"==typeof s){var t=rn(s,ds);"function"==typeof t&&t()}}}function Vu(t,e){for(var n=0;n<t.j.length;n++)try{t.j[n](e)}catch(t){}}function Bu(t,e){P(t.j,function(t){return t==e})}function Wu(t,e){return t.g.push(e),e.ha(function(){x(t.g,e)}),e}function qu(t){if(t.o)throw new xn("internal-error","RecaptchaVerifier instance has been destroyed.")}function Hu(){this.b=ds.grecaptcha?1/0:0,this.c=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}function zu(t,e){return new G(function(n,r){var i=setTimeout(function(){r(new xn("network-request-failed"))},zf.get());if(!ds.grecaptcha||e!==t.c&&!t.b){ds[t.a]=function(){if(ds.grecaptcha){t.c=e;var o=ds.grecaptcha.render;ds.grecaptcha.render=function(e,n){return e=o(e,n),t.b++,e},clearTimeout(i),n()}else clearTimeout(i),r(new xn("internal-error"));delete ds[t.a]};var o=be(Hf,{onload:t.a,hl:e||""});X(ci(o)).m(function(){clearTimeout(i),r(new xn("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(i),n()})}function Gu(){return Gf||(Gf=new Hu),Gf}function Ku(t,e,n){try{this.f=n||hs.app()}catch(t){throw new xn("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.f.options||!this.f.options.apiKey)throw new xn("invalid-api-key");n=this.f.options.apiKey;var r=this,i=null;try{i=this.f.auth().Ka()}catch(t){}i=hs.SDK_VERSION?en(hs.SDK_VERSION,i):null,Uu.call(this,n,t,e,function(){try{var t=r.f.auth().ca()}catch(e){t=null}return t},i,Vi(jl))}function Yu(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new xn("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=Kf.length)throw new xn("internal-error","Argument validator received an unsupported number of arguments.");n=Kf[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new xn("argument-error",t+" failed: "+r)}function Xu(e,n){return{name:e||"",K:"a valid string",optional:!!n,M:t}}function Qu(){return{name:"opt_forceRefresh",K:"a boolean",optional:!0,M:e}}function $u(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:c}}function Ju(t,e){return{name:t||"",K:"a function",optional:!!e,M:s}}function Zu(t,e){return{name:t||"",K:"null",optional:!!e,M:o}}function ts(){return{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}}}function es(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof wu)}}}function ns(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof hs.app.App)}}}function rs(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.xa||!n)}}}function is(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}}function os(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!!(e&&t(e.type)&&s(e.verify))}}}function as(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function us(t,e){for(var n in e){var r=e[n].name;t[r]=cs(r,t[n],e[n].i)}}function ss(t,e,n,r){t[e]=cs(e,n,r)}function cs(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Yu(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=ls(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}function ls(t){return t=t.split("."),t[t.length-1]}var fs,hs=n(53).default,ps=ps||{},ds=this,ys="closure_uid_"+(1e9*Math.random()>>>0),vs=0,gs=Date.now||function(){return+new Date};d(g,Error),g.prototype.name="CustomError",d(_,g),_.prototype.name="AssertionError",b.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var _s=new b(function(){return new S},function(t){t.reset()});E.prototype.add=function(t,e){var n=_s.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},S.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},S.prototype.reset=function(){this.next=this.b=this.a=null};var ms,bs=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(e,n){if(t(e))return t(n)&&1==n.length?e.indexOf(n,0):-1;for(var r=0;r<e.length;r++)if(r in e&&e[r]===n)return r;return-1},ws=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(e,n,r){for(var i=e.length,o=t(e)?e.split(""):e,a=0;a<i;a++)a in o&&n.call(r,o[a],a,e)},Es=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(e,n){for(var r=e.length,i=Array(r),o=t(e)?e.split(""):e,a=0;a<r;a++)a in o&&(i[a]=n.call(void 0,o[a],a,e));return i},Ts=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(e,n){for(var r=e.length,i=t(e)?e.split(""):e,o=0;o<r;o++)if(o in i&&n.call(void 0,i[o],o,e))return!0;return!1},Ss=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},Os=/&/g,Cs=/</g,ks=/>/g,xs=/"/g,Ps=/'/g,Ns=/\x00/g,As=/[\x00&<>"']/;t:{var Is=ds.navigator;if(Is){var Rs=Is.userAgent;if(Rs){ms=Rs;break t}}ms=""}var Ms,Ds,Ls="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),js=!1,Fs=new E,Us=0,Vs=2,Bs=3;K.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ws=new b(function(){return new K},function(t){t.reset()});G.prototype.then=function(t,e,n){return nt(this,s(t)?t:null,s(e)?e:null,n)},y(G),fs=G.prototype,fs.ha=function(t,e){return t=Y(t,t,e),t.c=!0,et(this,t),this},fs.m=function(t,e){return nt(this,null,t,e)},fs.cancel=function(t){this.a==Us&&q(function(){var e=new ft(t);tt(this,e)},this)},fs.Kc=function(t){this.a=Us,rt(this,Vs,t)},fs.Lc=function(t){this.a=Us,rt(this,Bs,t)},fs.Ub=function(){for(var t;t=ut(this);)st(this,t,this.a,this.j);this.h=!1};var qs=B;d(ft,g),ft.prototype.name="cancel";var Hs=0,zs={};ht.prototype.pa=!1,ht.prototype.ua=function(){if(this.oa)for(;this.oa.length;)this.oa.shift()()},dt[" "]=r;var Gs,Ks=L("Opera"),Ys=L("Trident")||L("MSIE"),Xs=L("Edge"),Qs=Xs||Ys,$s=L("Gecko")&&!(M(ms.toLowerCase(),"webkit")&&!L("Edge"))&&!(L("Trident")||L("MSIE"))&&!L("Edge"),Js=M(ms.toLowerCase(),"webkit")&&!L("Edge");t:{var Zs="",tc=function(){var t=ms;return $s?/rv:([^\);]+)(\)|;)/.exec(t):Xs?/Edge\/([\d\.]+)/.exec(t):Ys?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Js?/WebKit\/(\S+)/.exec(t):Ks?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(tc&&(Zs=tc?tc[1]:""),Ys){var ec=vt();if(null!=ec&&ec>parseFloat(Zs)){Gs=String(ec);break t}}Gs=Zs}var nc,rc={},ic=ds.document;nc=ic&&Ys?vt()||("CSS1Compat"==ic.compatMode?parseInt(Gs,10):5):void 0;var oc=Object.freeze||function(t){return t},ac=!Ys||9<=Number(nc),uc=Ys&&!gt("9"),sc=function(){if(!ds.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});return ds.addEventListener("test",r,e),ds.removeEventListener("test",r,e),t}();_t.prototype.preventDefault=function(){this.Eb=!1},d(mt,_t);var cc=oc({2:"touch",3:"pen",4:"mouse"});mt.prototype.preventDefault=function(){mt.lb.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,uc)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}},mt.prototype.f=function(){return this.a};var lc="closure_listenable_"+(1e6*Math.random()|0),fc=0;Et.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.a[o],t||(t=this.a[o]=[],this.b++);var a=St(t,e,r,i);return-1<a?(e=t[a],n||(e.Ha=!1)):(e=new bt(e,this.src,o,!!r,i),e.Ha=n,t.push(e)),e};var hc="closure_lm_"+(1e6*Math.random()|0),pc={},dc=0,yc="__closure_events_fn_"+(1e9*Math.random()>>>0);d(jt,ht),jt.prototype[lc]=!0,jt.prototype.addEventListener=function(t,e,n,r){Ot(this,t,e,n,r)},jt.prototype.removeEventListener=function(t,e,n,r){Pt(this,t,e,n,r)},jt.prototype.dispatchEvent=function(e){var n,r=this.Ta;if(r)for(n=[];r;r=r.Ta)n.push(r);r=this.Mb;var i=e.type||e;if(t(e))e=new _t(e,r);else if(e instanceof _t)e.target=e.target||r;else{var o=e;e=new _t(i,r),V(e,o)}if(o=!0,n)for(var a=n.length-1;0<=a;a--){var u=e.b=n[a];o=Vt(u,i,!0,e)&&o}if(u=e.b=r,o=Vt(u,i,!0,e)&&o,o=Vt(u,i,!1,e)&&o,n)for(a=0;a<n.length;a++)u=e.b=n[a],o=Vt(u,i,!1,e)&&o;return o},jt.prototype.ua=function(){if(jt.lb.ua.call(this),this.u){var t,e=this.u,n=0;for(t in e.a){for(var r=e.a[t],i=0;i<r.length;i++)++n,wt(r[i]);delete e.a[t],e.b--}}this.Ta=null},fs=Gt.prototype,fs.S=function(){Kt(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},fs.U=function(){return Kt(this),this.a.concat()},fs.clear=function(){this.b={},this.c=this.a.length=0},fs.get=function(t,e){return Yt(this.b,t)?this.b[t]:e},fs.set=function(t,e){Yt(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},fs.forEach=function(t,e){for(var n=this.U(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var vc=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;Qt.prototype.toString=function(){var t=[],e=this.c;e&&t.push(oe(e,gc,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(oe(e,gc,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.j,null!=n&&t.push(":",String(n))),(n=this.g)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(oe(n,"/"==n.charAt(0)?mc:_c,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.h)&&t.push("#",oe(n,wc)),t.join("")};var gc=/[#\/\?@]/g,_c=/[#\?:]/g,mc=/[#\?]/g,bc=/[#\?@]/g,wc=/#/g;fs=ue.prototype,fs.add=function(t,e){se(this),this.c=null,t=pe(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},fs.clear=function(){this.a=this.c=null,this.b=0},fs.forEach=function(t,e){se(this),this.a.forEach(function(n,r){ws(n,function(n){t.call(e,n,r,this)},this)},this)},fs.U=function(){se(this);for(var t=this.a.S(),e=this.a.U(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},fs.S=function(e){se(this);var n=[];if(t(e))fe(this,e)&&(n=N(n,this.a.get(pe(this,e))));else{e=this.a.S();for(var r=0;r<e.length;r++)n=N(n,e[r])}return n},fs.set=function(t,e){return se(this),this.c=null,t=pe(this,t),fe(this,t)&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},fs.get=function(t,e){return t=t?this.S(t):[],0<t.length?String(t[0]):e},fs.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.U(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.S(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var Ec=!Ys||9<=Number(nc);ye.prototype.la=!0,ye.prototype.ja=function(){return this.a},ye.prototype.toString=function(){return"Const{"+this.a+"}"};var Tc={};ge(""),_e.prototype.la=!0,_e.prototype.ja=function(){return this.a},_e.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Sc=/%{(\w+)}/g,Oc=/^(?:https:)?\/\/[0-9a-z.:[\]-]+\/|^\/[^\/\\]|^about:blank#/i,Cc={};Ee.prototype.la=!0,Ee.prototype.ja=function(){return this.a},Ee.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var kc=/^(?:(?:https?|mailto|ftp):|[^:\/?#]*(?:[\/?#]|$))/i,xc={};Oe("about:blank"),Ce.prototype.la=!0,Ce.prototype.ja=function(){return this.a},Ce.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Pc={};xe("<!DOCTYPE html>"),xe(""),xe("<br>");var Nc={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},Ac={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Ic=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g,Rc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Mc="Firefox",Dc="Chrome",Lc={Qc:"FirebaseCore-web",Sc:"FirebaseUI-web"};vn.prototype.get=function(){var t=ds.navigator;return(t&&"boolean"==typeof t.onLine&&(un()||"chrome-extension:"===sn()||"undefined"!=typeof t.connection)?t.onLine:1)?this.b?this.c:this.a:Math.min(5e3,this.a)};var jc,Fc={};try{var Uc={};Object.defineProperty(Uc,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Uc,"abcd",{configurable:!0,enumerable:!0,value:2}),jc=2==Uc.abcd}catch(t){jc=!1}var Vc="EMAIL_SIGNIN",Bc="email",Wc="newEmail",qc="requestType",Hc="email",zc="fromEmail",Gc="data",Kc="operation";d(xn,Error),xn.prototype.C=function(){return{code:this.code,message:this.message}},xn.prototype.toJSON=function(){return this.C()};var Yc="auth/",Xc={"argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},Qc="android",$c="handleCodeInApp",Jc="iOS",Zc="url",tl="installApp",el="minimumVersion",nl="packageName",rl="bundleId",il=null,ol=null;Ln.prototype.f=function(){return this.b};var al="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),ul=["client_id","response_type","scope","redirect_uri","state"],sl={Rc:{Ma:"locale",Aa:500,za:600,Na:"facebook.com",cb:ul},Tc:{Ma:null,Aa:500,za:620,Na:"github.com",cb:ul},Uc:{Ma:"hl",Aa:515,za:680,Na:"google.com",cb:ul},$c:{Ma:"lang",Aa:485,za:705,Na:"twitter.com",cb:al}},cl="idToken",ll="providerId";d(Wn,Bn),d(qn,Wn),d(Hn,Wn),d(zn,Wn),d(Gn,Wn),Qn.prototype.xa=function(t){return Ri(t,$n(this))},Qn.prototype.c=function(t,e){var n=$n(this);return n.idToken=e,Mi(t,n)},Qn.prototype.f=function(t,e){var n=$n(this);return Xn(Di(t,n),e)},Qn.prototype.C=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),t},Jn.prototype.Ca=function(t){return this.tb=U(t),this},d(Zn,Jn),Zn.prototype.ta=function(t){return k(this.a,t)||this.a.push(t),this},Zn.prototype.yb=function(){return A(this.a)},Zn.prototype.credential=function(t,e){if(!t&&!e)throw new xn("argument-error","credential failed: must provide the ID token and/or the access token.");return new Qn(this.providerId,{idToken:t||null,accessToken:e||null},this.providerId)},d(tr,Zn),wn(tr,"PROVIDER_ID","facebook.com"),wn(tr,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),d(nr,Zn),wn(nr,"PROVIDER_ID","github.com"),wn(nr,"GITHUB_SIGN_IN_METHOD","github.com"),d(ir,Zn),wn(ir,"PROVIDER_ID","google.com"),wn(ir,"GOOGLE_SIGN_IN_METHOD","google.com"),d(ar,Jn),wn(ar,"PROVIDER_ID","twitter.com"),wn(ar,"TWITTER_SIGN_IN_METHOD","twitter.com"),sr.prototype.xa=function(t){return this.signInMethod==cr.EMAIL_LINK_SIGN_IN_METHOD?ji(t,Hl,{email:this.a,oobCode:this.b}):ji(t,sf,{email:this.a,password:this.b})},sr.prototype.c=function(t,e){return this.signInMethod==cr.EMAIL_LINK_SIGN_IN_METHOD?ji(t,zl,{idToken:e,email:this.a,oobCode:this.b}):ji(t,ef,{idToken:e,email:this.a,password:this.b})},sr.prototype.f=function(t,e){return Xn(this.xa(t),e)},sr.prototype.C=function(){return{email:this.a,password:this.b,signInMethod:this.signInMethod}},En(cr,{PROVIDER_ID:"password"}),En(cr,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),En(cr,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),hr.prototype.xa=function(t){return t.Sa(pr(this))},hr.prototype.c=function(t,e){var n=pr(this);return n.idToken=e,ji(t,lf,n)},hr.prototype.f=function(t,e){var n=pr(this);return n.operation="REAUTH",t=ji(t,ff,n),Xn(t,e)},hr.prototype.C=function(){var t={providerId:"phone"};return this.a.Ra&&(t.verificationId=this.a.Ra),this.a.Qa&&(t.verificationCode=this.a.Qa),this.a.Ea&&(t.temporaryProof=this.a.Ea),this.a.Z&&(t.phoneNumber=this.a.Z),t},dr.prototype.Sa=function(e,n){var r=this.a.b;return X(n.verify()).then(function(i){if(!t(i))throw new xn("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(n.type){case"recaptcha":return Pi(r,{phoneNumber:e,recaptchaToken:i}).then(function(t){return"function"==typeof n.reset&&n.reset(),t},function(t){throw"function"==typeof n.reset&&n.reset(),t});default:throw new xn("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},En(dr,{PROVIDER_ID:"phone"}),En(dr,{PHONE_SIGN_IN_METHOD:"phone"}),_r.prototype.C=function(){return{type:this.b,eventId:this.c,urlResponse:this.f,sessionId:this.g,error:this.a&&this.a.C()}};var fl=null;br.prototype.subscribe=function(t){var e=this;this.a.push(t),this.b||(this.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},t=rn("universalLinks.subscribe",ds),"function"==typeof t&&t(null,this.b))},br.prototype.unsubscribe=function(t){P(this.a,function(e){return e==t})},d(wr,xn),d(Er,xn),Er.prototype.C=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber);var e=this.credential&&this.credential.C();return e&&V(t,e),t},Er.prototype.toJSON=function(){return this.C()};var hl=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;
Sr.prototype.c=null;var pl;d(Cr,Sr),Cr.prototype.a=function(){var t=kr(this);return t?new ActiveXObject(t):new XMLHttpRequest},Cr.prototype.b=function(){var t={};return kr(this)&&(t[0]=!0,t[1]=!0),t},pl=new Cr,d(xr,Sr),xr.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Pr;throw Error("Unsupported browser")},xr.prototype.b=function(){return{}},fs=Pr.prototype,fs.open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},fs.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},fs.abort=function(){this.a.abort()},fs.setRequestHeader=function(){},fs.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},fs.bc=function(){this.status=200,this.responseText=this.a.responseText,Nr(this,4)},fs.zb=function(){this.status=500,this.responseText="",Nr(this,4)},fs.fc=function(){this.zb()},fs.cc=function(){this.status=200,Nr(this,1)},fs.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Ar.prototype.a=null;var dl=0;Ar.prototype.reset=function(t,e,n,r,i){"number"==typeof i||dl++,r||gs(),delete this.a},Rr.prototype.toString=function(){return this.name};var yl=new Rr("SEVERE",1e3),vl=new Rr("WARNING",900),gl=new Rr("CONFIG",700),_l=new Rr("FINE",500);Ir.prototype.log=function(t,e,n){if(t.value>=Mr(this).value)for(s(e)&&(e=e()),t=new Ar(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var ml={},bl=null;d(jr,Sr),jr.prototype.a=function(){return new Fr(this.f)},jr.prototype.b=function(t){return function(){return t}}({}),d(Fr,jt);var wl=0;fs=Fr.prototype,fs.open=function(t,e){if(this.readyState!=wl)throw this.abort(),Error("Error reopening a connection");this.h=t,this.c=e,this.readyState=1,Ur(this)},fs.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.g,method:this.h,credentials:void 0,cache:void 0};t&&(e.body=t),this.j.fetch(new Request(this.c,e)).then(this.ec.bind(this),this.Ab.bind(this))},fs.abort=function(){this.responseText="",this.g=new Headers,this.status=0,1<=this.readyState&&this.a&&4!=this.readyState&&(this.readyState=4,this.a=!1,Ur(this)),this.readyState=wl},fs.ec=function(t){this.a&&(this.b||(this.b=t.headers,this.readyState=2,Ur(this)),this.a&&(this.readyState=3,Ur(this),this.a&&t.text().then(this.dc.bind(this,t),this.Ab.bind(this))))},fs.dc=function(t,e){this.a&&(this.status=t.status,this.statusText=t.statusText,this.responseText=e,this.readyState=4,Ur(this))},fs.Ab=function(t){var e=this.f;e&&e.log(vl,"Failed to fetch url "+this.c,t instanceof Error?t:Error(t)),this.a&&(this.readyState=4,Ur(this))},fs.setRequestHeader=function(t,e){this.g.append(t,e)},fs.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.f)&&t.log(vl,"Attempting to get response header but no headers have been received for url: "+this.c,void 0),"")},fs.getAllResponseHeaders=function(){if(!this.b){var t=this.f;return t&&t.log(vl,"Attempting to get all response headers but no headers have been received for url: "+this.c,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},d(Vr,jt);var El="";Vr.prototype.b=Dr("goog.net.XhrIo");var Tl=/^https?$/i,Sl=["POST","PUT"];fs=Vr.prototype,fs.Fa=function(){"undefined"!=typeof ps&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Lr(this.b,Jr(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},fs.abort=function(){this.a&&this.c&&(Lr(this.b,Jr(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Kr(this))},fs.ua=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Kr(this,!0)),Vr.lb.ua.call(this)},fs.Db=function(){this.pa||(this.I||this.j||this.f?Gr(this):this.tc())},fs.tc=function(){Gr(this)},fs.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.o){case El:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(yl,"Response type "+this.o+" is not supported on this browser",void 0),null}catch(t){return Lr(this.b,"Can not get response: "+t.message),null}},Zr.prototype.cancel=function(t){if(this.a)this.c instanceof Zr&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.v?this.v.call(this.s,this):this.u=!0,this.a||(t=new ui(this),ei(this),ti(this,!1,t))}},Zr.prototype.o=function(t,e){this.j=!1,ti(this,t,e)},Zr.prototype.D=function(){ei(this),ti(this,!0,null)},Zr.prototype.then=function(t,e,n){var r,i,o=new G(function(t,e){r=t,i=e});return ri(this,r,function(t){t instanceof ui?o.cancel():i(t)}),o.then(t,e,n)},y(Zr),d(ai,g),ai.prototype.message="Deferred has already fired",ai.prototype.name="AlreadyCalledError",d(ui,g),ui.prototype.message="Deferred was canceled",ui.prototype.name="CanceledError",si.prototype.c=function(){throw delete Ol[this.a],this.b};var Ol={},Cl=0,kl=1;d(pi,g),d(di,Sr),di.prototype.a=function(){return new this.f},di.prototype.b=function(){return{}};var xl,Pl="idToken",Nl=new vn(3e4,6e4),Al={"Content-Type":"application/x-www-form-urlencoded"},Il=new vn(3e4,6e4),Rl={"Content-Type":"application/json"};yi.prototype.o=function(t,e,n,r,i,o){if($e()&&("undefined"==typeof ds.fetch||"undefined"==typeof ds.Headers||"undefined"==typeof ds.Request))throw new xn("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new Vr(this.c);if(o){a.g=Math.max(0,o);var u=setTimeout(function(){a.dispatchEvent("timeout")},o)}Ft(a,"complete",function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse($r(this))||null}catch(e){t=null}e&&e(t)}),Ut(a,"ready",function(){u&&clearTimeout(u),pt(this)}),Ut(a,"timeout",function(){u&&clearTimeout(u),pt(this),e&&e(null)}),Br(a,t,n,r,i)};var Ml=ge("https://apis.google.com/js/client.js?onload=%{onload}"),Dl="__fcb"+Math.floor(1e6*Math.random()).toString();yi.prototype.u=function(t,e,n,r,i){var o=this;xl.then(function(){window.gapi.client.setApiKey(o.b);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})}).m(function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})},yi.prototype.jb=function(){return ji(this,nf,{})},yi.prototype.mb=function(t,e){return ji(this,tf,{idToken:t,email:e})},yi.prototype.nb=function(t,e){return ji(this,ef,{idToken:t,password:e})};var Ll={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};fs=yi.prototype,fs.ob=function(t,e){var n={idToken:t},r=[];return j(Ll,function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)}),r.length&&(n.deleteAttribute=r),ji(this,tf,n)},fs.gb=function(t,e){return t={requestType:"PASSWORD_RESET",email:t},V(t,e),ji(this,Xl,t)},fs.hb=function(t,e){return t={requestType:"EMAIL_SIGNIN",email:t},V(t,e),ji(this,Kl,t)},fs.fb=function(t,e){return t={requestType:"VERIFY_EMAIL",idToken:t},V(t,e),ji(this,Yl,t)},fs.Sa=function(t){return ji(this,cf,t)},fs.Wa=function(t,e){return ji(this,Jl,{oobCode:t,newPassword:e})},fs.Ia=function(t){return ji(this,Ul,{oobCode:t})},fs.Ua=function(t){return ji(this,Fl,{oobCode:t})};var jl,Fl={endpoint:"setAccountInfo",A:Li,ba:"email"},Ul={endpoint:"resetPassword",A:Li,J:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e)throw new xn("internal-error")}},Vl={endpoint:"signupNewUser",A:function(t){if(Ei(t),!t.password)throw new xn("weak-password")},J:ki,R:!0},Bl={endpoint:"createAuthUri"},Wl={endpoint:"deleteAccount",T:["idToken"]},ql={endpoint:"setAccountInfo",T:["idToken","deleteProvider"],A:function(t){if(!a(t.deleteProvider))throw new xn("internal-error")}},Hl={endpoint:"emailLinkSignin",T:["email","oobCode"],A:Ei,J:ki,R:!0},zl={endpoint:"emailLinkSignin",T:["idToken","email","oobCode"],A:Ei,J:ki,R:!0},Gl={endpoint:"getAccountInfo"},Kl={endpoint:"getOobConfirmationCode",T:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new xn("internal-error");Ei(t)},ba:"email"},Yl={endpoint:"getOobConfirmationCode",T:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new xn("internal-error")},ba:"email"},Xl={endpoint:"getOobConfirmationCode",T:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new xn("internal-error");Ei(t)},ba:"email"},Ql={pb:!0,endpoint:"getProjectConfig",Cb:"GET"},$l={pb:!0,endpoint:"getRecaptchaParam",Cb:"GET",J:function(t){if(!t.recaptchaSiteKey)throw new xn("internal-error")}},Jl={endpoint:"resetPassword",A:Li,ba:"email"},Zl={endpoint:"sendVerificationCode",T:["phoneNumber","recaptchaToken"],ba:"sessionInfo"},tf={endpoint:"setAccountInfo",T:["idToken"],A:Ti,R:!0},ef={endpoint:"setAccountInfo",T:["idToken"],A:function(t){if(Ti(t),!t.password)throw new xn("weak-password")},J:ki,R:!0},nf={endpoint:"signupNewUser",J:ki,R:!0},rf={endpoint:"verifyAssertion",A:Ai,J:Ii,R:!0},of={endpoint:"verifyAssertion",A:Ai,J:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new xn("user-not-found");if(t.errorMessage)throw Fi(t.errorMessage);if(!t[Pl])throw new xn("internal-error")},R:!0},af={endpoint:"verifyAssertion",A:function(t){if(Ai(t),!t.idToken)throw new xn("internal-error")},J:Ii,R:!0},uf={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new xn("invalid-custom-token")},J:ki,R:!0},sf={endpoint:"verifyPassword",A:function(t){if(Ei(t),!t.password)throw new xn("wrong-password")},J:ki,R:!0},cf={endpoint:"verifyPhoneNumber",A:xi,J:ki},lf={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new xn("internal-error");xi(t)},J:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Tr(t);ki(t)}},ff={Tb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:xi,J:ki},hf={Wc:{Ya:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",eb:"https://securetoken.googleapis.com/v1/token",id:"p"},Yc:{Ya:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",eb:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},Zc:{Ya:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",eb:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}};jl=Vi("__EID__")?"__EID__":void 0;var pf=ge("https://apis.google.com/js/api.js?onload=%{onload}"),df=new vn(3e4,6e4),yf=new vn(5e3,15e3),vf=null;Gi.prototype.toString=function(){return this.f?te(this.a,"v",this.f):le(this.a.a,"v"),this.b?te(this.a,"eid",this.b):le(this.a.a,"eid"),this.c.length?te(this.a,"fw",this.c.join(",")):le(this.a.a,"fw"),this.a.toString()},Ki.prototype.toString=function(){var t=re(this.o,"/__/auth/handler");if(te(t,"apiKey",this.u),te(t,"appName",this.c),te(t,"authType",this.l),this.a.isOAuthProvider){var e=this.a;try{var n=hs.app(this.c).auth().ca()}catch(t){n=null}e.Xa=n,te(t,"providerId",this.a.providerId),e=this.a,n=fn(e.tb);for(var r in n)n[r]=n[r].toString();r=e.Ac,n=U(n);for(var i=0;i<r.length;i++){var o=r[i];o in n&&delete n[o]}e.Za&&e.Xa&&!n[e.Za]&&(n[e.Za]=e.Xa),F(n)||te(t,"customParameters",ln(n))}if("function"==typeof this.a.yb&&(e=this.a.yb(),e.length&&te(t,"scopes",e.join(","))),this.j?te(t,"redirectUrl",this.j):le(t.a,"redirectUrl"),this.g?te(t,"eventId",this.g):le(t.a,"eventId"),this.h?te(t,"v",this.h):le(t.a,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!ee(t,a)&&te(t,a,this.b[a]);return this.f?te(t,"eid",this.f):le(t.a,"eid"),a=Yi(this.c),a.length&&te(t,"fw",a.join(",")),t.toString()},fs=Xi.prototype,fs.Da=function(t,e,n){var r=new xn("popup-closed-by-user"),i=new xn("web-storage-unsupported"),o=this,a=!1;return this.ea().then(function(){eo(o).then(function(n){n||(t&&He(t),e(i),a=!0)})}).m(function(){}).then(function(){if(!a)return Ge(t)}).then(function(){if(!a)return Wt(n).then(function(){e(r)})})},fs.Gb=function(){var t=nn();return!cn(t)&&!dn(t)},fs.Bb=function(){return!1},fs.xb=function(t,e,n,r,i,o,a){if(!t)return Q(new xn("popup-blocked"));if(a&&!cn())return this.ea().m(function(e){He(t),i(e)}),r(),X();this.a||(this.a=Qi(Ji(this)));var u=this;return this.a.then(function(){var e=u.ea().m(function(e){throw He(t),i(e),e});return r(),e}).then(function(){if(gr(n),!a){var r=Zi(u.u,u.f,u.b,e,n,null,o,u.c,void 0,u.h);Ve(r,t)}}).m(function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t})},fs.Ba=function(t,e,n){this.a||(this.a=Qi(Ji(this)));var r=this;return this.a.then(function(){gr(e);var i=Zi(r.u,r.f,r.b,t,e,Ue(),n,r.c,void 0,r.h);Ve(i)}).m(function(t){throw"auth/network-request-failed"==t.code&&(r.a=null),t})},fs.ea=function(){var t=this;return $i(this).then(function(){return t.j.ab}).m(function(){throw t.a=null,new xn("network-request-failed")})},fs.Lb=function(){return!0},fs.va=function(t){this.g.push(t)},fs.Ja=function(t){P(this.g,function(e){return e==t})},fs=no.prototype,fs.get=function(t){return X(this.a.getItem(t)).then(function(t){return t&&hn(t)})},fs.set=function(t,e){return X(this.a.setItem(t,ln(e)))},fs.P=function(t){return X(this.a.removeItem(t))},fs.Y=function(){},fs.aa=function(){};var gf;fs=ro.prototype,fs.set=function(t,e){var n,r=!1,i=this;return ao(this).then(function(e){return n=e,e=so(co(n,!0)),lo(e.get(t))}).then(function(o){var a=so(co(n,!0));return o?(o.value=e,lo(a.put(o))):(i.b++,r=!0,o={},o.fbase_key=t,o.value=e,lo(a.add(o)))}).then(function(){i.f[t]=e}).ha(function(){r&&i.b--})},fs.get=function(t){return ao(this).then(function(e){return lo(so(co(e,!1)).get(t))}).then(function(t){return t&&t.value})},fs.P=function(t){var e=!1,n=this;return ao(this).then(function(r){return e=!0,n.b++,lo(so(co(r,!0)).delete(t))}).then(function(){delete n.f[t]}).ha(function(){e&&n.b--})},fs.Jc=function(){var t=this;return ao(this).then(function(t){var e=so(co(t,!1));return e.getAll?lo(e.getAll()):new G(function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(Error(t.target.errorCode))}})}).then(function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=Be(t.f,n),t.f=n}return r})},fs.Y=function(t){0==this.a.length&&fo(this),this.a.push(t)},fs.aa=function(t){P(this.a,function(e){return e==t}),0==this.a.length&&this.c&&this.c.cancel("STOP_EVENT")},fs=ho.prototype,fs.get=function(t){return this.b.then(function(e){return e.get(t)})},fs.set=function(t,e){return this.b.then(function(n){return n.set(t,e)})},fs.P=function(t){return this.b.then(function(e){return e.P(t)})},fs.Y=function(t){this.a.push(t)},fs.aa=function(t){P(this.a,function(e){return e==t})},fs=po.prototype,fs.get=function(t){return X(this.a[t])},fs.set=function(t,e){return this.a[t]=e,X()},fs.P=function(t){return delete this.a[t],X()},fs.Y=function(){},fs.aa=function(){},fs=yo.prototype,fs.get=function(t){var e=this;return X().then(function(){var n=e.a.getItem(t);return hn(n)})},fs.set=function(t,e){var n=this;return X().then(function(){var r=ln(e);null===r?n.P(t):n.a.setItem(t,r)})},fs.P=function(t){var e=this;return X().then(function(){e.a.removeItem(t)})},fs.Y=function(t){ds.window&&Ot(ds.window,"storage",t)},fs.aa=function(t){ds.window&&Pt(ds.window,"storage",t)},fs=_o.prototype,fs.get=function(){return X(null)},fs.set=function(){return X()},fs.P=function(){return X()},fs.Y=function(){},fs.aa=function(){},fs=mo.prototype,fs.get=function(t){var e=this;return X().then(function(){var n=e.a.getItem(t);return hn(n)})},fs.set=function(t,e){var n=this;return X().then(function(){var r=ln(e);null===r?n.P(t):n.a.setItem(t,r)})},fs.P=function(t){var e=this;return X().then(function(){e.a.removeItem(t)})},fs.Y=function(){},fs.aa=function(){};var _f,mf,bf={w:yo,Pa:mo},wf={w:yo,Pa:mo},Ef={w:no,Pa:_o},Tf={w:yo,Pa:_o},Sf={Vc:"local",NONE:"none",Xc:"session"};fs=So.prototype,fs.get=function(t,e){return Co(this,t.w).get(ko(t,e))},fs.set=function(t,e,n){var r=ko(t,n),i=this,o=Co(this,t.w);return o.set(r,e).then(function(){return o.get(r)}).then(function(e){"local"==t.w&&(i.b[r]=e)})},fs.addListener=function(t,e,n){t=ko(t,e),this.l&&(this.b[t]=ds.localStorage.getItem(t)),F(this.a)&&(Co(this,"local").Y(this.f),this.h||(Fe()||!bn())&&ds.indexedDB||!this.l||No(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},fs.removeListener=function(t,e,n){t=ko(t,e),this.a[t]&&(P(this.a[t],function(t){return t==n}),0==this.a[t].length&&delete this.a[t]),F(this.a)&&(Co(this,"local").aa(this.f),Ao(this))},fs.Kb=function(t){if(t&&t.f){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];"undefined"==typeof r&&(r=null);var i=ds.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.Va(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if("undefined"!=typeof t.a.a?Co(this,"local").aa(this.f):Ao(this),this.o)if(n=ds.localStorage.getItem(e),r=t.a.newValue,r!==n)null!==r?ds.localStorage.setItem(e,r):ds.localStorage.removeItem(e);else if(this.b[e]===r&&"undefined"==typeof t.a.a)return;var o=this;n=function(){"undefined"==typeof t.a.a&&o.b[e]===ds.localStorage.getItem(e)||(o.b[e]=ds.localStorage.getItem(e),o.Va(e))},Ys&&nc&&10==nc&&ds.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else ws(t,h(this.Va,this))},fs.Va=function(t){this.a[t]&&ws(this.a[t],function(t){t()})};var Of,Cf={name:"authEvent",w:"local"};d(Lo,Do);for(var kf=64,xf=kf-1,Pf=[],Nf=0;Nf<xf;Nf++)Pf[Nf]=0;var Af=N(128,Pf);Lo.prototype.reset=function(){this.g=this.c=0,this.a=ds.Int32Array?new Int32Array(this.h):A(this.h)};var If=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];d(Uo,Lo);var Rf=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];fs=Vo.prototype,fs.ea=function(){return this.ya?this.ya:this.ya=Ye().then(function(){if("function"!=typeof rn("universalLinks.subscribe",ds))throw Bo("cordova-universal-links-plugin is not installed");if("undefined"==typeof rn("BuildInfo.packageName",ds))throw Bo("cordova-plugin-buildinfo is not installed");if("function"!=typeof rn("cordova.plugins.browsertab.openUrl",ds))throw Bo("cordova-plugin-browsertab is not installed");if("function"!=typeof rn("cordova.InAppBrowser.open",ds))throw Bo("cordova-plugin-inappbrowser is not installed")},function(){throw new xn("cordova-not-ready")})},fs.Da=function(t,e){return e(new xn("operation-not-supported-in-this-environment")),X()},fs.xb=function(){return Q(new xn("operation-not-supported-in-this-environment"))},fs.Lb=function(){return!1},fs.Gb=function(){return!0},fs.Bb=function(){return!0},fs.Ba=function(t,e,n){if(this.c)return Q(new xn("redirect-operation-pending"));var r=this,i=ds.document,o=null,a=null,u=null,s=null;return this.c=X().then(function(){return gr(e),Go(r)}).then(function(){return Ho(r,t,e,n)}).then(function(){return new G(function(t,e){a=function(){var e=rn("cordova.plugins.browsertab.close",ds);return t(),"function"==typeof e&&e(),r.a&&"function"==typeof r.a.close&&(r.a.close(),r.a=null),!1},r.va(a),u=function(){o||(o=Wt(2e3).then(function(){e(new xn("redirect-cancelled-by-user"))}))},s=function(){gn()&&u()},i.addEventListener("resume",u,!1),nn().toLowerCase().match(/android/)||i.addEventListener("visibilitychange",s,!1)}).m(function(t){return Ko(r).then(function(){throw t})})}).ha(function(){u&&i.removeEventListener("resume",u,!1),s&&i.removeEventListener("visibilitychange",s,!1),o&&o.cancel(),a&&r.Ja(a),r.c=null})},fs.va=function(t){this.b.push(t),Go(this).m(function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new _r("unknown",null,null,null,new xn("no-auth-event")),t(e))})},fs.Ja=function(t){P(this.b,function(e){return e==t})};var Mf={name:"pendingRedirect",w:"session"};Zo.prototype.reset=function(){this.f=!1,this.a.Ja(this.j),this.a=ta(this.v,this.l,this.u)},Zo.prototype.subscribe=function(t){if(k(this.h,t)||this.h.push(t),!this.f){var e=this;Jo(this.g).then(function(t){t?$o(e.g).then(function(){ea(e).m(function(t){var n=new _r("unknown",null,null,null,new xn("operation-not-supported-in-this-environment"));ia(t)&&e.o(n)})}):na(e)}).m(function(){na(e)})}},Zo.prototype.unsubscribe=function(t){P(this.h,function(e){return e==t})},Zo.prototype.o=function(t){if(!t)throw new xn("invalid-auth-event");for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.qb(t.b,t.c)){(e=this.b[t.b])&&e.h(t,r),e=!0;break}}return ua(this.c),e};var Df=new vn(2e3,1e4),Lf=new vn(3e4,6e4);Zo.prototype.da=function(){return this.c.da()},Zo.prototype.Ba=function(t,e,n){var r,i=this;return Qo(this.g).then(function(){return i.a.Ba(t,e,n).m(function(t){if(ia(t))throw new xn("operation-not-supported-in-this-environment");return r=t,$o(i.g).then(function(){throw r})}).then(function(){return i.a.Lb()?new G(function(){}):$o(i.g).then(function(){return i.da()}).then(function(){}).m(function(){})})})},Zo.prototype.Da=function(t,e,n,r){return this.a.Da(n,function(n){t.ga(e,null,n,r)},Df.get())};var jf={};aa.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},aa.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.b,r=t.c,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;"unknown"!=n||i||o?t.a?(fa(this,!0,null,t.a),X()):e.wa(n,r)?sa(this,t,e):Q(new xn("invalid-auth-event")):(fa(this,!1,null,null),X())}else Q(new xn("invalid-auth-event"))},aa.prototype.da=function(){var t=this;return new G(function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),ha(t))})},pa.prototype.h=function(t,e){if(t){var n=t.b,r=t.c;t.a?(e.ga(t.b,null,t.a,t.c),X()):e.wa(n,r)?da(t,e):Q(new xn("invalid-auth-event"))}else Q(new xn("invalid-auth-event"))},ya.prototype.confirm=function(t){return t=yr(this.verificationId,t),this.a(t)},_a.prototype.start=function(){this.a=this.c,ba(this,!0)},_a.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},wa.prototype.C=function(){return{apiKey:this.f.b,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}},wa.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Q(new xn("user-token-expired")):t||!this.b||gs()>this.c-3e4?this.a?Sa(this,{grant_type:"refresh_token",refresh_token:this.a}):X(null):X({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})},Oa.prototype.C=function(){return{lastLoginAt:this.b,createdAt:this.a}},d(xa,_t),d(Pa,jt),Pa.prototype.na=function(t){this.ia=t,vi(this.b,t)},Pa.prototype.ca=function(){return this.ia},Pa.prototype.Ka=function(){return A(this.O)},Pa.prototype.Ga=function(){this.l.b&&(this.l.stop(),this.l.start())},wn(Pa.prototype,"providerId","firebase"),fs=Pa.prototype,fs.reload=function(){var t=this;return ou(this,qa(this).then(function(){return Xa(t).then(function(){return Ua(t)}).then(Wa)}))},fs.ac=function(t){return this.F(t).then(function(t){return new ga(t)})},fs.F=function(t){var e=this;return ou(this,qa(this).then(function(){return e.h.getToken(t)}).then(function(t){if(!t)throw new xn("internal-error");return t.accessToken!=e.qa&&(ja(e,t.accessToken),e.dispatchEvent(new xa("tokenChanged"))),Ka(e,"refreshToken",t.refreshToken),t.accessToken}))},fs.getToken=function(t){return Fc["firebase.User.prototype.getToken is deprecated. Please use firebase.User.prototype.getIdToken instead."]||(Fc["firebase.User.prototype.getToken is deprecated. Please use firebase.User.prototype.getIdToken instead."]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn("firebase.User.prototype.getToken is deprecated. Please use firebase.User.prototype.getIdToken instead.")),this.F(t)},fs.uc=function(t){if(t=t.users,!t||!t.length)throw new xn("internal-error");t=t[0],Ba(this,{uid:t.localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt});for(var e=Ja(t),n=0;n<e.length;n++)za(this,e[n]);Ka(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length))},fs.bb=function(t){var e=this,n=null;return ou(this,t.f(this.b,this.uid).then(function(t){return Qa(e,t),n=tu(e,t,"reauthenticate"),e.j=null,e.reload()}).then(function(){return n}),!0)},fs.vc=function(t){return this.bb(t).then(function(){})},fs.$a=function(t){var e=this,n=null;return ou(this,Za(this,t.providerId).then(function(){return e.F()}).then(function(n){return t.c(e.b,n)}).then(function(t){return n=tu(e,t,"link"),eu(e,t)}).then(function(){return n}))},fs.mc=function(t){return this.$a(t).then(function(t){return t.user})},fs.nc=function(t,e){var n=this;return ou(this,Za(this,"phone").then(function(){return va(Ra(n),t,e,h(n.$a,n))}))},fs.wc=function(t,e){var n=this;return ou(this,X().then(function(){return va(Ra(n),t,e,h(n.bb,n))}),!0)},fs.mb=function(t){var e=this;return ou(this,this.F().then(function(n){return e.b.mb(n,t)}).then(function(t){return Qa(e,t),e.reload()}))},fs.Nc=function(t){var e=this;return ou(this,this.F().then(function(n){return t.c(e.b,n)}).then(function(t){return Qa(e,t),e.reload()}))},fs.nb=function(t){var e=this;return ou(this,this.F().then(function(n){return e.b.nb(n,t)}).then(function(t){return Qa(e,t),e.reload()}))},fs.ob=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return qa(this);var e=this;return ou(this,this.F().then(function(n){return e.b.ob(n,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(t){return Qa(e,t),Ka(e,"displayName",t.displayName||null),Ka(e,"photoURL",t.photoUrl||null),ws(e.providerData,function(t){"password"===t.providerId&&(wn(t,"displayName",e.displayName),wn(t,"photoURL",e.photoURL))}),Ua(e)}).then(Wa))},fs.Mc=function(t){var e=this;return ou(this,Xa(this).then(function(n){return k(Ha(e),t)?Ni(e.b,n,[t]).then(function(t){var n={};return ws(t.providerUserInfo||[],function(t){n[t.providerId]=!0}),ws(Ha(e),function(t){n[t]||Ga(e,t)}),n[dr.PROVIDER_ID]||wn(e,"phoneNumber",null),Ua(e)}):Ua(e).then(function(){throw new xn("no-such-provider")})}))},fs.delete=function(){var t=this;return ou(this,this.F().then(function(e){return ji(t.b,Wl,{idToken:e})}).then(function(){t.dispatchEvent(new xa("userDeleted"))})).then(function(){for(var e=0;e<t.D.length;e++)t.D[e].cancel("app-deleted");Na(t,null),Ia(t,null),t.D=[],t.o=!0,La(t),wn(t,"refreshToken",null),t.a&&t.a.unsubscribe(t)})},fs.qb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.$||null)==e||"reauthViaRedirect"==t&&(this.$||null)==e)},fs.ga=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},fs.wa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?h(this.vb,this):"reauthViaPopup"==t&&e==(this.g||null)?h(this.wb,this):"linkViaRedirect"==t&&(this.$||null)==e?h(this.vb,this):"reauthViaRedirect"==t&&(this.$||null)==e?h(this.wb,this):null},fs.oc=function(t){var e=this;return nu(this,"linkViaPopup",t,function(){return Za(e,t.providerId).then(function(){return Ua(e)})},!1)},fs.xc=function(t){return nu(this,"reauthViaPopup",t,function(){return X()},!0)},fs.pc=function(t){var e=this;return ru(this,"linkViaRedirect",t,function(){return Za(e,t.providerId)},!1)},fs.yc=function(t){return ru(this,"reauthViaRedirect",t,function(){return X()},!0)},fs.vb=function(t,e){var n=this;this.c&&(this.c.cancel(),this.c=null);var r=null,i=this.F().then(function(r){return Mi(n.b,{requestUri:t,sessionId:e,idToken:r})}).then(function(t){return r=tu(n,t,"link"),eu(n,t)}).then(function(){return r});return ou(this,i)},fs.wb=function(t,e){var n=this;this.c&&(this.c.cancel(),this.c=null);var r=null,i=X().then(function(){return Xn(Di(n.b,{requestUri:t,sessionId:e}),n.uid)}).then(function(t){return r=tu(n,t,"reauthenticate"),Qa(n,t),n.j=null,n.reload()}).then(function(){return r});return ou(this,i,!0)},fs.fb=function(t){var e=this,n=null;return ou(this,this.F().then(function(e){return n=e,"undefined"==typeof t||F(t)?{}:An(new Nn(t))}).then(function(t){return e.b.fb(n,t)}).then(function(t){if(e.email!=t)return e.reload()}).then(function(){}))},fs.toJSON=function(){return this.C()},fs.C=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,providerData:[],apiKey:this.G,appName:this.s,authDomain:this.B,stsTokenManager:this.h.C(),redirectEventId:this.$||null};return this.metadata&&V(t,this.metadata.C()),ws(this.providerData,function(e){t.providerData.push(Sn(e))}),t};var Ff={name:"redirectUser",w:"session"};hu.prototype.g=function(){var t=this,e=yu("local");bu(this,function(){return X().then(function(){return t.c&&"local"!=t.c.w?t.b.get(e,t.a):null}).then(function(n){if(n)return pu(t,"local").then(function(){t.c=e})})})};var Uf={name:"persistence",w:"session"};hu.prototype.ib=function(t){var e=null,n=this;return To(t),bu(this,function(){return t!=n.c.w?n.b.get(n.c,n.a).then(function(r){return e=r,pu(n,t)}).then(function(){if(n.c=yu(t),e)return n.b.set(n.c,e,n.a)}):X()})},d(wu,jt),d(Eu,_t),d(Tu,_t),fs=wu.prototype,fs.ib=function(t){return t=this.h.ib(t),Fu(this,t)},fs.na=function(t){this.W===t||this.l||(this.W=t,vi(this.b,this.W),this.dispatchEvent(new Eu(this.ca())))},fs.ca=function(){return this.W},fs.Oc=function(){var t=ds.navigator;this.na(t?t.languages&&t.languages[0]||t.language||t.userLanguage||null:null)},fs.qc=function(t){this.D.push(t),gi(this.b,hs.SDK_VERSION?en(hs.SDK_VERSION,this.D):null),this.dispatchEvent(new Tu(this.D))},fs.Ka=function(){return A(this.D)},fs.toJSON=function(){return{apiKey:Ru(this).options.apiKey,authDomain:Ru(this).options.authDomain,appName:Ru(this).name,currentUser:Mu(this)&&Mu(this).C()}},fs.qb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},fs.ga=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},fs.wa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?h(this.Xb,this):null},fs.Xb=function(t,e){var n=this;t={requestUri:t,sessionId:e},this.c&&(this.c.cancel(),this.c=null);var r=null,i=null,o=Ri(n.b,t).then(function(t){return r=vr(t),i=Vn(t),t});return t=n.V.then(function(){return o}).then(function(t){return ku(n,t)}).then(function(){return Tn({user:Mu(n),credential:r,additionalUserInfo:i,operationType:"signIn"})}),Fu(this,t)},fs.Gc=function(t){if(!an())return Q(new xn("operation-not-supported-in-this-environment"));var e=this,n=Un(t.providerId),r=pn(),i=null;(!cn()||Qe())&&Ru(this).options.authDomain&&t.isOAuthProvider&&(i=Zi(Ru(this).options.authDomain,Ru(this).options.apiKey,Ru(this).name,"signInViaPopup",t,null,r,hs.SDK_VERSION||null));var o=ze(i,n&&n.Aa,n&&n.za);return n=Ou(this).then(function(e){return ra(e,o,"signInViaPopup",t,r,!!i)}).then(function(){return new G(function(t,n){e.ga("signInViaPopup",null,new xn("cancelled-popup-request"),e.g),e.f=t,e.v=n,e.g=r,e.c=e.a.Da(e,"signInViaPopup",o,r)})}).then(function(t){return o&&He(o),t?Tn(t):null}).m(function(t){throw o&&He(o),
t}),Fu(this,n)},fs.Hc=function(t){if(!an())return Q(new xn("operation-not-supported-in-this-environment"));var e=this,n=Ou(this).then(function(){return vu(e.h)}).then(function(){return e.a.Ba("signInViaRedirect",t)});return Fu(this,n)},fs.da=function(){if(!an())return Q(new xn("operation-not-supported-in-this-environment"));var t=this,e=Ou(this).then(function(){return t.a.da()}).then(function(t){return t?Tn(t):null});return Fu(this,e)},fs.kb=function(){var t=this,e=this.j.then(function(){return Mu(t)?(xu(t,null),_u(t.h).then(function(){Lu(t)})):X()});return Fu(this,e)},fs.Ic=function(){var t=this;return mu(this.h,Ru(this).options.authDomain).then(function(e){if(!t.l){var n;if(n=Mu(t)&&e){n=Mu(t).uid;var r=e.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return Ya(Mu(t),e),Mu(t).F();(Mu(t)||e)&&(xu(t,e),e&&(Va(e),e.fa=t.G),t.a&&t.a.subscribe(t),Lu(t))}})},fs.ka=function(t){return gu(this.h,t)},fs.Yb=function(){Lu(this),this.ka(Mu(this))},fs.gc=function(){this.kb()},fs.hc=function(){this.kb()},fs.ic=function(t){var e=this;this.addAuthTokenListener(function(){t.next(Mu(e))})},fs.jc=function(t){var e=this;ju(this,function(){t.next(Mu(e))})},fs.sc=function(t,e,n){var r=this;return this.X&&hs.Promise.resolve().then(function(){s(t)?t(Mu(r)):s(t.next)&&t.next(Mu(r))}),this.Ob(t,e,n)},fs.rc=function(t,e,n){var r=this;return this.X&&hs.Promise.resolve().then(function(){r.O=r.getUid(),s(t)?t(Mu(r)):s(t.next)&&t.next(Mu(r))}),this.Pb(t,e,n)},fs.$b=function(t){var e=this,n=this.j.then(function(){return Mu(e)?Mu(e).F(t).then(function(t){return{accessToken:t}}):null});return Fu(this,n)},fs.Cc=function(t){return this.Hb(t).then(function(t){return t.user})},fs.Hb=function(t){var e=this;return this.j.then(function(){return Iu(e,ji(e.b,uf,{token:t}))}).then(function(t){var n=t.user;return Ka(n,"isAnonymous",!1),e.ka(n),t})},fs.Ib=function(t,e){var n=this;return this.j.then(function(){return Iu(n,ji(n.b,sf,{email:t,password:e}))})},fs.Dc=function(t,e){return this.Ib(t,e).then(function(t){return t.user})},fs.Sb=function(t,e){return this.sb(t,e).then(function(t){return t.user})},fs.sb=function(t,e){var n=this;return this.j.then(function(){return Iu(n,ji(n.b,Vl,{email:t,password:e}))})},fs.Bc=function(t){return this.Oa(t).then(function(t){return t.user})},fs.Oa=function(t){var e=this;return this.j.then(function(){return Iu(e,t.xa(e.b))})},fs.jb=function(){return this.Jb().then(function(t){return t.user})},fs.Jb=function(){var t=this;return this.j.then(function(){var e=Mu(t);if(e&&e.isAnonymous){var n=Tn({providerId:null,isNewUser:!1});return Tn({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return Iu(t,t.b.jb()).then(function(e){var n=e.user;return Ka(n,"isAnonymous",!0),t.ka(n),e})})},fs.getUid=function(){return Mu(this)&&Mu(this).uid||null},fs.Qb=function(t){this.addAuthTokenListener(t),this.s++,0<this.s&&Mu(this)&&Da(Mu(this))},fs.zc=function(t){var e=this;ws(this.o,function(n){n==t&&e.s--}),0>this.s&&(this.s=0),0==this.s&&Mu(this)&&La(Mu(this)),this.removeAuthTokenListener(t)},fs.addAuthTokenListener=function(t){var e=this;this.o.push(t),Fu(this,this.j.then(function(){e.l||k(e.o,t)&&t(Du(e))}))},fs.removeAuthTokenListener=function(t){P(this.o,function(e){return e==t})},fs.delete=function(){this.l=!0;for(var t=0;t<this.N.length;t++)this.N[t].cancel("app-deleted");return this.N=[],this.h&&(t=this.h,t.b.removeListener(yu("local"),t.a,this.ia)),this.a&&this.a.unsubscribe(this),hs.Promise.resolve()},fs.Vb=function(t){return Fu(this,Si(this.b,t))},fs.Wb=function(t){return Fu(this,Oi(this.b,t))},fs.kc=function(t){return!!fr(t)},fs.hb=function(t,e){var n=this;return Fu(this,X().then(function(){var t=new Nn(e);if(!t.c)throw new xn("argument-error",$c+" must be true when sending sign in link to email");return An(t)}).then(function(e){return n.b.hb(t,e)}).then(function(){}))},fs.Pc=function(t){return this.Ia(t).then(function(t){return t.data.email})},fs.Wa=function(t,e){return Fu(this,this.b.Wa(t,e).then(function(){}))},fs.Ia=function(t){return Fu(this,this.b.Ia(t).then(function(t){return new kn(t)}))},fs.Ua=function(t){return Fu(this,this.b.Ua(t).then(function(){}))},fs.gb=function(t,e){var n=this;return Fu(this,X().then(function(){return"undefined"==typeof e||F(e)?{}:An(new Nn(e))}).then(function(e){return n.b.gb(t,e)}).then(function(){}))},fs.Fc=function(t,e){return Fu(this,va(this,t,e,h(this.Oa,this)))},fs.Ec=function(t,e){var n=this;return Fu(this,X().then(function(){var r=lr(t,e||Ue());return n.Oa(r)}))};var Vf="callback",Bf="expired-callback",Wf="sitekey",qf="size";fs=Uu.prototype,fs.ya=function(){var t=this;return this.c?this.c:this.c=Wu(this,X().then(function(){if(un()&&!$e())return Ke();throw new xn("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return zu(Gu(),t.s())}).then(function(){return ji(t.u,$l,{})}).then(function(e){t.a[Wf]=e.recaptchaSiteKey}).m(function(e){throw t.c=null,e}))},fs.render=function(){qu(this);var t=this;return Wu(this,this.ya().then(function(){if(null===t.b){var e=t.l;if(!t.h){var n=Pe(e);e=Ae("DIV"),n.appendChild(e)}t.b=grecaptcha.render(e,t.a)}return t.b}))},fs.verify=function(){qu(this);var t=this;return Wu(this,this.render().then(function(e){return new G(function(n){var r=grecaptcha.getResponse(e);if(r)n(r);else{var i=function(e){e&&(Bu(t,i),n(e))};t.j.push(i),t.h&&grecaptcha.execute(t.b)}})}))},fs.reset=function(){qu(this),null!==this.b&&grecaptcha.reset(this.b)},fs.clear=function(){qu(this),this.o=!0,Gu().b--;for(var t=0;t<this.g.length;t++)this.g[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.h){t=Pe(this.l);for(var e;e=t.firstChild;)t.removeChild(e)}};var Hf=ge("https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),zf=new vn(3e4,6e4),Gf=null;d(Ku,Uu);var Kf="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");us(wu.prototype,{Ua:{name:"applyActionCode",i:[Xu("code")]},Ia:{name:"checkActionCode",i:[Xu("code")]},Wa:{name:"confirmPasswordReset",i:[Xu("code"),Xu("newPassword")]},Sb:{name:"createUserWithEmailAndPassword",i:[Xu("email"),Xu("password")]},sb:{name:"createUserAndRetrieveDataWithEmailAndPassword",i:[Xu("email"),Xu("password")]},Vb:{name:"fetchProvidersForEmail",i:[Xu("email")]},Wb:{name:"fetchSignInMethodsForEmail",i:[Xu("email")]},da:{name:"getRedirectResult",i:[]},kc:{name:"isSignInWithEmailLink",i:[Xu("emailLink")]},rc:{name:"onAuthStateChanged",i:[as($u(),Ju(),"nextOrObserver"),Ju("opt_error",!0),Ju("opt_completed",!0)]},sc:{name:"onIdTokenChanged",i:[as($u(),Ju(),"nextOrObserver"),Ju("opt_error",!0),Ju("opt_completed",!0)]},gb:{name:"sendPasswordResetEmail",i:[Xu("email"),as($u("opt_actionCodeSettings",!0),Zu(null,!0),"opt_actionCodeSettings",!0)]},hb:{name:"sendSignInLinkToEmail",i:[Xu("email"),$u("actionCodeSettings")]},ib:{name:"setPersistence",i:[Xu("persistence")]},Oa:{name:"signInAndRetrieveDataWithCredential",i:[rs()]},jb:{name:"signInAnonymously",i:[]},Jb:{name:"signInAnonymouslyAndRetrieveData",i:[]},Bc:{name:"signInWithCredential",i:[rs()]},Cc:{name:"signInWithCustomToken",i:[Xu("token")]},Hb:{name:"signInAndRetrieveDataWithCustomToken",i:[Xu("token")]},Dc:{name:"signInWithEmailAndPassword",i:[Xu("email"),Xu("password")]},Ec:{name:"signInWithEmailLink",i:[Xu("email"),Xu("emailLink",!0)]},Ib:{name:"signInAndRetrieveDataWithEmailAndPassword",i:[Xu("email"),Xu("password")]},Fc:{name:"signInWithPhoneNumber",i:[Xu("phoneNumber"),os()]},Gc:{name:"signInWithPopup",i:[is()]},Hc:{name:"signInWithRedirect",i:[is()]},kb:{name:"signOut",i:[]},toJSON:{name:"toJSON",i:[Xu(null,!0)]},Oc:{name:"useDeviceLanguage",i:[]},Pc:{name:"verifyPasswordResetCode",i:[Xu("code")]}}),function(t,e){for(var n in e){var r=e[n].name;if(r!==n){var i=e[n].Rb;Object.defineProperty(t,r,{get:function(){return this[n]},set:function(t){Yu(r,[i],[t],!0),this[n]=t},enumerable:!0})}}}(wu.prototype,{lc:{name:"languageCode",Rb:as(Xu(),Zu(),"languageCode")}}),wu.Persistence=Sf,wu.Persistence.LOCAL="local",wu.Persistence.SESSION="session",wu.Persistence.NONE="none",us(Pa.prototype,{delete:{name:"delete",i:[]},ac:{name:"getIdTokenResult",i:[Qu()]},F:{name:"getIdToken",i:[Qu()]},getToken:{name:"getToken",i:[Qu()]},$a:{name:"linkAndRetrieveDataWithCredential",i:[rs()]},mc:{name:"linkWithCredential",i:[rs()]},nc:{name:"linkWithPhoneNumber",i:[Xu("phoneNumber"),os()]},oc:{name:"linkWithPopup",i:[is()]},pc:{name:"linkWithRedirect",i:[is()]},bb:{name:"reauthenticateAndRetrieveDataWithCredential",i:[rs()]},vc:{name:"reauthenticateWithCredential",i:[rs()]},wc:{name:"reauthenticateWithPhoneNumber",i:[Xu("phoneNumber"),os()]},xc:{name:"reauthenticateWithPopup",i:[is()]},yc:{name:"reauthenticateWithRedirect",i:[is()]},reload:{name:"reload",i:[]},fb:{name:"sendEmailVerification",i:[as($u("opt_actionCodeSettings",!0),Zu(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",i:[Xu(null,!0)]},Mc:{name:"unlink",i:[Xu("provider")]},mb:{name:"updateEmail",i:[Xu("email")]},nb:{name:"updatePassword",i:[Xu("password")]},Nc:{name:"updatePhoneNumber",i:[rs("phone")]},ob:{name:"updateProfile",i:[$u("profile")]}}),us(G.prototype,{ha:{name:"finally"},m:{name:"catch"},then:{name:"then"}}),us(ya.prototype,{confirm:{name:"confirm",i:[Xu("verificationCode")]}}),ss(cr,"credential",function(t,e){return new sr(t,e)},[Xu("email"),Xu("password")]),us(tr.prototype,{ta:{name:"addScope",i:[Xu("scope")]},Ca:{name:"setCustomParameters",i:[$u("customOAuthParameters")]}}),ss(tr,"credential",er,[as(Xu(),$u(),"token")]),ss(cr,"credentialWithLink",lr,[Xu("email"),Xu("emailLink")]),us(nr.prototype,{ta:{name:"addScope",i:[Xu("scope")]},Ca:{name:"setCustomParameters",i:[$u("customOAuthParameters")]}}),ss(nr,"credential",rr,[as(Xu(),$u(),"token")]),us(ir.prototype,{ta:{name:"addScope",i:[Xu("scope")]},Ca:{name:"setCustomParameters",i:[$u("customOAuthParameters")]}}),ss(ir,"credential",or,[as(Xu(),as($u(),Zu()),"idToken"),as(Xu(),Zu(),"accessToken",!0)]),us(ar.prototype,{Ca:{name:"setCustomParameters",i:[$u("customOAuthParameters")]}}),ss(ar,"credential",ur,[as(Xu(),$u(),"token"),Xu("secret",!0)]),us(Zn.prototype,{ta:{name:"addScope",i:[Xu("scope")]},credential:{name:"credential",i:[as(Xu(),Zu(),"idToken",!0),as(Xu(),Zu(),"accessToken",!0)]},Ca:{name:"setCustomParameters",i:[$u("customOAuthParameters")]}}),ss(dr,"credential",yr,[Xu("verificationId"),Xu("verificationCode")]),us(dr.prototype,{Sa:{name:"verifyPhoneNumber",i:[Xu("phoneNumber"),os()]}}),us(xn.prototype,{toJSON:{name:"toJSON",i:[Xu(null,!0)]}}),us(Er.prototype,{toJSON:{name:"toJSON",i:[Xu(null,!0)]}}),us(wr.prototype,{toJSON:{name:"toJSON",i:[Xu(null,!0)]}}),us(Ku.prototype,{clear:{name:"clear",i:[]},render:{name:"render",i:[]},verify:{name:"verify",i:[]}}),function(){if("undefined"==typeof hs||!hs.INTERNAL||!hs.INTERNAL.registerService)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={Auth:wu,Error:xn};ss(t,"EmailAuthProvider",cr,[]),ss(t,"FacebookAuthProvider",tr,[]),ss(t,"GithubAuthProvider",nr,[]),ss(t,"GoogleAuthProvider",ir,[]),ss(t,"TwitterAuthProvider",ar,[]),ss(t,"OAuthProvider",Zn,[Xu("providerId")]),ss(t,"PhoneAuthProvider",dr,[es()]),ss(t,"RecaptchaVerifier",Ku,[as(Xu(),ts(),"recaptchaContainer"),$u("recaptchaParameters",!0),ns()]),hs.INTERNAL.registerService("auth",function(t,e){return t=new wu(t),e({INTERNAL:{getUid:h(t.getUid,t),getToken:h(t.$b,t),addAuthTokenListener:h(t.Qb,t),removeAuthTokenListener:h(t.zc,t)}}),t},t,function(t,e){if("create"===t)try{e.auth()}catch(t){}}),hs.INTERNAL.extendNamespace({User:Pa})}()}).call("undefined"!=typeof t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})}).call(e,function(){return this}())},function(t,e,n){(function(r){"use strict";function i(t){return t&&"object"==typeof t&&"default"in t?t.default:t}function o(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(t){}e+="/"+i}return e}function a(t){var e={};t.startsWith("?")&&(t=t.substring(1));for(var n=0,r=t.split("&");n<r.length;n++){var i=r[n];if(0!==i.length){var o=i.split("=");2===o.length?e[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):B("Invalid query segment '"+i+"' in query '"+t+"'")}}return e}function u(t){y=t}function s(t){g=t}function c(t){_=t}function l(t,e){return K(t.name,e.name)}function f(t,e){return K(t,e)}function h(t,e){if(void 0===e&&(e=null),null===t)return se.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),w.assert(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t){var n=t;return new Qt(n,h(e))}if(t instanceof Array||!fe){var r=se.EMPTY_NODE,i=t;return w.forEach(i,function(t,e){if(w.contains(i,t)&&"."!==t.substring(0,1)){var n=h(e);!n.isLeafNode()&&n.isEmpty()||(r=r.updateImmediateChild(t,n))}}),r.updatePriority(h(e))}var o=[],a=!1,u=t;if(w.forEach(u,function(t,e){if("string"!=typeof t||"."!==t.substring(0,1)){var n=h(u[t]);n.isEmpty()||(a=a||!n.getPriority().isEmpty(),o.push(new Ht(t,n)))}}),0==o.length)return se.EMPTY_NODE;var s=oe(o,l,function(t){return t.name},f);if(a){var c=oe(o,Jt.getCompare());return new se(s,h(e),new ue({".priority":c},{".priority":Jt}))}return new se(s,h(e),ue.Default)}function p(e){var n=e.INTERNAL.registerService("database",function(t,e,n){return Sr.getInstance().databaseFromApp(t,n)},{Reference:_r,Query:Ee,Database:Or,enableLogging:L,INTERNAL:Dr,ServerValue:Hr,TEST_ACCESS:qr},null,!0);w.isNodeSdk()&&(t.exports=n)}Object.defineProperty(e,"__esModule",{value:!0});var d,y,v,g,_,m,b,w=n(90),E=n(242),T=n(159),S=i(n(53)),O=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),w.stringify(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:w.jsonEval(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),C=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return w.contains(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),k=function(t){try{if("undefined"!=typeof window&&"undefined"!=typeof window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new O(e)}}catch(t){}return new C},x=k("localStorage"),P=k("sessionStorage"),N=new E.Logger("@firebase/database"),A=function(){var t=1;return function(){return t++}}(),I=function(t){var e=w.stringToByteArray(t),n=new w.Sha1;n.update(e);var r=n.digest();return w.base64.encodeByteArray(r)},R=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++)n+=Array.isArray(t[r])||t[r]&&"object"==typeof t[r]&&"number"==typeof t[r].length?R.apply(null,t[r]):"object"==typeof t[r]?w.stringify(t[r]):t[r],n+=" ";return n},M=null,D=!0,L=function(t,e){w.assert(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(N.logLevel=E.LogLevel.VERBOSE,M=N.log.bind(N),e&&P.set("logging_enabled",!0)):"function"==typeof t?M=t:(M=null,P.remove("logging_enabled"))},j=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(D===!0&&(D=!1,null===M&&P.get("logging_enabled")===!0&&L(!0)),M){var n=R.apply(null,t);M(n)}},F=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];j.apply(void 0,[t].concat(e))}},U=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+R.apply(void 0,t);N.error(n)},V=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+R.apply(void 0,t);throw N.error(n),new Error(n)},B=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+R.apply(void 0,t);N.warn(n)},W=function(){"undefined"!=typeof window&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&B("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},q=function(t){return"number"==typeof t&&(t!=t||t==Number.POSITIVE_INFINITY||t==Number.NEGATIVE_INFINITY)},H=function(t){if(w.isNodeSdk()||"complete"===document.readyState)t();else{var e=!1,n=function(){return document.body?void(e||(e=!0,t())):void setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}},z="[MIN_NAME]",G="[MAX_NAME]",K=function(t,e){if(t===e)return 0;if(t===z||e===G)return-1;if(e===z||t===G)return 1;var n=it(t),r=it(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},Y=function(t,e){return t===e?0:t<e?-1:1},X=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+w.stringify(e))},Q=function(t){if("object"!=typeof t||null===t)return w.stringify(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",i=0;i<e.length;i++)0!==i&&(r+=","),r+=w.stringify(e[i]),r+=":",r+=Q(t[e[i]]);return r+="}"},$=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r},J=function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;++n)e(n,t[n]);else w.forEach(t,function(t,n){return e(n,t)})},Z=function(t){w.assert(!q(t),"Invalid JSON number");var e,n,r,i,o,a,u,s=11,c=52,l=(1<<s-1)-1;for(0===t?(n=0,r=0,e=1/t===-(1/0)?1:0):(e=t<0,t=Math.abs(t),t>=Math.pow(2,1-l)?(i=Math.min(Math.floor(Math.log(t)/Math.LN2),l),n=i+l,r=Math.round(t*Math.pow(2,c-i)-Math.pow(2,c))):(n=0,r=Math.round(t/Math.pow(2,1-l-c)))),a=[],o=c;o;o-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(o=s;o;o-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(e?1:0),a.reverse(),u=a.join("");var f="";for(o=0;o<64;o+=8){var h=parseInt(u.substr(o,8),2).toString(16);1===h.length&&(h="0"+h),f+=h}return f.toLowerCase()},tt=function(){return!("object"!=typeof window||!window.chrome||!window.chrome.extension||/^chrome/.test(window.location.href))},et=function(){return"object"==typeof Windows&&"object"==typeof Windows.UI},nt=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==t?n="Client doesn't have permission to access the desired data.":"unavailable"==t&&(n="The service is unavailable");var r=new Error(t+" at "+e.path.toString()+": "+n);return r.code=t.toUpperCase(),r},rt=new RegExp("^-?\\d{1,10}$"),it=function(t){if(rt.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},ot=function(t){try{t()}catch(t){setTimeout(function(){var e=t.stack||"";throw B("Exception was thrown by user callback.",e),t},Math.floor(0))}},at=function(){var t="object"==typeof window&&window.navigator&&window.navigator.userAgent||"";return t.search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ut=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},st=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return Object.defineProperty(t,"Empty",{get:function(){return new t("")},enumerable:!0,configurable:!0}),t.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},t.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},t.prototype.popFront=function(){var e=this.pieceNum_;return e<this.pieces_.length&&e++,new t(this.pieces_,e)},t.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t.prototype.toUrlEncodedString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+encodeURIComponent(String(this.pieces_[e])));return t||"/"},t.prototype.slice=function(t){return void 0===t&&(t=0),this.pieces_.slice(this.pieceNum_+t)},t.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var e=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)e.push(this.pieces_[n]);return new t(e,0)},t.prototype.child=function(e){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(e instanceof t)for(var r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else for(var i=e.split("/"),r=0;r<i.length;r++)i[r].length>0&&n.push(i[r]);return new t(n,0)},t.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},t.relativePath=function(e,n){var r=e.getFront(),i=n.getFront();if(null===r)return n;if(r===i)return t.relativePath(e.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+e+")")},t.comparePaths=function(t,e){for(var n=t.slice(),r=e.slice(),i=0;i<n.length&&i<r.length;i++){var o=K(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1},t.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var e=this.pieceNum_,n=t.pieceNum_;e<=this.pieces_.length;e++,n++)if(this.pieces_[e]!==t.pieces_[n])return!1;return!0},t.prototype.contains=function(t){var e=this.pieceNum_,n=t.pieceNum_;if(this.getLength()>t.getLength())return!1;for(;e<this.pieces_.length;){if(this.pieces_[e]!==t.pieces_[n])return!1;++e,++n}return!0},t}(),ct=function(){function t(t,e){this.errorPrefix_=e,this.parts_=t.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=w.stringLength(this.parts_[n]);this.checkValid_()}return Object.defineProperty(t,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!0,configurable:!0}),Object.defineProperty(t,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!0,configurable:!0}),t.prototype.push=function(t){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=w.stringLength(t),this.checkValid_()},t.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=w.stringLength(t),this.parts_.length>0&&(this.byteLength_-=1)},t.prototype.checkValid_=function(){if(this.byteLength_>t.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+t.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>t.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+t.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},t.prototype.toErrorString=function(){return 0==this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},t}(),lt="5",ft="v",ht="s",pt="r",dt="f",yt="firebaseio.com",vt="ls",gt="websocket",_t="long_polling",mt=function(){function t(t,e,n,r,i){void 0===i&&(i=""),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.persistenceKey=i,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=x.get("host:"+t)||this.host}return t.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()},t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},t.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&x.set("host:"+this.host,this.internalHost))},t.prototype.connectionURL=function(t,e){w.assert("string"==typeof t,"typeof type must == string"),w.assert("object"==typeof e,"typeof params must == object");var n;if(t===gt)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(t!==_t)throw new Error("Unknown connection type: "+t);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(e.ns=this.namespace);var r=[];return w.forEach(e,function(t,e){r.push(t+"="+e)}),n+r.join("&")},t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},t}(),bt=function(t){var e=wt(t),n=e.subdomain;"firebase"===e.domain&&V(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!=n||"localhost"===e.domain||V("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||W();var r="ws"===e.scheme||"wss"===e.scheme;return{repoInfo:new mt(e.host,e.secure,n,r),path:new st(e.pathString)}},wt=function(t){var e="",n="",r="",i="",u=!0,s="https",c=443;if("string"==typeof t){var l=t.indexOf("//");l>=0&&(s=t.substring(0,l-1),t=t.substring(l+2));var f=t.indexOf("/");f===-1&&(f=t.length);var h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(f,h)),f<h&&(i=o(t.substring(f,h)));var p=a(t.substring(Math.min(t.length,h)));l=e.indexOf(":"),l>=0?(u="https"===s||"wss"===s,c=parseInt(e.substring(l+1),10)):l=t.length;var d=e.split(".");3===d.length?(n=d[1],r=d[0].toLowerCase()):2===d.length?n=d[0]:"localhost"===d[0].slice(0,l).toLowerCase()&&(n="localhost"),""===r&&"ns"in p&&(r=p.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:u,scheme:s,pathString:i}},Et=/[\[\].#$\/\u0000-\u001F\u007F]/,Tt=/[\[\].#$\u0000-\u001F\u007F]/,St=10485760,Ot=function(t){return"string"==typeof t&&0!==t.length&&!Et.test(t)},Ct=function(t){return"string"==typeof t&&0!==t.length&&!Tt.test(t)},kt=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Ct(t)},xt=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!q(t)||t&&"object"==typeof t&&w.contains(t,".sv")},Pt=function(t,e,n,r,i){i&&void 0===n||Nt(w.errorPrefix(t,e,i),n,r)},Nt=function(t,e,n){var r=n instanceof st?new ct(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+r.toErrorString());if("function"==typeof e)throw new Error(t+"contains a function "+r.toErrorString()+" with contents = "+e.toString());if(q(e))throw new Error(t+"contains "+e.toString()+" "+r.toErrorString());if("string"==typeof e&&e.length>St/3&&w.stringLength(e)>St)throw new Error(t+"contains a string greater than "+St+" utf8 bytes "+r.toErrorString()+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){var i=!1,o=!1;if(w.forEach(e,function(e,n){if(".value"===e)i=!0;else if(".priority"!==e&&".sv"!==e&&(o=!0,!Ot(e)))throw new Error(t+" contains an invalid key ("+e+") "+r.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');r.push(e),Nt(t,n,r),r.pop()}),i&&o)throw new Error(t+' contains ".value" child '+r.toErrorString()+" in addition to actual children.")}},At=function(t,e){var n,r;for(n=0;n<e.length;n++){r=e[n];for(var i=r.slice(),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!Ot(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(st.comparePaths);var a=null;for(n=0;n<e.length;n++){if(r=e[n],null!==a&&a.contains(r))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}},It=function(t,e,n,r,i){if(!i||void 0!==n){var o=w.errorPrefix(t,e,i);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(o+" must be an object containing the children to replace.");var a=[];w.forEach(n,function(t,e){var n=new st(t);if(Nt(o,e,r.child(n)),".priority"===n.getBack()&&!xt(e))throw new Error(o+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(n)}),At(o,a)}},Rt=function(t,e,n,r){if(!r||void 0!==n){if(q(n))throw new Error(w.errorPrefix(t,e,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!xt(n))throw new Error(w.errorPrefix(t,e,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Mt=function(t,e,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(w.errorPrefix(t,e,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Dt=function(t,e,n,r){if(!(r&&void 0===n||Ot(n)))throw new Error(w.errorPrefix(t,e,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Lt=function(t,e,n,r){if(!(r&&void 0===n||Ct(n)))throw new Error(w.errorPrefix(t,e,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},jt=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Lt(t,e,n,r)},Ft=function(t,e){if(".info"===e.getFront())throw new Error(t+" failed = Can't modify data under /.info/")},Ut=function(t,e,n){var r=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!Ot(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!kt(r))throw new Error(w.errorPrefix(t,e,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Vt=function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(w.errorPrefix(t,e,r)+"must be a boolean.")},Bt=function(){function t(t,e){this.repo_=t,this.path_=e}return t.prototype.cancel=function(t){w.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),w.validateCallback("OnDisconnect.cancel",1,t,!0);var e=new w.Deferred;return this.repo_.onDisconnectCancel(this.path_,e.wrapCallback(t)),e.promise},t.prototype.remove=function(t){w.validateArgCount("OnDisconnect.remove",0,1,arguments.length),Ft("OnDisconnect.remove",this.path_),w.validateCallback("OnDisconnect.remove",1,t,!0);var e=new w.Deferred;return this.repo_.onDisconnectSet(this.path_,null,e.wrapCallback(t)),e.promise},t.prototype.set=function(t,e){w.validateArgCount("OnDisconnect.set",1,2,arguments.length),Ft("OnDisconnect.set",this.path_),Pt("OnDisconnect.set",1,t,this.path_,!1),w.validateCallback("OnDisconnect.set",2,e,!0);var n=new w.Deferred;return this.repo_.onDisconnectSet(this.path_,t,n.wrapCallback(e)),n.promise},t.prototype.setWithPriority=function(t,e,n){w.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),Ft("OnDisconnect.setWithPriority",this.path_),Pt("OnDisconnect.setWithPriority",1,t,this.path_,!1),Rt("OnDisconnect.setWithPriority",2,e,!1),w.validateCallback("OnDisconnect.setWithPriority",3,n,!0);var r=new w.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,t,e,r.wrapCallback(n)),r.promise},t.prototype.update=function(t,e){if(w.validateArgCount("OnDisconnect.update",1,2,arguments.length),Ft("OnDisconnect.update",this.path_),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,B("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}It("OnDisconnect.update",1,t,this.path_,!1),
w.validateCallback("OnDisconnect.update",2,e,!0);var i=new w.Deferred;return this.repo_.onDisconnectUpdate(this.path_,t,i.wrapCallback(e)),i.promise},t}(),Wt=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return w.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),qt=function(){var t="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",e=0,n=[];return function(r){var i=r===e;e=r;var o,a=new Array(8);for(o=7;o>=0;o--)a[o]=t.charAt(r%64),r=Math.floor(r/64);w.assert(0===r,"Cannot push at time == 0");var u=a.join("");if(i){for(o=11;o>=0&&63===n[o];o--)n[o]=0;n[o]++}else for(o=0;o<12;o++)n[o]=Math.floor(64*Math.random());for(o=0;o<12;o++)u+=t.charAt(n[o]);return w.assert(20===u.length,"nextPushId: Length should be 20."),u}}(),Ht=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),zt=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new Ht(z,t),r=new Ht(z,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return Ht.MIN},t}(),Gt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return T.__extends(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return d},set:function(t){d=t},enumerable:!0,configurable:!0}),e.prototype.compare=function(t,e){return K(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw w.assertionError("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return Ht.MIN},e.prototype.maxPost=function(){return new Ht(G,d)},e.prototype.makePost=function(t,e){return w.assert("string"==typeof t,"KeyIndex indexValue must always be a string."),new Ht(t,d)},e.prototype.toString=function(){return".key"},e}(zt),Kt=new Gt,Yt=function(t){return"number"==typeof t?"number:"+Z(t):"string:"+t},Xt=function(t){if(t.isLeafNode()){var e=t.val();w.assert("string"==typeof e||"number"==typeof e||"object"==typeof e&&w.contains(e,".sv"),"Priority must be a string or number.")}else w.assert(t===y||t.isEmpty(),"priority of unexpected type.");w.assert(t===y||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Qt=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,w.assert(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Xt(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return v},set:function(t){v=t},enumerable:!0,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return e.isEmpty()?this:".priority"===e.getFront()?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=e.getFront();return null===r?n:n.isEmpty()&&".priority"!==r?this:(w.assert(".priority"!==r||1===e.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(e.popFront(),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+Yt(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?Z(this.value_):this.value_,this.lazyHash_=I(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(w.assert(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),o=t.VALUE_TYPE_ORDER.indexOf(r);return w.assert(i>=0,"Unknown leaf type: "+n),w.assert(o>=0,"Unknown leaf type: "+r),i===o?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode()){var e=t;return this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}return!1},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}(),$t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return T.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?K(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return Ht.MIN},e.prototype.maxPost=function(){return new Ht(G,new Qt("[PRIORITY-POST]",_))},e.prototype.makePost=function(t,e){var n=g(t);return new Ht(e,new Qt("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(zt),Jt=new $t,Zt=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),te=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:ne.EMPTY_NODE,this.right=null!=o?o:ne.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r,i;return i=this,r=n(t,i.key),i=r<0?i.copy(null,null,null,i.left.insert(t,e,n),null):0===r?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,n)),i.fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return ne.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()},t.prototype.remove=function(t,e){var n,r;if(n=this,e(t,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return ne.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){var t;if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");if(t=this.left.check_(),t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),ee=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new te(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),ne=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,te.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,te.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(e=this.comparator_(t,n.key),0===e)return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(e=this.comparator_(t,n.key),0===e){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new Zt(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new Zt(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new Zt(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new Zt(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new ee,t}(),re=Math.log(2),ie=function(){function t(t){var e=function(t){return parseInt(Math.log(t)/re,10)},n=function(t){return parseInt(Array(t+1).join("1"),2)};this.count=e(t+1),this.current_=this.count-1;var r=n(this.count);this.bits_=t+1&r}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),oe=function(t,e,n,r){t.sort(e);var i=function(e,r){var o,a,u=r-e;if(0==u)return null;if(1==u)return o=t[e],a=n?n(o):o,new te(a,o.node,te.BLACK,null,null);var s=parseInt(u/2,10)+e,c=i(e,s),l=i(s+1,r);return o=t[s],a=n?n(o):o,new te(a,o.node,te.BLACK,c,l)},o=function(e){for(var r=null,o=null,a=t.length,u=function(e,r){var o=a-e,u=a;a-=e;var c=i(o+1,u),l=t[o],f=n?n(l):l;s(new te(f,l.node,r,null,c))},s=function(t){r?(r.left=t,r=t):(o=t,r=t)},c=0;c<e.count;++c){var l=e.nextBitIsOne(),f=Math.pow(2,e.count-(c+1));l?u(f,te.BLACK):(u(f,te.BLACK),u(f,te.RED))}return o},a=new ie(t.length),u=o(a);return new ne(r||e,u)},ae={},ue=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return w.assert(ae&&Jt,"ChildrenNode.ts has not been loaded"),m=m||new t({".priority":ae},{".priority":Jt})},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var e=w.safeGet(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e===ae?null:e},t.prototype.hasIndex=function(t){return w.contains(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){w.assert(e!==Kt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r=[],i=!1,o=n.getIterator(Ht.Wrap),a=o.getNext();a;)i=i||e.isDefinedOn(a.node),r.push(a),a=o.getNext();var u;u=i?oe(r,e.getCompare()):ae;var s=e.toString(),c=w.clone(this.indexSet_);c[s]=e;var l=w.clone(this.indexes_);return l[s]=u,new t(l,c)},t.prototype.addToIndexes=function(e,n){var r=this,i=w.map(this.indexes_,function(t,i){var o=w.safeGet(r.indexSet_,i);if(w.assert(o,"Missing index implementation for "+i),t===ae){if(o.isDefinedOn(e.node)){for(var a=[],u=n.getIterator(Ht.Wrap),s=u.getNext();s;)s.name!=e.name&&a.push(s),s=u.getNext();return a.push(e),oe(a,o.getCompare())}return ae}var c=n.get(e.name),l=t;return c&&(l=l.remove(new Ht(e.name,c))),l.insert(e,e.node)});return new t(i,this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){var r=w.map(this.indexes_,function(t){if(t===ae)return t;var r=n.get(e.name);return r?t.remove(new Ht(e.name,r)):t});return new t(r,this.indexSet_)},t}(),se=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Xt(this.priorityNode_),this.children_.isEmpty()&&w.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return b||(b=new t(new ne(f),null,ue.Default))},enumerable:!0,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||b},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?b:e},t.prototype.getChild=function(t){var e=t.getFront();return null===e?this:this.getImmediateChild(e).getChild(t.popFront())},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(w.assert(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r=new Ht(e,n),i=void 0,o=void 0,a=void 0;return n.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_)),a=i.isEmpty()?b:this.priorityNode_,new t(i,a,o)},t.prototype.updateChild=function(t,e){var n=t.getFront();if(null===n)return e;w.assert(".priority"!==t.getFront()||1===t.getLength(),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(t.popFront(),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Jt,function(a,u){n[a]=u.val(e),r++,o&&t.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1}),!e&&o&&i<2*r){var a=[];for(var u in n)a[u]=n[u];return a}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+Yt(this.getPriority().val())+":"),this.forEachChild(Jt,function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)}),this.lazyHash_=""===t?"":I(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Ht(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new Ht(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new Ht(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal(function(t){return e(t.name,t.node)}):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,function(t){return t});for(var r=this.children_.getIteratorFrom(t.name,Ht.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,function(t){return t});for(var r=this.children_.getReverseIteratorFrom(t.name,Ht.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===le?-1:0},t.prototype.withIndex=function(e){if(e===Kt||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===Kt||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(Jt),r=e.getIterator(Jt),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===Kt?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),ce=function(t){function e(){return t.call(this,new ne(f),se.EMPTY_NODE,ue.Default)||this}return T.__extends(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return se.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(se),le=new ce;Object.defineProperties(Ht,{MIN:{value:new Ht(z,se.EMPTY_NODE)},MAX:{value:new Ht(G,le)}}),Gt.__EMPTY_NODE=se.EMPTY_NODE,Qt.__childrenNodeConstructor=se,u(le),c(le);var fe=!0;s(h);var he,pe,de=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return T.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?K(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return Ht.MIN},e.prototype.maxPost=function(){return Ht.MAX},e.prototype.makePost=function(t,e){var n=h(t);return new Ht(e,n)},e.prototype.toString=function(){return".value"},e}(zt),ye=new de,ve=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,w.assert(!e.isEmpty()&&".priority"!==e.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return T.__extends(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?K(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=h(t),r=se.EMPTY_NODE.updateChild(this.indexPath_,n);return new Ht(e,r)},e.prototype.maxPost=function(){var t=se.EMPTY_NODE.updateChild(this.indexPath_,le);return new Ht(G,t)},e.prototype.toString=function(){return this.indexPath_.slice().join("/")},e}(zt),ge=function(){function t(t,e,n){this.node_=t,this.ref_=e,this.index_=n}return t.prototype.val=function(){return w.validateArgCount("DataSnapshot.val",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return w.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return w.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return w.validateArgCount("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){w.validateArgCount("DataSnapshot.child",0,1,arguments.length),e=String(e),Lt("DataSnapshot.child",1,e,!1);var n=new st(e),r=this.ref_.child(n);return new t(this.node_.getChild(n),r,Jt)},t.prototype.hasChild=function(t){w.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),Lt("DataSnapshot.hasChild",1,t,!1);var e=new st(t);return!this.node_.getChild(e).isEmpty()},t.prototype.getPriority=function(){return w.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;if(w.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),w.validateCallback("DataSnapshot.forEach",1,e,!1),this.node_.isLeafNode())return!1;var r=this.node_;return!!r.forEachChild(this.index_,function(r,i){return e(new t(i,n.ref_.child(r),Jt))})},t.prototype.hasChildren=function(){return w.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(t.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!0,configurable:!0}),t.prototype.numChildren=function(){return w.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return w.validateArgCount("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),t}(),_e=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.getRef();return"value"===this.eventType?t.path:t.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+w.stringify(this.snapshot.exportVal())},t}(),me=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),be=function(){function t(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new _e("value",this,new ge(t.snapshotNode,e.getRef(),n))},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){w.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callback_;return function(){r.call(e,t.snapshot)}},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new me(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},t.prototype.hasAnyCallback=function(){return null!==this.callback_},t}(),we=function(){function t(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,w.contains(this.callbacks_,e)},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new me(this,t,e):null},t.prototype.createEvent=function(t,e){w.assert(null!=t.childName,"Child events should have a childName.");var n=e.getRef().child(t.childName),r=e.getQueryParams().getIndex();return new _e(t.type,this,new ge(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){w.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callbacks_[t.eventType];return function(){r.call(e,t.snapshot,t.prevName)}},t.prototype.matches=function(e){if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var n=w.getCount(e.callbacks_),r=w.getCount(this.callbacks_);if(n===r){if(1===n){var i=w.getAnyKey(e.callbacks_),o=w.getAnyKey(this.callbacks_);return!(o!==i||e.callbacks_[i]&&this.callbacks_[o]&&e.callbacks_[i]!==this.callbacks_[o])}return w.every(this.callbacks_,function(t,n){return e.callbacks_[t]===n})}}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks_},t}(),Ee=function(){function t(t,e,n,r){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return w.assert(he,"Reference.ts has not been loaded"),he},set:function(t){he=t},enumerable:!0,configurable:!0}),t.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Kt){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(t.hasStart()){var o=t.getIndexStartName();if(o!=z)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){var a=t.getIndexEndName();if(a!=G)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(t.getIndex()===Jt){if(null!=e&&!xt(e)||null!=n&&!xt(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(w.assert(t.getIndex()instanceof ve||t.getIndex()===ye,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},t.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},t.prototype.validateNoPreviousOrderByCall_=function(t){if(this.orderByCalled_===!0)throw new Error(t+": You can't combine multiple orderBy calls.")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return w.validateArgCount("Query.ref",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,n,r,i){w.validateArgCount("Query.on",2,4,arguments.length),Mt("Query.on",1,e,!1),w.validateCallback("Query.on",2,n,!1);var o=t.getCancelAndContextArgs_("Query.on",r,i);if("value"===e)this.onValueEvent(n,o.cancel,o.context);else{var a={};a[e]=n,this.onChildEvent(a,o.cancel,o.context)}return n},t.prototype.onValueEvent=function(t,e,n){var r=new be(t,e||null,n||null);this.repo.addEventCallbackForQuery(this,r)},t.prototype.onChildEvent=function(t,e,n){var r=new we(t,e,n);this.repo.addEventCallbackForQuery(this,r)},t.prototype.off=function(t,e,n){w.validateArgCount("Query.off",0,3,arguments.length),Mt("Query.off",1,t,!0),w.validateCallback("Query.off",2,e,!0),w.validateContextObject("Query.off",3,n,!0);var r=null,i=null;if("value"===t){var o=e||null;r=new be(o,null,n||null)}else t&&(e&&(i={},i[t]=e),r=new we(i,null,n||null));this.repo.removeEventCallbackForQuery(this,r)},t.prototype.once=function(e,n,r,i){var o=this;w.validateArgCount("Query.once",1,4,arguments.length),Mt("Query.once",1,e,!1),w.validateCallback("Query.once",2,n,!0);var a=t.getCancelAndContextArgs_("Query.once",r,i),u=!0,s=new w.Deferred;s.promise.catch(function(){});var c=function(t){u&&(u=!1,o.off(e,c),n&&n.bind(a.context)(t),s.resolve(t))};return this.on(e,c,function(t){o.off(e,c),a.cancel&&a.cancel.bind(a.context)(t),s.reject(t)}),s.promise},t.prototype.limitToFirst=function(e){if(w.validateArgCount("Query.limitToFirst",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToFirst(e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if(w.validateArgCount("Query.limitToLast",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToLast(e),this.orderByCalled_)},t.prototype.orderByChild=function(e){if(w.validateArgCount("Query.orderByChild",1,1,arguments.length),"$key"===e)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');Lt("Query.orderByChild",1,e,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new st(e);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new ve(n),i=this.queryParams_.orderBy(r);
return t.validateQueryEndpoints_(i),new t(this.repo,this.path,i,!0)},t.prototype.orderByKey=function(){w.validateArgCount("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=this.queryParams_.orderBy(Kt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){w.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=this.queryParams_.orderBy(Jt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){w.validateArgCount("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=this.queryParams_.orderBy(ye);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,n){void 0===e&&(e=null),w.validateArgCount("Query.startAt",0,2,arguments.length),Pt("Query.startAt",1,e,this.path,!0),Dt("Query.startAt",2,n,!0);var r=this.queryParams_.startAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===e&&(e=null,n=null),new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endAt=function(e,n){void 0===e&&(e=null),w.validateArgCount("Query.endAt",0,2,arguments.length),Pt("Query.endAt",1,e,this.path,!0),Dt("Query.endAt",2,n,!0);var r=this.queryParams_.endAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.equalTo=function(t,e){if(w.validateArgCount("Query.equalTo",1,2,arguments.length),Pt("Query.equalTo",1,t,this.path,!1),Dt("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(t,e).endAt(t,e)},t.prototype.toString=function(){return w.validateArgCount("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},t.prototype.toJSON=function(){return w.validateArgCount("Query.toJSON",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},t.prototype.queryIdentifier=function(){var t=this.queryObject(),e=Q(t);return"{}"===e?"default":e},t.prototype.isEqual=function(e){if(w.validateArgCount("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}var r=this.repo===e.repo,i=this.path.equals(e.path),o=this.queryIdentifier()===e.queryIdentifier();return r&&i&&o},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:null,context:null};if(e&&n)r.cancel=e,w.validateCallback(t,3,r.cancel,!0),r.context=n,w.validateContextObject(t,4,r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error(w.errorPrefix(t,3,!0)+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),t}(),Te=function(){function t(){this.set={}}return t.prototype.add=function(t,e){this.set[t]=null===e||e},t.prototype.contains=function(t){return w.contains(this.set,t)},t.prototype.get=function(t){return this.contains(t)?this.set[t]:void 0},t.prototype.remove=function(t){delete this.set[t]},t.prototype.clear=function(){this.set={}},t.prototype.isEmpty=function(){return w.isEmpty(this.set)},t.prototype.count=function(){return w.getCount(this.set)},t.prototype.each=function(t){w.forEach(this.set,function(e,n){return t(e,n)})},t.prototype.keys=function(){var t=[];return w.forEach(this.set,function(e){t.push(e)}),t},t}(),Se=function(){function t(){this.value_=null,this.children_=null}return t.prototype.find=function(t){if(null!=this.value_)return this.value_.getChild(t);if(t.isEmpty()||null==this.children_)return null;var e=t.getFront();if(t=t.popFront(),this.children_.contains(e)){var n=this.children_.get(e);return n.find(t)}return null},t.prototype.remember=function(e,n){if(e.isEmpty())this.value_=n,this.children_=null;else if(null!==this.value_)this.value_=this.value_.updateChild(e,n);else{null==this.children_&&(this.children_=new Te);var r=e.getFront();this.children_.contains(r)||this.children_.add(r,new t);var i=this.children_.get(r);e=e.popFront(),i.remember(e,n)}},t.prototype.forget=function(t){if(t.isEmpty())return this.value_=null,this.children_=null,!0;if(null!==this.value_){if(this.value_.isLeafNode())return!1;var e=this.value_;this.value_=null;var n=this;return e.forEachChild(Jt,function(t,e){n.remember(new st(t),e)}),this.forget(t)}if(null!==this.children_){var r=t.getFront();if(t=t.popFront(),this.children_.contains(r)){var i=this.children_.get(r).forget(t);i&&this.children_.remove(r)}return!!this.children_.isEmpty()&&(this.children_=null,!0)}return!0},t.prototype.forEachTree=function(t,e){null!==this.value_?e(t,this.value_):this.forEachChild(function(n,r){var i=new st(t.toString()+"/"+n);r.forEachTree(i,e)})},t.prototype.forEachChild=function(t){null!==this.children_&&this.children_.each(function(e,n){t(e,n)})},t}(),Oe=function(t){return t=t||{},t.timestamp=t.timestamp||(new Date).getTime(),t},Ce=function(t,e){return t&&"object"==typeof t?(w.assert(".sv"in t,"Unexpected leaf node or priority contents"),e[t[".sv"]]):t},ke=function(t,e){var n=new Se;return t.forEachTree(new st(""),function(t,r){n.remember(t,xe(r,e))}),n},xe=function(t,e){var n,r=t.getPriority().val(),i=Ce(r,e);if(t.isLeafNode()){var o=t,a=Ce(o.getValue(),e);return a!==o.getValue()||i!==o.getPriority().val()?new Qt(a,h(i)):t}var u=t;return n=u,i!==u.getPriority().val()&&(n=n.updatePriority(new Qt(i))),u.forEachChild(Jt,function(t,r){var i=xe(r,e);i!==r&&(n=n.updateImmediateChild(t,i))}),n};!function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(pe||(pe={}));var Pe,Ne,Ae=function(){function t(t,e,n,r){this.fromUser=t,this.fromServer=e,this.queryId=n,this.tagged=r,w.assert(!r||e,"Tagged queries must be from server.")}return t.User=new t(!0,!1,null,!1),t.Server=new t(!1,!0,null,!1),t.forServerTaggedQuery=function(e){return new t(!1,!0,e,!0)},t}(),Ie=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=pe.ACK_USER_WRITE,this.source=Ae.User}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return w.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new st(e));return new t(st.Empty,n,this.revert)}return w.assert(this.path.getFront()===e,"operationForChild called for unrelated child."),new t(this.path.popFront(),this.affectedTree,this.revert)},t}(),Re=function(){return Pe||(Pe=new ne(Y)),Pe},Me=function(){function t(t,e){void 0===e&&(e=Re()),this.value=t,this.children=e}return t.fromObject=function(e){var n=t.Empty;return w.forEach(e,function(t,e){n=n.set(new st(t),e)}),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:st.Empty,value:this.value};if(t.isEmpty())return null;var n=t.getFront(),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(t.popFront(),e);if(null!=i){var o=new st(n).child(i.path);return{path:o,value:i.value}}return null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},t.prototype.subtree=function(e){if(e.isEmpty())return this;var n=e.getFront(),r=this.children.get(n);return null!==r?r.subtree(e.popFront()):t.Empty},t.prototype.set=function(e,n){if(e.isEmpty())return new t(n,this.children);var r=e.getFront(),i=this.children.get(r)||t.Empty,o=i.set(e.popFront(),n),a=this.children.insert(r,o);return new t(this.value,a)},t.prototype.remove=function(e){if(e.isEmpty())return this.children.isEmpty()?t.Empty:new t(null,this.children);var n=e.getFront(),r=this.children.get(n);if(r){var i=r.remove(e.popFront()),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?t.Empty:new t(this.value,o)}return this},t.prototype.get=function(t){if(t.isEmpty())return this.value;var e=t.getFront(),n=this.children.get(e);return n?n.get(t.popFront()):null},t.prototype.setTree=function(e,n){if(e.isEmpty())return n;var r=e.getFront(),i=this.children.get(r)||t.Empty,o=i.setTree(e.popFront(),n),a=void 0;return a=o.isEmpty()?this.children.remove(r):this.children.insert(r,o),new t(this.value,a)},t.prototype.fold=function(t){return this.fold_(st.Empty,t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal(function(r,i){n[r]=i.fold_(t.child(r),e)}),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,st.Empty,e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(t.isEmpty())return null;var i=t.getFront(),o=this.children.get(i);return o?o.findOnPath_(t.popFront(),e.child(i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,st.Empty,e)},t.prototype.foreachOnPath_=function(e,n,r){if(e.isEmpty())return this;this.value&&r(n,this.value);var i=e.getFront(),o=this.children.get(i);return o?o.foreachOnPath_(e.popFront(),n.child(i),r):t.Empty},t.prototype.foreach=function(t){this.foreach_(st.Empty,t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal(function(n,r){r.foreach_(t.child(n),e)}),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal(function(e,n){n.value&&t(e,n.value)})},t.Empty=new t(null),t}(),De=function(){function t(t,e){this.source=t,this.path=e,this.type=pe.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,st.Empty):new t(this.source,this.path.popFront())},t}(),Le=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=pe.OVERWRITE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,st.Empty,this.snap.getImmediateChild(e)):new t(this.source,this.path.popFront(),this.snap)},t}(),je=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=pe.MERGE}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){var n=this.children.subtree(new st(e));return n.isEmpty()?null:n.value?new Le(this.source,st.Empty,n.value):new t(this.source,st.Empty,n)}return w.assert(this.path.getFront()===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,this.path.popFront(),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),Fe=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(t.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var e=t.getFront();return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),Ue=function(){function t(t,e){this.eventCache_=t,this.serverCache_=e}return t.prototype.updateEventSnap=function(e,n,r){return new t(new Fe(e,n,r),this.serverCache_)},t.prototype.updateServerSnap=function(e,n,r){return new t(this.eventCache_,new Fe(e,n,r))},t.prototype.getEventCache=function(){return this.eventCache_},t.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},t.prototype.getServerCache=function(){return this.serverCache_},t.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},t.Empty=new t(new Fe(se.EMPTY_NODE,!1,!1),new Fe(se.EMPTY_NODE,!1,!1)),t}(),Ve=function(){function t(t,e,n,r,i){this.type=t,this.snapshotNode=e,this.childName=n,this.oldSnap=r,this.prevName=i}return t.valueChange=function(e){return new t(t.VALUE,e)},t.childAddedChange=function(e,n){return new t(t.CHILD_ADDED,n,e)},t.childRemovedChange=function(e,n){return new t(t.CHILD_REMOVED,n,e)},t.childChangedChange=function(e,n,r){return new t(t.CHILD_CHANGED,n,e,r)},t.childMovedChange=function(e,n){return new t(t.CHILD_MOVED,n,e)},t.CHILD_ADDED="child_added",t.CHILD_REMOVED="child_removed",t.CHILD_CHANGED="child_changed",t.CHILD_MOVED="child_moved",t.VALUE="value",t}(),Be=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,i,o){w.assert(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=t.getImmediateChild(e);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()==n.isEmpty()?t:(null!=o&&(n.isEmpty()?t.hasChild(e)?o.trackChildChange(Ve.childRemovedChange(e,a)):w.assert(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Ve.childAddedChange(e,n)):o.trackChildChange(Ve.childChangedChange(e,n,a))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(Jt,function(t,r){e.hasChild(t)||n.trackChildChange(Ve.childRemovedChange(t,r))}),e.isLeafNode()||e.forEachChild(Jt,function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(Ve.childChangedChange(e,r,i))}else n.trackChildChange(Ve.childAddedChange(e,r))})),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?se.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),We=function(){function t(){this.changeMap_={}}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;w.assert(e==Ve.CHILD_ADDED||e==Ve.CHILD_CHANGED||e==Ve.CHILD_REMOVED,"Only child changes supported for tracking"),w.assert(".priority"!==n,"Only non-priority child changes can be tracked.");var r=w.safeGet(this.changeMap_,n);if(r){var i=r.type;if(e==Ve.CHILD_ADDED&&i==Ve.CHILD_REMOVED)this.changeMap_[n]=Ve.childChangedChange(n,t.snapshotNode,r.snapshotNode);else if(e==Ve.CHILD_REMOVED&&i==Ve.CHILD_ADDED)delete this.changeMap_[n];else if(e==Ve.CHILD_REMOVED&&i==Ve.CHILD_CHANGED)this.changeMap_[n]=Ve.childRemovedChange(n,r.oldSnap);else if(e==Ve.CHILD_CHANGED&&i==Ve.CHILD_ADDED)this.changeMap_[n]=Ve.childAddedChange(n,t.snapshotNode);else{if(e!=Ve.CHILD_CHANGED||i!=Ve.CHILD_CHANGED)throw w.assertionError("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap_[n]=Ve.childChangedChange(n,t.snapshotNode,r.oldSnap)}}else this.changeMap_[n]=t},t.prototype.getChanges=function(){return w.getValues(this.changeMap_)},t}(),qe=function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}(),He=new qe,ze=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new Fe(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),i=this.writes_.calcIndexedSlice(r,e,1,n,t);return 0===i.length?null:i[0]},t}(),Ge=function(){function t(t,e){this.viewCache=t,this.changes=e}return t}(),Ke=function(){function t(t){this.filter_=t}return t.prototype.assertIndexed=function(t){w.assert(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),w.assert(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},t.prototype.applyOperation=function(e,n,r,i){var o,a,u=new We;if(n.type===pe.OVERWRITE){var s=n;s.source.fromUser?o=this.applyUserOverwrite_(e,s.path,s.snap,r,i,u):(w.assert(s.source.fromServer,"Unknown source."),a=s.source.tagged||e.getServerCache().isFiltered()&&!s.path.isEmpty(),o=this.applyServerOverwrite_(e,s.path,s.snap,r,i,a,u))}else if(n.type===pe.MERGE){var c=n;c.source.fromUser?o=this.applyUserMerge_(e,c.path,c.children,r,i,u):(w.assert(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.getServerCache().isFiltered(),o=this.applyServerMerge_(e,c.path,c.children,r,i,a,u))}else if(n.type===pe.ACK_USER_WRITE){var l=n;o=l.revert?this.revertUserWrite_(e,l.path,r,i,u):this.ackUserWrite_(e,l.path,l.affectedTree,r,i,u)}else{if(n.type!==pe.LISTEN_COMPLETE)throw w.assertionError("Unknown operation type: "+n.type);o=this.listenComplete_(e,n.path,r,u)}var f=u.getChanges();return t.maybeAddValueEvent_(e,o,f),new Ge(o,f)},t.maybeAddValueEvent_=function(t,e,n){var r=e.getEventCache();if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=t.getCompleteEventSnap();(n.length>0||!t.getEventCache().isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(Ve.valueChange(e.getCompleteEventSnap()))}},t.prototype.generateEventCacheAfterServerEvent_=function(t,e,n,r,i){var o=t.getEventCache();if(null!=n.shadowingWrite(e))return t;var a=void 0,u=void 0;if(e.isEmpty())if(w.assert(t.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),t.getServerCache().isFiltered()){var s=t.getCompleteServerSnap(),c=s instanceof se?s:se.EMPTY_NODE,l=n.calcCompleteEventChildren(c);a=this.filter_.updateFullNode(t.getEventCache().getNode(),l,i)}else{var f=n.calcCompleteEventCache(t.getCompleteServerSnap());a=this.filter_.updateFullNode(t.getEventCache().getNode(),f,i)}else{var h=e.getFront();if(".priority"==h){w.assert(1==e.getLength(),"Can't have a priority with additional path components");var p=o.getNode();u=t.getServerCache().getNode();var d=n.calcEventCacheAfterServerOverwrite(e,p,u);a=null!=d?this.filter_.updatePriority(p,d):o.getNode()}else{var y=e.popFront(),v=void 0;if(o.isCompleteForChild(h)){u=t.getServerCache().getNode();var g=n.calcEventCacheAfterServerOverwrite(e,o.getNode(),u);v=null!=g?o.getNode().getImmediateChild(h).updateChild(y,g):o.getNode().getImmediateChild(h)}else v=n.calcCompleteChild(h,t.getServerCache());a=null!=v?this.filter_.updateChild(o.getNode(),h,v,y,r,i):o.getNode()}}return t.updateEventSnap(a,o.isFullyInitialized()||e.isEmpty(),this.filter_.filtersNodes())},t.prototype.applyServerOverwrite_=function(t,e,n,r,i,o,a){var u,s=t.getServerCache(),c=o?this.filter_:this.filter_.getIndexedFilter();if(e.isEmpty())u=c.updateFullNode(s.getNode(),n,null);else if(c.filtersNodes()&&!s.isFiltered()){var l=s.getNode().updateChild(e,n);u=c.updateFullNode(s.getNode(),l,null)}else{var f=e.getFront();if(!s.isCompleteForPath(e)&&e.getLength()>1)return t;var h=e.popFront(),p=s.getNode().getImmediateChild(f),d=p.updateChild(h,n);u=".priority"==f?c.updatePriority(s.getNode(),d):c.updateChild(s.getNode(),f,d,h,He,null)}var y=t.updateServerSnap(u,s.isFullyInitialized()||e.isEmpty(),c.filtersNodes()),v=new ze(r,y,i);return this.generateEventCacheAfterServerEvent_(y,e,r,v,a)},t.prototype.applyUserOverwrite_=function(t,e,n,r,i,o){var a,u,s=t.getEventCache(),c=new ze(r,t,i);if(e.isEmpty())u=this.filter_.updateFullNode(t.getEventCache().getNode(),n,o),a=t.updateEventSnap(u,!0,this.filter_.filtersNodes());else{var l=e.getFront();if(".priority"===l)u=this.filter_.updatePriority(t.getEventCache().getNode(),n),a=t.updateEventSnap(u,s.isFullyInitialized(),s.isFiltered());else{var f=e.popFront(),h=s.getNode().getImmediateChild(l),p=void 0;if(f.isEmpty())p=n;else{var d=c.getCompleteChild(l);p=null!=d?".priority"===f.getBack()&&d.getChild(f.parent()).isEmpty()?d:d.updateChild(f,n):se.EMPTY_NODE}if(h.equals(p))a=t;else{var y=this.filter_.updateChild(s.getNode(),l,p,f,c,o);a=t.updateEventSnap(y,s.isFullyInitialized(),this.filter_.filtersNodes())}}}return a},t.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},t.prototype.applyUserMerge_=function(e,n,r,i,o,a){var u=this,s=e;return r.foreach(function(r,c){var l=n.child(r);t.cacheHasChild_(e,l.getFront())&&(s=u.applyUserOverwrite_(s,l,c,i,o,a))}),r.foreach(function(r,c){var l=n.child(r);t.cacheHasChild_(e,l.getFront())||(s=u.applyUserOverwrite_(s,l,c,i,o,a))}),s},t.prototype.applyMerge_=function(t,e){return e.foreach(function(e,n){t=t.updateChild(e,n)}),t},t.prototype.applyServerMerge_=function(t,e,n,r,i,o,a){var u=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var s,c=t;s=e.isEmpty()?n:Me.Empty.setTree(e,n);var l=t.getServerCache().getNode();return s.children.inorderTraversal(function(e,n){if(l.hasChild(e)){var s=t.getServerCache().getNode().getImmediateChild(e),f=u.applyMerge_(s,n);c=u.applyServerOverwrite_(c,new st(e),f,r,i,o,a)}}),s.children.inorderTraversal(function(e,n){var s=!t.getServerCache().isCompleteForChild(e)&&null==n.value;if(!l.hasChild(e)&&!s){var f=t.getServerCache().getNode().getImmediateChild(e),h=u.applyMerge_(f,n);c=u.applyServerOverwrite_(c,new st(e),h,r,i,o,a)}}),c},t.prototype.ackUserWrite_=function(t,e,n,r,i,o){if(null!=r.shadowingWrite(e))return t;var a=t.getServerCache().isFiltered(),u=t.getServerCache();if(null!=n.value){if(e.isEmpty()&&u.isFullyInitialized()||u.isCompleteForPath(e))return this.applyServerOverwrite_(t,e,u.getNode().getChild(e),r,i,a,o);if(e.isEmpty()){var s=Me.Empty;return u.getNode().forEachChild(Kt,function(t,e){s=s.set(new st(t),e)}),this.applyServerMerge_(t,e,s,r,i,a,o)}return t}var c=Me.Empty;return n.foreach(function(t,n){var r=e.child(t);u.isCompleteForPath(r)&&(c=c.set(t,u.getNode().getChild(r)))}),this.applyServerMerge_(t,e,c,r,i,a,o)},t.prototype.listenComplete_=function(t,e,n,r){var i=t.getServerCache(),o=t.updateServerSnap(i.getNode(),i.isFullyInitialized()||e.isEmpty(),i.isFiltered());return this.generateEventCacheAfterServerEvent_(o,e,n,He,r)},t.prototype.revertUserWrite_=function(t,e,n,r,i){var o;if(null!=n.shadowingWrite(e))return t;var a=new ze(n,t,r),u=t.getEventCache().getNode(),s=void 0;if(e.isEmpty()||".priority"===e.getFront()){var c=void 0;if(t.getServerCache().isFullyInitialized())c=n.calcCompleteEventCache(t.getCompleteServerSnap());else{var l=t.getServerCache().getNode();w.assert(l instanceof se,"serverChildren would be complete if leaf node"),c=n.calcCompleteEventChildren(l)}c=c,s=this.filter_.updateFullNode(u,c,i)}else{var f=e.getFront(),h=n.calcCompleteChild(f,t.getServerCache());null==h&&t.getServerCache().isCompleteForChild(f)&&(h=u.getImmediateChild(f)),s=null!=h?this.filter_.updateChild(u,f,h,e.popFront(),a,i):t.getEventCache().getNode().hasChild(f)?this.filter_.updateChild(u,f,se.EMPTY_NODE,e.popFront(),a,i):u,s.isEmpty()&&t.getServerCache().isFullyInitialized()&&(o=n.calcCompleteEventCache(t.getCompleteServerSnap()),o.isLeafNode()&&(s=this.filter_.updateFullNode(s,o,i)))}return o=t.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(st.Empty),t.updateEventSnap(s,o,this.filter_.filtersNodes())},t}(),Ye=function(){function t(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}return t.prototype.generateEventsForChanges=function(t,e,n){var r=this,i=[],o=[];return t.forEach(function(t){t.type===Ve.CHILD_CHANGED&&r.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push(Ve.childMovedChange(t.childName,t.snapshotNode))}),this.generateEventsForType_(i,Ve.CHILD_REMOVED,t,n,e),this.generateEventsForType_(i,Ve.CHILD_ADDED,t,n,e),this.generateEventsForType_(i,Ve.CHILD_MOVED,o,n,e),this.generateEventsForType_(i,Ve.CHILD_CHANGED,t,n,e),this.generateEventsForType_(i,Ve.VALUE,t,n,e),i},t.prototype.generateEventsForType_=function(t,e,n,r,i){var o=this,a=n.filter(function(t){return t.type===e});a.sort(this.compareChanges_.bind(this)),a.forEach(function(e){var n=o.materializeSingleChange_(e,i);r.forEach(function(r){r.respondsTo(e.type)&&t.push(r.createEvent(n,o.query_))})})},t.prototype.materializeSingleChange_=function(t,e){return"value"===t.type||"child_removed"===t.type?t:(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,this.index_),t)},t.prototype.compareChanges_=function(t,e){if(null==t.childName||null==e.childName)throw w.assertionError("Should only compare child_ events.");var n=new Ht(t.childName,t.snapshotNode),r=new Ht(e.childName,e.snapshotNode);return this.index_.compare(n,r)},t}(),Xe=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),r=new Be(n.getIndex()),i=n.getNodeFilter();this.processor_=new Ke(i);var o=e.getServerCache(),a=e.getEventCache(),u=r.updateFullNode(se.EMPTY_NODE,o.getNode(),null),s=i.updateFullNode(se.EMPTY_NODE,a.getNode(),null),c=new Fe(u,o.isFullyInitialized(),r.filtersNodes()),l=new Fe(s,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=new Ue(l,c),this.eventGenerator_=new Ye(this.query_)}return t.prototype.getQuery=function(){return this.query_},t.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},t.prototype.getCompleteServerCache=function(t){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!t.isEmpty()&&!e.getImmediateChild(t.getFront()).isEmpty())?e.getChild(t):null},t.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},t.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},t.prototype.removeEventRegistration=function(t,e){var n=[];if(e){w.assert(null==t,"A cancel should cancel all event registrations.");var r=this.query_.path;this.eventRegistrations_.forEach(function(t){e=e;var i=t.createCancelEvent(e,r);i&&n.push(i)})}if(t){for(var i=[],o=0;o<this.eventRegistrations_.length;++o){var a=this.eventRegistrations_[o];if(a.matches(t)){if(t.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(o+1));break}}else i.push(a)}this.eventRegistrations_=i}else this.eventRegistrations_=[];return n},t.prototype.applyOperation=function(t,e,n){t.type===pe.MERGE&&null!==t.source.queryId&&(w.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),w.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,i=this.processor_.applyOperation(r,t,e,n);return this.processor_.assertIndexed(i.viewCache),w.assert(i.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=i.viewCache,this.generateEventsForChanges_(i.changes,i.viewCache.getEventCache().getNode(),null)},t.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),n=[];if(!e.getNode().isLeafNode()){var r=e.getNode();r.forEachChild(Jt,function(t,e){n.push(Ve.childAddedChange(t,e))})}return e.isFullyInitialized()&&n.push(Ve.valueChange(e.getNode())),this.generateEventsForChanges_(n,e.getNode(),t)},t.prototype.generateEventsForChanges_=function(t,e,n){var r=n?[n]:this.eventRegistrations_;return this.eventGenerator_.generateEventsForChanges(t,e,r)},t}(),Qe=function(){function t(){this.views_={}}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return w.assert(Ne,"Reference.ts has not been loaded"),Ne},set:function(t){w.assert(!Ne,"__referenceConstructor has already been defined"),Ne=t},enumerable:!0,configurable:!0}),t.prototype.isEmpty=function(){return w.isEmpty(this.views_)},t.prototype.applyOperation=function(t,e,n){var r=t.source.queryId;if(null!==r){var i=w.safeGet(this.views_,r);return w.assert(null!=i,"SyncTree gave us an op for an invalid query."),i.applyOperation(t,e,n)}var o=[];return w.forEach(this.views_,function(r,i){o=o.concat(i.applyOperation(t,e,n))}),o},t.prototype.addEventRegistration=function(t,e,n,r,i){var o=t.queryIdentifier(),a=w.safeGet(this.views_,o);if(!a){var u=n.calcCompleteEventCache(i?r:null),s=!1;u?s=!0:r instanceof se?(u=n.calcCompleteEventChildren(r),s=!1):(u=se.EMPTY_NODE,s=!1);var c=new Ue(new Fe(u,s,!1),new Fe(r,i,!1));a=new Xe(t,c),this.views_[o]=a}return a.addEventRegistration(e),a.getInitialEvents(e)},t.prototype.removeEventRegistration=function(e,n,r){var i=e.queryIdentifier(),o=[],a=[],u=this.hasCompleteView();if("default"===i){var s=this;w.forEach(this.views_,function(t,e){a=a.concat(e.removeEventRegistration(n,r)),e.isEmpty()&&(delete s.views_[t],e.getQuery().getQueryParams().loadsAllData()||o.push(e.getQuery()))})}else{var c=w.safeGet(this.views_,i);c&&(a=a.concat(c.removeEventRegistration(n,r)),c.isEmpty()&&(delete this.views_[i],c.getQuery().getQueryParams().loadsAllData()||o.push(c.getQuery())))}return u&&!this.hasCompleteView()&&o.push(new t.__referenceConstructor(e.repo,e.path)),{removed:o,events:a}},t.prototype.getQueryViews=function(){var t=this,e=Object.keys(this.views_).map(function(e){return t.views_[e]});return e.filter(function(t){return!t.getQuery().getQueryParams().loadsAllData()})},t.prototype.getCompleteServerCache=function(t){var e=null;return w.forEach(this.views_,function(n,r){e=e||r.getCompleteServerCache(t)}),e},t.prototype.viewForQuery=function(t){var e=t.getQueryParams();if(e.loadsAllData())return this.getCompleteView();var n=t.queryIdentifier();return w.safeGet(this.views_,n)},t.prototype.viewExistsForQuery=function(t){return null!=this.viewForQuery(t)},t.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},t.prototype.getCompleteView=function(){var t=w.findValue(this.views_,function(t){return t.getQuery().getQueryParams().loadsAllData()});return t||null},t}(),$e=function(){function t(t){this.writeTree_=t}return t.prototype.addWrite=function(e,n){if(e.isEmpty())return new t(new Me(n));var r=this.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,a=st.relativePath(i,e);return o=o.updateChild(a,n),new t(this.writeTree_.set(i,o))}var u=new Me(n),s=this.writeTree_.setTree(e,u);return new t(s)},t.prototype.addWrites=function(t,e){var n=this;return w.forEach(e,function(e,r){n=n.addWrite(t.child(e),r)}),n},t.prototype.removeWrite=function(e){if(e.isEmpty())return t.Empty;var n=this.writeTree_.setTree(e,Me.Empty);return new t(n)},t.prototype.hasCompleteWrite=function(t){return null!=this.getCompleteNode(t)},t.prototype.getCompleteNode=function(t){var e=this.writeTree_.findRootMostValueAndPath(t);return null!=e?this.writeTree_.get(e.path).getChild(st.relativePath(e.path,t)):null},t.prototype.getCompleteChildren=function(){var t=[],e=this.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Jt,function(e,n){t.push(new Ht(e,n))}):this.writeTree_.children.inorderTraversal(function(e,n){null!=n.value&&t.push(new Ht(e,n.value))}),t},t.prototype.childCompoundWrite=function(e){if(e.isEmpty())return this;var n=this.getCompleteNode(e);return new t(null!=n?new Me(n):this.writeTree_.subtree(e))},t.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},t.prototype.apply=function(e){return t.applySubtreeWrite_(st.Empty,this.writeTree_,e)},t.Empty=new t(new Me(null)),t.applySubtreeWrite_=function(e,n,r){
if(null!=n.value)return r.updateChild(e,n.value);var i=null;return n.children.inorderTraversal(function(n,o){".priority"===n?(w.assert(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):r=t.applySubtreeWrite_(e.child(n),o,r)}),r.getChild(e).isEmpty()||null===i||(r=r.updateChild(e.child(".priority"),i)),r},t}(),Je=function(){function t(){this.visibleWrites_=$e.Empty,this.allWrites_=[],this.lastWriteId_=-1}return t.prototype.childWrites=function(t){return new Ze(t,this)},t.prototype.addOverwrite=function(t,e,n,r){w.assert(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:t,snap:e,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(t,e)),this.lastWriteId_=n},t.prototype.addMerge=function(t,e,n){w.assert(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:t,children:e,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(t,e),this.lastWriteId_=n},t.prototype.getWrite=function(t){for(var e=0;e<this.allWrites_.length;e++){var n=this.allWrites_[e];if(n.writeId===t)return n}return null},t.prototype.removeWrite=function(t){var e=this,n=this.allWrites_.findIndex(function(e){return e.writeId===t});w.assert(n>=0,"removeWrite called with nonexistent writeId.");var r=this.allWrites_[n];this.allWrites_.splice(n,1);for(var i=r.visible,o=!1,a=this.allWrites_.length-1;i&&a>=0;){var u=this.allWrites_[a];u.visible&&(a>=n&&this.recordContainsPath_(u,r.path)?i=!1:r.path.contains(u.path)&&(o=!0)),a--}if(i){if(o)return this.resetTree_(),!0;if(r.snap)this.visibleWrites_=this.visibleWrites_.removeWrite(r.path);else{var s=r.children;w.forEach(s,function(t){e.visibleWrites_=e.visibleWrites_.removeWrite(r.path.child(t))})}return!0}return!1},t.prototype.getCompleteWriteData=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcCompleteEventCache=function(e,n,r,i){if(r||i){var o=this.visibleWrites_.childCompoundWrite(e);if(!i&&o.isEmpty())return n;if(i||null!=n||o.hasCompleteWrite(st.Empty)){var a=function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(t.path.contains(e)||e.contains(t.path))},u=t.layerTree_(this.allWrites_,a,e),s=n||se.EMPTY_NODE;return u.apply(s)}return null}var c=this.visibleWrites_.getCompleteNode(e);if(null!=c)return c;var l=this.visibleWrites_.childCompoundWrite(e);if(l.isEmpty())return n;if(null!=n||l.hasCompleteWrite(st.Empty)){var s=n||se.EMPTY_NODE;return l.apply(s)}return null},t.prototype.calcCompleteEventChildren=function(t,e){var n=se.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(t);if(r)return r.isLeafNode()||r.forEachChild(Jt,function(t,e){n=n.updateImmediateChild(t,e)}),n;if(e){var i=this.visibleWrites_.childCompoundWrite(t);return e.forEachChild(Jt,function(t,e){var r=i.childCompoundWrite(new st(t)).apply(e);n=n.updateImmediateChild(t,r)}),i.getCompleteChildren().forEach(function(t){n=n.updateImmediateChild(t.name,t.node)}),n}var o=this.visibleWrites_.childCompoundWrite(t);return o.getCompleteChildren().forEach(function(t){n=n.updateImmediateChild(t.name,t.node)}),n},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n,r){w.assert(n||r,"Either existingEventSnap or existingServerSnap must exist");var i=t.child(e);if(this.visibleWrites_.hasCompleteWrite(i))return null;var o=this.visibleWrites_.childCompoundWrite(i);return o.isEmpty()?r.getChild(e):o.apply(r.getChild(e))},t.prototype.calcCompleteChild=function(t,e,n){var r=t.child(e),i=this.visibleWrites_.getCompleteNode(r);if(null!=i)return i;if(n.isCompleteForChild(e)){var o=this.visibleWrites_.childCompoundWrite(r);return o.apply(n.getNode().getImmediateChild(e))}return null},t.prototype.shadowingWrite=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcIndexedSlice=function(t,e,n,r,i,o){var a,u=this.visibleWrites_.childCompoundWrite(t),s=u.getCompleteNode(st.Empty);if(null!=s)a=s;else{if(null==e)return[];a=u.apply(e)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];for(var c=[],l=o.getCompare(),f=i?a.getReverseIteratorFrom(n,o):a.getIteratorFrom(n,o),h=f.getNext();h&&c.length<r;)0!==l(h,n)&&c.push(h),h=f.getNext();return c},t.prototype.recordContainsPath_=function(t,e){return t.snap?t.path.contains(e):!!w.findKey(t.children,function(n,r){return t.path.child(r).contains(e)})},t.prototype.resetTree_=function(){this.visibleWrites_=t.layerTree_(this.allWrites_,t.DefaultFilter_,st.Empty),this.allWrites_.length>0?this.lastWriteId_=this.allWrites_[this.allWrites_.length-1].writeId:this.lastWriteId_=-1},t.DefaultFilter_=function(t){return t.visible},t.layerTree_=function(t,e,n){for(var r=$e.Empty,i=0;i<t.length;++i){var o=t[i];if(e(o)){var a=o.path,u=void 0;if(o.snap)n.contains(a)?(u=st.relativePath(n,a),r=r.addWrite(u,o.snap)):a.contains(n)&&(u=st.relativePath(a,n),r=r.addWrite(st.Empty,o.snap.getChild(u)));else{if(!o.children)throw w.assertionError("WriteRecord should have .snap or .children");if(n.contains(a))u=st.relativePath(n,a),r=r.addWrites(u,o.children);else if(a.contains(n))if(u=st.relativePath(a,n),u.isEmpty())r=r.addWrites(st.Empty,o.children);else{var s=w.safeGet(o.children,u.getFront());if(s){var c=s.getChild(u.popFront());r=r.addWrite(st.Empty,c)}}}}}return r},t}(),Ze=function(){function t(t,e){this.treePath_=t,this.writeTree_=e}return t.prototype.calcCompleteEventCache=function(t,e,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,n)},t.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,e,n)},t.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(this.treePath_.child(t))},t.prototype.calcIndexedSlice=function(t,e,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,n,r,i)},t.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},t.prototype.child=function(e){return new t(this.treePath_.child(e),this.writeTree_)},t}(),tn=function(){function t(t){this.listenProvider_=t,this.syncPointTree_=Me.Empty,this.pendingWriteTree_=new Je,this.tagToQueryMap_={},this.queryToTagMap_={}}return t.prototype.applyUserOverwrite=function(t,e,n,r){return this.pendingWriteTree_.addOverwrite(t,e,n,r),r?this.applyOperationToSyncPoints_(new Le(Ae.User,t,e)):[]},t.prototype.applyUserMerge=function(t,e,n){this.pendingWriteTree_.addMerge(t,e,n);var r=Me.fromObject(e);return this.applyOperationToSyncPoints_(new je(Ae.User,t,r))},t.prototype.ackUserWrite=function(t,e){void 0===e&&(e=!1);var n=this.pendingWriteTree_.getWrite(t),r=this.pendingWriteTree_.removeWrite(t);if(r){var i=Me.Empty;return null!=n.snap?i=i.set(st.Empty,!0):w.forEach(n.children,function(t,e){i=i.set(new st(t),e)}),this.applyOperationToSyncPoints_(new Ie(n.path,i,e))}return[]},t.prototype.applyServerOverwrite=function(t,e){return this.applyOperationToSyncPoints_(new Le(Ae.Server,t,e))},t.prototype.applyServerMerge=function(t,e){var n=Me.fromObject(e);return this.applyOperationToSyncPoints_(new je(Ae.Server,t,n))},t.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new De(Ae.Server,t))},t.prototype.applyTaggedQueryOverwrite=function(e,n,r){var i=this.queryKeyForTag_(r);if(null!=i){var o=t.parseQueryKey_(i),a=o.path,u=o.queryId,s=st.relativePath(a,e),c=new Le(Ae.forServerTaggedQuery(u),s,n);return this.applyTaggedOperation_(a,c)}return[]},t.prototype.applyTaggedQueryMerge=function(e,n,r){var i=this.queryKeyForTag_(r);if(i){var o=t.parseQueryKey_(i),a=o.path,u=o.queryId,s=st.relativePath(a,e),c=Me.fromObject(n),l=new je(Ae.forServerTaggedQuery(u),s,c);return this.applyTaggedOperation_(a,l)}return[]},t.prototype.applyTaggedListenComplete=function(e,n){var r=this.queryKeyForTag_(n);if(r){var i=t.parseQueryKey_(r),o=i.path,a=i.queryId,u=st.relativePath(o,e),s=new De(Ae.forServerTaggedQuery(a),u);return this.applyTaggedOperation_(o,s)}return[]},t.prototype.addEventRegistration=function(e,n){var r=e.path,i=null,o=!1;this.syncPointTree_.foreachOnPath(r,function(t,e){var n=st.relativePath(t,r);i=i||e.getCompleteServerCache(n),o=o||e.hasCompleteView()});var a=this.syncPointTree_.get(r);a?(o=o||a.hasCompleteView(),i=i||a.getCompleteServerCache(st.Empty)):(a=new Qe,this.syncPointTree_=this.syncPointTree_.set(r,a));var u;if(null!=i)u=!0;else{u=!1,i=se.EMPTY_NODE;var s=this.syncPointTree_.subtree(r);s.foreachChild(function(t,e){var n=e.getCompleteServerCache(st.Empty);n&&(i=i.updateImmediateChild(t,n))})}var c=a.viewExistsForQuery(e);if(!c&&!e.getQueryParams().loadsAllData()){var l=t.makeQueryKey_(e);w.assert(!(l in this.queryToTagMap_),"View does not exist, but we have a tag");var f=t.getNextQueryTag_();this.queryToTagMap_[l]=f,this.tagToQueryMap_["_"+f]=l}var h=this.pendingWriteTree_.childWrites(r),p=a.addEventRegistration(e,n,h,i,u);if(!c&&!o){var d=a.viewForQuery(e);p=p.concat(this.setupListener_(e,d))}return p},t.prototype.removeEventRegistration=function(e,n,r){var i=this,o=e.path,a=this.syncPointTree_.get(o),u=[];if(a&&("default"===e.queryIdentifier()||a.viewExistsForQuery(e))){var s=a.removeEventRegistration(e,n,r);a.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var c=s.removed;u=s.events;var l=-1!==c.findIndex(function(t){return t.getQueryParams().loadsAllData()}),f=this.syncPointTree_.findOnPath(o,function(t,e){return e.hasCompleteView()});if(l&&!f){var h=this.syncPointTree_.subtree(o);if(!h.isEmpty())for(var p=this.collectDistinctViewsForSubTree_(h),d=0;d<p.length;++d){var y=p[d],v=y.getQuery(),g=this.createListenerForView_(y);this.listenProvider_.startListening(t.queryForListening_(v),this.tagForQuery_(v),g.hashFn,g.onComplete)}}if(!f&&c.length>0&&!r)if(l){var _=null;this.listenProvider_.stopListening(t.queryForListening_(e),_)}else c.forEach(function(e){var n=i.queryToTagMap_[t.makeQueryKey_(e)];i.listenProvider_.stopListening(t.queryForListening_(e),n)});this.removeTags_(c)}return u},t.prototype.calcCompleteEventCache=function(t,e){var n=!0,r=this.pendingWriteTree_,i=this.syncPointTree_.findOnPath(t,function(e,n){var r=st.relativePath(e,t),i=n.getCompleteServerCache(r);if(i)return i});return r.calcCompleteEventCache(t,i,e,n)},t.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold(function(t,e,n){if(e&&e.hasCompleteView()){var r=e.getCompleteView();return[r]}var i=[];return e&&(i=e.getQueryViews()),w.forEach(n,function(t,e){i=i.concat(e)}),i})},t.prototype.removeTags_=function(e){for(var n=0;n<e.length;++n){var r=e[n];if(!r.getQueryParams().loadsAllData()){var i=t.makeQueryKey_(r),o=this.queryToTagMap_[i];delete this.queryToTagMap_[i],delete this.tagToQueryMap_["_"+o]}}},t.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},t.prototype.setupListener_=function(e,n){var r=e.path,i=this.tagForQuery_(e),o=this.createListenerForView_(n),a=this.listenProvider_.startListening(t.queryForListening_(e),i,o.hashFn,o.onComplete),u=this.syncPointTree_.subtree(r);if(i)w.assert(!u.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var s=u.fold(function(t,e,n){if(!t.isEmpty()&&e&&e.hasCompleteView())return[e.getCompleteView().getQuery()];var r=[];return e&&(r=r.concat(e.getQueryViews().map(function(t){return t.getQuery()}))),w.forEach(n,function(t,e){r=r.concat(e)}),r}),c=0;c<s.length;++c){var l=s[c];this.listenProvider_.stopListening(t.queryForListening_(l),this.tagForQuery_(l))}return a},t.prototype.createListenerForView_=function(t){var e=this,n=t.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){var e=t.getServerCache()||se.EMPTY_NODE;return e.hash()},onComplete:function(t){if("ok"===t)return r?e.applyTaggedListenComplete(n.path,r):e.applyListenComplete(n.path);var i=nt(t,n);return e.removeEventRegistration(n,null,i)}}},t.makeQueryKey_=function(t){return t.path.toString()+"$"+t.queryIdentifier()},t.parseQueryKey_=function(t){var e=t.indexOf("$");return w.assert(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new st(t.substr(0,e))}},t.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap_["_"+t]},t.prototype.tagForQuery_=function(e){var n=t.makeQueryKey_(e);return w.safeGet(this.queryToTagMap_,n)},t.getNextQueryTag_=function(){return t.nextQueryTag_++},t.prototype.applyTaggedOperation_=function(t,e){var n=this.syncPointTree_.get(t);w.assert(n,"Missing sync point for query tag that we're tracking");var r=this.pendingWriteTree_.childWrites(t);return n.applyOperation(e,r,null)},t.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(st.Empty))},t.prototype.applyOperationHelper_=function(t,e,n,r){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,e,n,r);var i=e.get(st.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache(st.Empty));var o=[],a=t.path.getFront(),u=t.operationForChild(a),s=e.children.get(a);if(s&&u){var c=n?n.getImmediateChild(a):null,l=r.child(a);o=o.concat(this.applyOperationHelper_(u,s,c,l))}return i&&(o=o.concat(i.applyOperation(t,r,n))),o},t.prototype.applyOperationDescendantsHelper_=function(t,e,n,r){var i=this,o=e.get(st.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(st.Empty));var a=[];return e.children.inorderTraversal(function(e,o){var u=n?n.getImmediateChild(e):null,s=r.child(e),c=t.operationForChild(e);c&&(a=a.concat(i.applyOperationDescendantsHelper_(c,o,u,s)))}),o&&(a=a.concat(o.applyOperation(t,r,n))),a},t.nextQueryTag_=1,t}(),en=function(){function t(){this.rootNode_=se.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}(),nn=function(){function t(t){this.app_=t}return t.prototype.getToken=function(t){return this.app_.INTERNAL.getToken(t).then(null,function(t){return t&&"auth/token-not-initialized"===t.code?(j("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})},t.prototype.addTokenChangeListener=function(t){this.app_.INTERNAL.addAuthTokenListener(t)},t.prototype.removeTokenChangeListener=function(t){this.app_.INTERNAL.removeAuthTokenListener(t)},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.app_.options?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',B(t)},t}(),rn=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),w.contains(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return w.deepCopy(this.counters_)},t}(),on=function(){function t(){}return t.getCollection=function(t){var e=t.toString();return this.collections_[e]||(this.collections_[e]=new rn),this.collections_[e]},t.getOrCreateReporter=function(t,e){var n=t.toString();return this.reporters_[n]||(this.reporters_[n]=e()),this.reporters_[n]},t.collections_={},t.reporters_={},t}(),an=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=w.clone(t);return this.last_&&w.forEach(this.last_,function(t,n){e[t]=e[t]-n}),this.last_=t,e},t}(),un=1e4,sn=3e4,cn=3e5,ln=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new an(t);var n=un+(sn-un)*Math.random();ut(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.includeStat=function(t){this.statsToReport_[t]=!0},t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;w.forEach(e,function(e,i){i>0&&w.contains(t.statsToReport_,e)&&(n[e]=i,r=!0)}),r&&this.server_.reportStats(n),ut(this.reportStats_.bind(this),Math.floor(2*Math.random()*cn))},t}(),fn=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t.prototype.queueEvents=function(t){for(var e=null,n=0;n<t.length;n++){var r=t[n],i=r.getPath();null===e||i.equals(e.getPath())||(this.eventLists_.push(e),e=null),null===e&&(e=new hn(i)),e.add(r)}e&&this.eventLists_.push(e)},t.prototype.raiseEventsAtPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_(function(e){return e.equals(t)})},t.prototype.raiseEventsForChangedPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_(function(e){return e.contains(t)||t.contains(e)})},t.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var e=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];if(r){var i=r.getPath();t(i)?(this.eventLists_[n].raise(),this.eventLists_[n]=null):e=!1}}e&&(this.eventLists_=[]),this.recursionDepth_--},t}(),hn=function(){function t(t){this.path_=t,this.events_=[]}return t.prototype.add=function(t){this.events_.push(t)},t.prototype.raise=function(){for(var t=0;t<this.events_.length;t++){var e=this.events_[t];if(null!==e){this.events_[t]=null;var n=e.getEventRunner();M&&j("event: "+e.toString()),ot(n)}}},t.prototype.getPath=function(){return this.path_},t}(),pn=function(){function t(t){this.allowedEvents_=t,this.listeners_={},w.assert(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=this.listeners_[t].slice(),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){w.assert(this.allowedEvents_.find(function(e){return e===t}),"Unknown event: "+t)},t}(),dn=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!=typeof document&&"undefined"!=typeof document.addEventListener&&("undefined"!=typeof document.hidden?(n="visibilitychange",e="hidden"):"undefined"!=typeof document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):"undefined"!=typeof document.msHidden?(n="msvisibilitychange",e="msHidden"):"undefined"!=typeof document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))},!1),r}return T.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return w.assert("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(pn),yn=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||"undefined"==typeof window.addEventListener||w.isMobileCordova()||(window.addEventListener("online",function(){e.online_||(e.online_=!0,e.trigger("online",!0))},!1),window.addEventListener("offline",function(){e.online_&&(e.online_=!1,e.trigger("online",!1))},!1)),e}return T.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return w.assert("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(pn),vn=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&ot(function(){n.onMessage_(t[e])})},r=0;r<t.length;++r)e(r);return i.currentResponseNum===i.closeAfterResponse?(i.onClose&&(i.onClose(),i.onClose=null),"break"):void i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum];){var o=r();if("break"===o)break}},t}(),gn="start",_n="close",mn="pLPCommand",bn="pRTLPCB",wn="id",En="pw",Tn="ser",Sn="cb",On="seg",Cn="ts",kn="d",xn="disconn",Pn="dframe",Nn=1870,An=30,In=Nn-An,Rn=25e3,Mn=3e4,Dn=function(){function t(t,e,n,r){this.connId=t,this.repoInfo=e,this.transportSessionId=n,this.lastSessionId=r,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=F(t),this.stats_=on.getCollection(e),this.urlFn=function(t){return e.connectionURL(_t,t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new vn(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null},Math.floor(Mn)),H(function(){if(!n.isClosed_){n.scriptTagHolder=new Ln(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[0],i=t[1],o=t[2];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,r==gn)n.id=i,n.password=o;else{if(r!==_n)throw new Error("Unrecognized command received: "+r);i?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(i,function(){n.onClosed_()})):n.onClosed_()}},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[0],i=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(r,i)},function(){n.onClosed_()},n.urlFn);var t={};t[gn]="t",t[Tn]=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t[Sn]=n.scriptTagHolder.uniqueCallbackIdentifier),t[ft]=lt,n.transportSessionId&&(t[ht]=n.transportSessionId),n.lastSessionId&&(t[vt]=n.lastSessionId),!w.isNodeSdk()&&"undefined"!=typeof location&&location.href&&location.href.indexOf(yt)!==-1&&(t[pt]=dt);var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,function(){})}})},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return t.forceAllow_||!t.forceDisallow_&&"undefined"!=typeof document&&null!=document.createElement&&!tt()&&!et()&&!w.isNodeSdk()},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=w.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=w.base64Encode(e),r=$(n,In),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!w.isNodeSdk()){this.myDisconnFrame=document.createElement("iframe");var n={};n[Pn]="t",n[wn]=t,n[En]=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=w.stringify(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),Ln=function(){function t(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Te,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,w.isNodeSdk())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=A(),window[mn+this.uniqueCallbackIdentifier]=e,window[bn+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var o="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)){var a=document.domain;o='<script>document.domain="'+a+'";</script>'}var u="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(t){j("frame writing exception"),t.stack&&j(t.stack),j(t)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{var e=t.contentWindow.document;e||j("No IE domain setting required")}catch(e){var n=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var e=this;if(this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)},Math.floor(0))),w.isNodeSdk()&&this.myID){var n={};n[xn]="t",n[wn]=this.myID,n[En]=this.myPW;var r=this.urlFn(n);t.nodeRestRequest(r)}var i=this.onDisconnect;i&&(this.onDisconnect=null,i())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.count()<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t[wn]=this.myID,t[En]=this.myPW,t[Tn]=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;this.pendingSegs.length>0;){var i=this.pendingSegs[0];if(!(i.d.length+An+n.length<=Nn))break;var o=this.pendingSegs.shift();n=n+"&"+On+r+"="+o.seg+"&"+Cn+r+"="+o.ts+"&"+kn+r+"="+o.d,r++}return e+=n,this.addLongPollTag_(e,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e,1);var r=function(){n.outstandingRequests.remove(e),n.newRequest_()},i=setTimeout(r,Math.floor(Rn)),o=function(){clearTimeout(i),r()};this.addTag(t,o)},t.prototype.addTag=function(t,e){var n=this;w.isNodeSdk()?this.doNodeLongPoll(t,e):setTimeout(function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){j("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(t){}},Math.floor(1))},t}(),jn=16384,Fn=45e3,Un=null;"undefined"!=typeof MozWebSocket?Un=MozWebSocket:"undefined"!=typeof WebSocket&&(Un=WebSocket);var Vn=function(){function t(e,n,r,i){this.connId=e,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=F(this.connId),this.stats_=on.getCollection(n),this.connURL=t.connectionURL_(n,r,i)}return t.connectionURL_=function(t,e,n){var r={};return r[ft]=lt,!w.isNodeSdk()&&"undefined"!=typeof location&&location.href&&location.href.indexOf(yt)!==-1&&(r[pt]=dt),e&&(r[ht]=e),n&&(r[vt]=n),t.connectionURL(gt,r)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,x.set("previous_websocket_failure",!0);try{if(w.isNodeSdk()){var i=w.CONSTANTS.NODE_ADMIN?"AdminNode":"Node",o={headers:{"User-Agent":"Firebase/"+lt+"/"+S.SDK_VERSION+"/"+r.platform+"/"+i}},a=r.env,u=0==this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;u&&(o.proxy={origin:u}),this.mySock=new Un(this.connURL,[],o)}else this.mySock=new Un(this.connURL)}catch(t){this.log_("Error instantiating WebSocket.");var s=t.message||t.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==Un&&!t.forceDisallow_},t.previouslyFailed=function(){return x.isInMemoryStorage||x.get("previous_websocket_failure")===!0},t.prototype.markConnectionHealthy=function(){x.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length==this.totalFrames){var e=this.frames.join("");this.frames=null;var n=w.jsonEval(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if(w.assert(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=w.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=$(e,jn);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(Fn))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),Bn=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[Dn,Vn]},enumerable:!0,
configurable:!0}),t.prototype.initTransports_=function(e){var n=Vn&&Vn.isAvailable(),r=n&&!Vn.previouslyFailed();if(e.webSocketOnly&&(n||B("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Vn];else{var i=this.transports_=[];J(t.ALL_TRANSPORTS,function(t,e){e&&e.isAvailable()&&i.push(e)})}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),Wn=6e4,qn=5e3,Hn=10240,zn=102400,Gn="t",Kn="d",Yn="s",Xn="r",Qn="e",$n="o",Jn="a",Zn="n",tr="p",er="h",nr=function(){function t(t,e,n,r,i,o,a){this.id=t,this.repoInfo_=e,this.onMessage_=n,this.onReady_=r,this.onDisconnect_=i,this.onKill_=o,this.lastSessionId=a,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=F("c:"+this.id+":"),this.transportManager_=new Bn(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(n,r)},Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=ut(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>zn?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>Hn?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!=e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){var e={t:"d",d:t};this.sendData_(e)},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if(Gn in t){var e=t[Gn];e===Jn?this.upgradeIfSecondaryHealthy_():e===Xn?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):e===$n&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=X("t",t),n=X("d",t);if("c"==e)this.onSecondaryControl_(n);else{if("d"!=e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:tr,d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Jn,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Zn,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=X("t",t),n=X("d",t);"c"==e?this.onControl_(n):"d"==e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=X(Gn,t);if(Kn in t){var n=t[Kn];if(e===er)this.onHandshake_(n);else if(e===Zn){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else e===Yn?this.onConnectionShutdown_(n):e===Xn?this.onReset_(n):e===Qn?U("Server Error: "+n):e===$n?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):U("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(r),0==this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),lt!==n&&B("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),ut(function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())},Math.floor(Wn))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.updateHost(t),1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ut(function(){n.sendPingOnPrimaryIfNecessary_()},Math.floor(qn))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:tr,d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(x.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),rr=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),ir=1e3,or=3e5,ar=3e4,ur=1.3,sr=3e4,cr="server_kill",lr=3,fr=function(t){function e(n,r,i,o,a,u){var s=t.call(this)||this;if(s.repoInfo_=n,s.onDataUpdate_=r,s.onConnectStatus_=i,s.onServerInfoUpdate_=o,s.authTokenProvider_=a,s.authOverride_=u,s.id=e.nextPersistentConnectionId_++,s.log_=F("p:"+s.id+":"),s.interruptReasons_={},s.listens_={},s.outstandingPuts_=[],s.outstandingPutCount_=0,s.onDisconnectRequestQueue_=[],s.connected_=!1,s.reconnectDelay_=ir,s.maxReconnectDelay_=or,s.securityDebugCallback_=null,s.lastSessionId=null,s.establishConnectionTimer_=null,s.visible_=!1,s.requestCBHash_={},s.requestNumber_=0,s.realtime_=null,s.authToken_=null,s.forceTokenRefresh_=!1,s.invalidAuthTokenCount_=0,s.firstConnection_=!0,s.lastConnectionAttemptTime_=null,s.lastConnectionEstablishedTime_=null,u&&!w.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return s.scheduleConnect_(0),dn.getInstance().on("visible",s.onVisible_,s),n.host.indexOf("fblocal")===-1&&yn.getInstance().on("online",s.onOnline_,s),s}return T.__extends(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,i={r:r,a:t,b:e};this.log_(w.stringify(i)),w.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},e.prototype.listen=function(t,e,n,r){var i=t.queryIdentifier(),o=t.path.toString();this.log_("Listen called for "+o+" "+i),this.listens_[o]=this.listens_[o]||{},w.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),w.assert(!this.listens_[o][i],"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:e,query:t,tag:n};this.listens_[o][i]=a,this.connected_&&this.sendListen_(a)},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r.path.toString(),o=r.queryIdentifier();this.log_("Listen on "+i+" for "+o);var a={p:i},u="q";t.tag&&(a.q=r.queryObject(),a.t=t.tag),a.h=t.hashFn(),this.sendRequest(u,a,function(a){var u=a.d,s=a.s;e.warnOnListenWarnings_(u,r);var c=n.listens_[i]&&n.listens_[i][o];c===t&&(n.log_("listen response",a),"ok"!==s&&n.removeListen_(i,o),t.onComplete&&t.onComplete(s,u))})},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&w.contains(t,"w")){var n=w.safeGet(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e.getQueryParams().getIndex().toString()+'"',i=e.path.toString();B("Using an unspecified index. Your data will be downloaded and "+("filtered on the client. Consider adding "+r+" at ")+(i+" to your security rules for better performance."))}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){var e=t&&40===t.length;(e||w.isAdmin(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=ar)},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=w.isValidFormat(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,function(n){var r=n.s,i=n.d||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))})}},e.prototype.unlisten=function(t,e){var n=t.path.toString(),r=t.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),w.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query");var i=this.removeListen_(n,r);i&&this.connected_&&this.sendUnlisten_(n,r,t.queryObject(),e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t},o="n";r&&(i.q=n,i.t=r),this.sendRequest(o,i)},e.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,function(t){r&&setTimeout(function(){r(t.s,t.d)},Math.floor(0))})},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)})},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,function(t){var n=t.s;if("ok"!==n){var r=t.d;e.log_("reportStats","Error sending stats: "+r)}})}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+w.stringify(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):U("Unrecognized action received from server: "+w.stringify(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;w.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){e.establishConnectionTimer_=null,e.establishConnection_()},Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ir,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=ir,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){var t=(new Date).getTime()-this.lastConnectionEstablishedTime_;t>sr&&(this.reconnectDelay_=ir),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*ur)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+e.nextConnectionId_++,o=this,a=this.lastSessionId,u=!1,s=null,c=function(){s?s.close():(u=!0,r())},l=function(t){w.assert(s,"sendRequest call when we're not connected not allowed."),s.sendRequest(t)};this.realtime_={close:c,sendRequest:l};var f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(f).then(function(e){u?j("getToken() completed but was canceled"):(j("getToken() completed. Creating connection."),o.authToken_=e&&e.accessToken,s=new nr(i,o.repoInfo_,t,n,r,function(t){B(t+" ("+o.repoInfo_.toString()+")"),o.interrupt(cr)},a))}).then(null,function(t){o.log_("Failed to get token: "+t),u||(w.CONSTANTS.NODE_ADMIN&&B(t),c())})}},e.prototype.interrupt=function(t){j("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){j("Resuming connection for reason: "+t),delete this.interruptReasons_[t],w.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=ir,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map(function(t){return Q(t)}).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new st(t).toString();return void 0!==this.listens_[r]?(n=this.listens_[r][e],delete this.listens_[r][e],0===w.getCount(this.listens_[r])&&delete this.listens_[r]):n=void 0,n},e.prototype.onAuthRevoked_=function(t,e){j("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=lr&&(this.reconnectDelay_=ar,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t=this;this.tryAuth(),w.forEach(this.listens_,function(e,n){w.forEach(n,function(e,n){t.sendListen_(n)})});for(var e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){var n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}},e.prototype.sendConnectStats_=function(){var t={},e="js";w.CONSTANTS.NODE_ADMIN?e="admin_node":w.CONSTANTS.NODE_CLIENT&&(e="node"),t["sdk."+e+"."+S.SDK_VERSION.replace(/\./g,"-")]=1,w.isMobileCordova()?t["framework.cordova"]=1:w.isReactNative()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=yn.getInstance().currentlyOnline();return w.isEmpty(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(rr),hr=function(t){function e(e,n,r){var i=t.call(this)||this;return i.repoInfo_=e,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=F("p:rest:"),i.listens_={},i}return T.__extends(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(w.assert(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},e.prototype.listen=function(t,n,r,i){var o=this,a=t.path.toString();this.log_("Listen called for "+a+" "+t.queryIdentifier());var u=e.getListenId_(t,r),s={};this.listens_[u]=s;var c=t.getQueryParams().toRestQueryStringParameters();this.restRequest_(a+".json",c,function(t,e){var n=e;if(404===t&&(n=null,t=null),null===t&&o.onDataUpdate_(a,n,!1,r),w.safeGet(o.listens_,u)===s){var c;c=t?401==t?"permission_denied":"rest_error:"+t:"ok",i(c,null)}})},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then(function(i){var o=i&&i.accessToken;o&&(e.auth=o);var a=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?"+w.querystring(e);r.log_("Sending REST request for "+a);var u=new XMLHttpRequest;u.onreadystatechange=function(){if(n&&4===u.readyState){r.log_("REST Response for "+a+" received. status:",u.status,"response:",u.responseText);var t=null;if(u.status>=200&&u.status<300){try{t=w.jsonEval(u.responseText)}catch(t){B("Failed to parse JSON response for "+a+": "+u.responseText)}n(null,t)}else 401!==u.status&&404!==u.status&&B("Got unsuccessful REST response for "+a+" Status: "+u.status),n(u.status);n=null}},u.open("GET",a,!0),u.send()})},e}(rr),pr="repo_interrupt",dr=function(){function t(t,e,n){var r=this;this.repoInfo_=t,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new fn,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new Se,this.persistentConnection_=null;var i=new nn(n);if(this.stats_=on.getCollection(t),e||at())this.server_=new hr(this.repoInfo_,this.onDataUpdate_.bind(this),i),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var o=n.options.databaseAuthVariableOverride;if("undefined"!=typeof o&&null!==o){if("object"!=typeof o)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{w.stringify(o)}catch(t){throw new Error("Invalid authOverride provided: "+t)}}this.persistentConnection_=new fr(this.repoInfo_,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),i,o),this.server_=this.persistentConnection_}i.addTokenChangeListener(function(t){r.server_.refreshAuthToken(t)}),this.statsReporter_=on.getOrCreateReporter(t,function(){return new ln(r.stats_,r.server_)}),this.transactions_init_(),this.infoData_=new en,this.infoSyncTree_=new tn({startListening:function(t,e,n,i){var o=[],a=r.infoData_.getNode(t.path);return a.isEmpty()||(o=r.infoSyncTree_.applyServerOverwrite(t.path,a),setTimeout(function(){i("ok")},0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new tn({startListening:function(t,e,n,i){return r.server_.listen(t,n,e,function(e,n){var o=i(e,n);r.eventQueue_.raiseEventsForChangedPath(t.path,o)}),[]},stopListening:function(t,e){r.server_.unlisten(t,e)}})}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t.prototype.name=function(){return this.repoInfo_.namespace},t.prototype.serverTime=function(){var t=this.infoData_.getNode(new st(".info/serverTimeOffset")),e=t.val()||0;return(new Date).getTime()+e},t.prototype.generateServerValues=function(){return Oe({timestamp:this.serverTime()})},t.prototype.onDataUpdate_=function(t,e,n,r){this.dataUpdateCount++;var i=new st(t);e=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,e):e;var o=[];if(r)if(n){var a=w.map(e,function(t){return h(t)});o=this.serverSyncTree_.applyTaggedQueryMerge(i,a,r)}else{var u=h(e);o=this.serverSyncTree_.applyTaggedQueryOverwrite(i,u,r)}else if(n){var s=w.map(e,function(t){return h(t)});o=this.serverSyncTree_.applyServerMerge(i,s)}else{var c=h(e);o=this.serverSyncTree_.applyServerOverwrite(i,c)}var l=i;o.length>0&&(l=this.rerunTransactions_(i)),this.eventQueue_.raiseEventsForChangedPath(l,o)},t.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},t.prototype.onConnectStatus_=function(t){this.updateInfo_("connected",t),t===!1&&this.runOnDisconnectEvents_()},t.prototype.onServerInfoUpdate_=function(t){var e=this;J(t,function(t,n){e.updateInfo_(n,t)})},t.prototype.updateInfo_=function(t,e){var n=new st("/.info/"+t),r=h(e);this.infoData_.updateSnapshot(n,r);var i=this.infoSyncTree_.applyServerOverwrite(n,r);this.eventQueue_.raiseEventsForChangedPath(n,i)},t.prototype.getNextWriteId_=function(){return this.nextWriteId_++},t.prototype.setWithPriority=function(t,e,n,r){var i=this;this.log_("set",{path:t.toString(),value:e,priority:n});var o=this.generateServerValues(),a=h(e,n),u=xe(a,o),s=this.getNextWriteId_(),c=this.serverSyncTree_.applyUserOverwrite(t,u,s,!0);this.eventQueue_.queueEvents(c),this.server_.put(t.toString(),a.val(!0),function(e,n){var o="ok"===e;o||B("set at "+t+" failed: "+e);var a=i.serverSyncTree_.ackUserWrite(s,!o);i.eventQueue_.raiseEventsForChangedPath(t,a),i.callOnCompleteCallback(r,e,n)});var l=this.abortTransactions_(t);this.rerunTransactions_(l),this.eventQueue_.raiseEventsForChangedPath(l,[])},t.prototype.update=function(t,e,n){var r=this;this.log_("update",{path:t.toString(),value:e});var i=!0,o=this.generateServerValues(),a={};if(w.forEach(e,function(t,e){i=!1;var n=h(e);a[t]=xe(n,o)}),i)j("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var u=this.getNextWriteId_(),s=this.serverSyncTree_.applyUserMerge(t,a,u);this.eventQueue_.queueEvents(s),this.server_.merge(t.toString(),e,function(e,i){var o="ok"===e;o||B("update at "+t+" failed: "+e);var a=r.serverSyncTree_.ackUserWrite(u,!o),s=a.length>0?r.rerunTransactions_(t):t;r.eventQueue_.raiseEventsForChangedPath(s,a),r.callOnCompleteCallback(n,e,i)}),w.forEach(e,function(e){var n=r.abortTransactions_(t.child(e));r.rerunTransactions_(n)}),this.eventQueue_.raiseEventsForChangedPath(t,[])}},t.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_("onDisconnectEvents");var e=this.generateServerValues(),n=ke(this.onDisconnect_,e),r=[];n.forEachTree(st.Empty,function(e,n){r=r.concat(t.serverSyncTree_.applyServerOverwrite(e,n));var i=t.abortTransactions_(e);t.rerunTransactions_(i)}),this.onDisconnect_=new Se,this.eventQueue_.raiseEventsForChangedPath(st.Empty,r)},t.prototype.onDisconnectCancel=function(t,e){var n=this;this.server_.onDisconnectCancel(t.toString(),function(r,i){"ok"===r&&n.onDisconnect_.forget(t),n.callOnCompleteCallback(e,r,i)})},t.prototype.onDisconnectSet=function(t,e,n){var r=this,i=h(e);this.server_.onDisconnectPut(t.toString(),i.val(!0),function(e,o){"ok"===e&&r.onDisconnect_.remember(t,i),r.callOnCompleteCallback(n,e,o)})},t.prototype.onDisconnectSetWithPriority=function(t,e,n,r){var i=this,o=h(e,n);this.server_.onDisconnectPut(t.toString(),o.val(!0),function(e,n){"ok"===e&&i.onDisconnect_.remember(t,o),i.callOnCompleteCallback(r,e,n)})},t.prototype.onDisconnectUpdate=function(t,e,n){var r=this;return w.isEmpty(e)?(j("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok")):void this.server_.onDisconnectMerge(t.toString(),e,function(i,o){"ok"===i&&w.forEach(e,function(e,n){var i=h(n);r.onDisconnect_.remember(t.child(e),i)}),r.callOnCompleteCallback(n,i,o)})},t.prototype.addEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.addEventRegistration(t,e):this.serverSyncTree_.addEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.removeEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.removeEventRegistration(t,e):this.serverSyncTree_.removeEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt(pr)},t.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume(pr)},t.prototype.stats=function(t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var e;t?(this.statsListener_||(this.statsListener_=new an(this.stats_)),e=this.statsListener_.get()):e=this.stats_.get();var n=Object.keys(e).reduce(function(t,e){return Math.max(e.length,t)},0);w.forEach(e,function(t,e){for(var r=t.length;r<n+2;r++)t+=" ";console.log(t+e)})}},t.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},t.prototype.log_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),j.apply(void 0,[n].concat(t))},t.prototype.callOnCompleteCallback=function(t,e,n){t&&ot(function(){if("ok"==e)t(null);else{var r=(e||"error").toUpperCase(),i=r;n&&(i+=": "+n);var o=new Error(i);o.code=r,t(o)}})},Object.defineProperty(t.prototype,"database",{get:function(){return this.__database||(this.__database=new Or(this))},enumerable:!0,configurable:!0}),t}(),yr=function(){function t(e){this.indexedFilter_=new Be(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new Ht(e,n))||(n=se.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=se.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(se.EMPTY_NODE);var i=this;return e.forEachChild(Jt,function(t,e){i.matches(new Ht(t,e))||(r=r.updateImmediateChild(t,se.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),vr=function(){function t(t){this.rangedFilter_=new yr(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new Ht(e,n))||(n=se.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=se.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=se.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);
for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext(),u=void 0;if(u=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0,!u)break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=e.withIndex(this.index_),r=r.updatePriority(se.EMPTY_NODE);var s=void 0,c=void 0,l=void 0,i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();var f=this.index_.getCompare();l=function(t,e){return f(e,t)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),l=this.index_.getCompare();for(var o=0,h=!1;i.hasNext();){var a=i.getNext();!h&&l(s,a)<=0&&(h=!0);var u=h&&o<this.limit_&&l(a,c)<=0;u?o++:r=r.updateImmediateChild(a.name,se.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var o;if(this.reverse_){var a=this.index_.getCompare();o=function(t,e){return a(e,t)}}else o=this.index_.getCompare();var u=t;w.assert(u.numChildren()==this.limit_,"");var s=new Ht(e,n),c=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),l=this.rangedFilter_.matches(s);if(u.hasChild(e)){for(var f=u.getImmediateChild(e),h=r.getChildAfterChild(this.index_,c,this.reverse_);null!=h&&(h.name==e||u.hasChild(h.name));)h=r.getChildAfterChild(this.index_,h,this.reverse_);var p=null==h?1:o(h,s),d=l&&!n.isEmpty()&&p>=0;if(d)return null!=i&&i.trackChildChange(Ve.childChangedChange(e,n,f)),u.updateImmediateChild(e,n);null!=i&&i.trackChildChange(Ve.childRemovedChange(e,f));var y=u.updateImmediateChild(e,se.EMPTY_NODE),v=null!=h&&this.rangedFilter_.matches(h);return v?(null!=i&&i.trackChildChange(Ve.childAddedChange(h.name,h.node)),y.updateImmediateChild(h.name,h.node)):y}return n.isEmpty()?t:l&&o(c,s)>=0?(null!=i&&(i.trackChildChange(Ve.childRemovedChange(c.name,c.node)),i.trackChildChange(Ve.childAddedChange(e,n))),u.updateImmediateChild(e,n).updateImmediateChild(c.name,se.EMPTY_NODE)):t},t}(),gr=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Jt}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},t.prototype.getIndexStartValue=function(){return w.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return w.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:z},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return w.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return w.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:G},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return w.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.copy_=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t.prototype.limit=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="",e},t.prototype.limitToFirst=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},t.prototype.limitToLast=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},t.prototype.startAt=function(t,e){var n=this.copy_();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=""),n},t.prototype.endAt=function(t,e){var n=this.copy_();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=""),n},t.prototype.orderBy=function(t){var e=this.copy_();return e.index_=t,e},t.prototype.getQueryObject=function(){var e=t.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[e.LIMIT]=this.limit_;var r=this.viewFrom_;""===r&&(r=this.isViewFromLeft()?e.VIEW_FROM_LEFT:e.VIEW_FROM_RIGHT),n[e.VIEW_FROM]=r}return this.index_!==Jt&&(n[e.INDEX]=this.index_.toString()),n},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_==Jt},t.prototype.getNodeFilter=function(){return this.loadsAllData()?new Be(this.getIndex()):this.hasLimit()?new vr(this):new yr(this)},t.prototype.toRestQueryStringParameters=function(){var e=t.REST_QUERY_CONSTANTS_,n={};if(this.isDefault())return n;var r;return this.index_===Jt?r=e.PRIORITY_INDEX:this.index_===ye?r=e.VALUE_INDEX:this.index_===Kt?r=e.KEY_INDEX:(w.assert(this.index_ instanceof ve,"Unrecognized index type!"),r=this.index_.toString()),n[e.ORDER_BY]=w.stringify(r),this.startSet_&&(n[e.START_AT]=w.stringify(this.indexStartValue_),this.startNameSet_&&(n[e.START_AT]+=","+w.stringify(this.indexStartName_))),this.endSet_&&(n[e.END_AT]=w.stringify(this.indexEndValue_),this.endNameSet_&&(n[e.END_AT]+=","+w.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?n[e.LIMIT_TO_FIRST]=this.limit_:n[e.LIMIT_TO_LAST]=this.limit_),n},t.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},t.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},t.DEFAULT=new t,t}(),_r=function(t){function e(e,n){var r=this;if(!(e instanceof dr))throw new Error("new Reference() no longer supported - use app.database().");return r=t.call(this,e,n,gr.DEFAULT,!1)||this}return T.__extends(e,t),e.prototype.getKey=function(){return w.validateArgCount("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},e.prototype.child=function(t){return w.validateArgCount("Reference.child",1,1,arguments.length),"number"==typeof t?t=String(t):t instanceof st||(null===this.path.getFront()?jt("Reference.child",1,t,!1):Lt("Reference.child",1,t,!1)),new e(this.repo,this.path.child(t))},e.prototype.getParent=function(){w.validateArgCount("Reference.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new e(this.repo,t)},e.prototype.getRoot=function(){w.validateArgCount("Reference.root",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},e.prototype.databaseProp=function(){return this.repo.database},e.prototype.set=function(t,e){w.validateArgCount("Reference.set",1,2,arguments.length),Ft("Reference.set",this.path),Pt("Reference.set",1,t,this.path,!1),w.validateCallback("Reference.set",2,e,!0);var n=new w.Deferred;return this.repo.setWithPriority(this.path,t,null,n.wrapCallback(e)),n.promise},e.prototype.update=function(t,e){if(w.validateArgCount("Reference.update",1,2,arguments.length),Ft("Reference.update",this.path),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,B("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}It("Reference.update",1,t,this.path,!1),w.validateCallback("Reference.update",2,e,!0);var i=new w.Deferred;return this.repo.update(this.path,t,i.wrapCallback(e)),i.promise},e.prototype.setWithPriority=function(t,e,n){if(w.validateArgCount("Reference.setWithPriority",2,3,arguments.length),Ft("Reference.setWithPriority",this.path),Pt("Reference.setWithPriority",1,t,this.path,!1),Rt("Reference.setWithPriority",2,e,!1),w.validateCallback("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new w.Deferred;return this.repo.setWithPriority(this.path,t,e,r.wrapCallback(n)),r.promise},e.prototype.remove=function(t){return w.validateArgCount("Reference.remove",0,1,arguments.length),Ft("Reference.remove",this.path),w.validateCallback("Reference.remove",1,t,!0),this.set(null,t)},e.prototype.transaction=function(t,e,n){if(w.validateArgCount("Reference.transaction",1,3,arguments.length),Ft("Reference.transaction",this.path),w.validateCallback("Reference.transaction",1,t,!1),w.validateCallback("Reference.transaction",2,e,!0),Vt("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new w.Deferred;"function"==typeof e&&r.promise.catch(function(){});var i=function(t,n,i){t?r.reject(t):r.resolve(new Wt(n,i)),"function"==typeof e&&e(t,n,i)};return this.repo.startTransaction(this.path,t,i,n),r.promise},e.prototype.setPriority=function(t,e){w.validateArgCount("Reference.setPriority",1,2,arguments.length),Ft("Reference.setPriority",this.path),Rt("Reference.setPriority",1,t,!1),w.validateCallback("Reference.setPriority",2,e,!0);var n=new w.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),t,null,n.wrapCallback(e)),n.promise},e.prototype.push=function(t,e){w.validateArgCount("Reference.push",0,2,arguments.length),Ft("Reference.push",this.path),Pt("Reference.push",1,t,this.path,!0),w.validateCallback("Reference.push",2,e,!0);var n,r=this.repo.serverTime(),i=qt(r),o=this.child(i),a=this.child(i);return n=null!=t?o.set(t,e).then(function(){return a}):Promise.resolve(a),o.then=n.then.bind(n),o.catch=n.then.bind(n,void 0),"function"==typeof e&&n.catch(function(){}),o},e.prototype.onDisconnect=function(){return Ft("Reference.onDisconnect",this.path),new Bt(this.repo,this.path)},Object.defineProperty(e.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!0,configurable:!0}),e}(Ee);Ee.__referenceConstructor=_r,Qe.__referenceConstructor=_r;var mr,br=function(){function t(){this.children={},this.childCount=0,this.value=null}return t}(),wr=function(){function t(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n=new br),this.name_=t,this.parent_=e,this.node_=n}return t.prototype.subTree=function(e){for(var n,r=e instanceof st?e:new st(e),i=this;null!==(n=r.getFront());){var o=w.safeGet(i.node_.children,n)||new br;i=new t(n,i,o),r=r.popFront()}return i},t.prototype.getValue=function(){return this.node_.value},t.prototype.setValue=function(t){w.assert("undefined"!=typeof t,"Cannot set value to undefined"),this.node_.value=t,this.updateParents_()},t.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},t.prototype.hasChildren=function(){return this.node_.childCount>0},t.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},t.prototype.forEachChild=function(e){var n=this;w.forEach(this.node_.children,function(r,i){e(new t(r,n,i))})},t.prototype.forEachDescendant=function(t,e,n){e&&!n&&t(this),this.forEachChild(function(e){e.forEachDescendant(t,!0,n)}),e&&n&&t(this)},t.prototype.forEachAncestor=function(t,e){for(var n=e?this:this.parent();null!==n;){if(t(n))return!0;n=n.parent()}return!1},t.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild(function(e){null!==e.getValue()?t(e):e.forEachImmediateDescendantWithValue(t)})},t.prototype.path=function(){return new st(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},t.prototype.name=function(){return this.name_},t.prototype.parent=function(){return this.parent_},t.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},t.prototype.updateChild_=function(t,e){var n=e.isEmpty(),r=w.contains(this.node_.children,t);n&&r?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[t]=e.node_,this.node_.childCount++,this.updateParents_())},t}();!function(t){t[t.RUN=0]="RUN",t[t.SENT=1]="SENT",t[t.COMPLETED=2]="COMPLETED",t[t.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",t[t.NEEDS_ABORT=4]="NEEDS_ABORT"}(mr||(mr={})),dr.MAX_TRANSACTION_RETRIES_=25,dr.prototype.transactions_init_=function(){this.transactionQueueTree_=new wr},dr.prototype.startTransaction=function(t,e,n,r){this.log_("transaction on "+t);var i=function(){},o=new _r(this,t);o.on("value",i);var a=function(){o.off("value",i)},u={path:t,update:e,onComplete:n,status:null,order:A(),applyLocally:r,retryCount:0,unwatcher:a,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},s=this.getLatestState_(t);u.currentInputSnapshot=s;var c=u.update(s.val());if(void 0===c){if(u.unwatcher(),u.currentOutputSnapshotRaw=null,u.currentOutputSnapshotResolved=null,u.onComplete){var l=new ge(u.currentInputSnapshot,new _r(this,u.path),Jt);u.onComplete(null,!1,l)}}else{Nt("transaction failed: Data returned ",c,u.path),u.status=mr.RUN;var f=this.transactionQueueTree_.subTree(t),p=f.getValue()||[];p.push(u),f.setValue(p);var d=void 0;if("object"==typeof c&&null!==c&&w.contains(c,".priority"))d=w.safeGet(c,".priority"),w.assert(xt(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else{var y=this.serverSyncTree_.calcCompleteEventCache(t)||se.EMPTY_NODE;d=y.getPriority().val()}d=d;var v=this.generateServerValues(),g=h(c,d),_=xe(g,v);u.currentOutputSnapshotRaw=g,u.currentOutputSnapshotResolved=_,u.currentWriteId=this.getNextWriteId_();var m=this.serverSyncTree_.applyUserOverwrite(t,_,u.currentWriteId,u.applyLocally);this.eventQueue_.raiseEventsForChangedPath(t,m),this.sendReadyTransactions_()}},dr.prototype.getLatestState_=function(t,e){return this.serverSyncTree_.calcCompleteEventCache(t,e)||se.EMPTY_NODE},dr.prototype.sendReadyTransactions_=function(t){var e=this;if(void 0===t&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()){var n=this.buildTransactionQueue_(t);w.assert(n.length>0,"Sending zero length transaction queue");var r=n.every(function(t){return t.status===mr.RUN});r&&this.sendTransactionQueue_(t.path(),n)}else t.hasChildren()&&t.forEachChild(function(t){e.sendReadyTransactions_(t)})},dr.prototype.sendTransactionQueue_=function(t,e){for(var n=this,r=e.map(function(t){return t.currentWriteId}),i=this.getLatestState_(t,r),o=i,a=i.hash(),u=0;u<e.length;u++){var s=e[u];w.assert(s.status===mr.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),s.status=mr.SENT,s.retryCount++;var c=st.relativePath(t,s.path);o=o.updateChild(c,s.currentOutputSnapshotRaw)}var l=o.val(!0),f=t;this.server_.put(f.toString(),l,function(r){n.log_("transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=0;a<e.length;a++){if(e[a].status=mr.COMPLETED,i=i.concat(n.serverSyncTree_.ackUserWrite(e[a].currentWriteId)),e[a].onComplete){var u=e[a].currentOutputSnapshotResolved,s=new _r(n,e[a].path),c=new ge(u,s,Jt);o.push(e[a].onComplete.bind(null,null,!0,c))}e[a].unwatcher()}n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(t)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(t,i);for(var a=0;a<o.length;a++)ot(o[a])}else{if("datastale"===r)for(var a=0;a<e.length;a++)e[a].status===mr.SENT_NEEDS_ABORT?e[a].status=mr.NEEDS_ABORT:e[a].status=mr.RUN;else{B("transaction at "+f.toString()+" failed: "+r);for(var a=0;a<e.length;a++)e[a].status=mr.NEEDS_ABORT,e[a].abortReason=r}n.rerunTransactions_(t)}},a)},dr.prototype.rerunTransactions_=function(t){var e=this.getAncestorTransactionNode_(t),n=e.path(),r=this.buildTransactionQueue_(e);return this.rerunTransactionQueue_(r,n),n},dr.prototype.rerunTransactionQueue_=function(t,e){if(0!==t.length){for(var n=[],r=[],i=t.filter(function(t){return t.status===mr.RUN}),o=i.map(function(t){return t.currentWriteId}),a=0;a<t.length;a++){var u=t[a],s=st.relativePath(e,u.path),c=!1,l=void 0;if(w.assert(null!==s,"rerunTransactionsUnderNode_: relativePath should not be null."),u.status===mr.NEEDS_ABORT)c=!0,l=u.abortReason,r=r.concat(this.serverSyncTree_.ackUserWrite(u.currentWriteId,!0));else if(u.status===mr.RUN)if(u.retryCount>=dr.MAX_TRANSACTION_RETRIES_)c=!0,l="maxretry",r=r.concat(this.serverSyncTree_.ackUserWrite(u.currentWriteId,!0));else{var f=this.getLatestState_(u.path,o);u.currentInputSnapshot=f;var p=t[a].update(f.val());if(void 0!==p){Nt("transaction failed: Data returned ",p,u.path);var d=h(p),y="object"==typeof p&&null!=p&&w.contains(p,".priority");y||(d=d.updatePriority(f.getPriority()));var v=u.currentWriteId,g=this.generateServerValues(),_=xe(d,g);u.currentOutputSnapshotRaw=d,u.currentOutputSnapshotResolved=_,u.currentWriteId=this.getNextWriteId_(),o.splice(o.indexOf(v),1),r=r.concat(this.serverSyncTree_.applyUserOverwrite(u.path,_,u.currentWriteId,u.applyLocally)),r=r.concat(this.serverSyncTree_.ackUserWrite(v,!0))}else c=!0,l="nodata",r=r.concat(this.serverSyncTree_.ackUserWrite(u.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(e,r),r=[],c&&(t[a].status=mr.COMPLETED,function(t){setTimeout(t,Math.floor(0))}(t[a].unwatcher),t[a].onComplete))if("nodata"===l){var m=new _r(this,t[a].path),b=t[a].currentInputSnapshot,E=new ge(b,m,Jt);n.push(t[a].onComplete.bind(null,null,!1,E))}else n.push(t[a].onComplete.bind(null,new Error(l),!1,null))}this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_);for(var a=0;a<n.length;a++)ot(n[a]);this.sendReadyTransactions_()}},dr.prototype.getAncestorTransactionNode_=function(t){for(var e,n=this.transactionQueueTree_;null!==(e=t.getFront())&&null===n.getValue();)n=n.subTree(e),t=t.popFront();return n},dr.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort(function(t,e){return t.order-e.order}),e},dr.prototype.aggregateTransactionQueuesForNode_=function(t,e){var n=this,r=t.getValue();if(null!==r)for(var i=0;i<r.length;i++)e.push(r[i]);t.forEachChild(function(t){n.aggregateTransactionQueuesForNode_(t,e)})},dr.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,n=t.getValue();if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==mr.COMPLETED&&(n[r]=n[i],r++);n.length=r,t.setValue(n.length>0?n:null)}t.forEachChild(function(t){e.pruneCompletedTransactionsBelowNode_(t)})},dr.prototype.abortTransactions_=function(t){var e=this,n=this.getAncestorTransactionNode_(t).path(),r=this.transactionQueueTree_.subTree(t);return r.forEachAncestor(function(t){e.abortTransactionsOnNode_(t)}),this.abortTransactionsOnNode_(r),r.forEachDescendant(function(t){e.abortTransactionsOnNode_(t)}),n},dr.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(null!==e){for(var n=[],r=[],i=-1,o=0;o<e.length;o++)if(e[o].status===mr.SENT_NEEDS_ABORT);else if(e[o].status===mr.SENT)w.assert(i===o-1,"All SENT items should be at beginning of queue."),i=o,e[o].status=mr.SENT_NEEDS_ABORT,e[o].abortReason="set";else if(w.assert(e[o].status===mr.RUN,"Unexpected transaction status in abort"),e[o].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(e[o].currentWriteId,!0)),e[o].onComplete){var a=null;n.push(e[o].onComplete.bind(null,new Error("set"),!1,a))}i===-1?t.setValue(null):e.length=i+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),r);for(var o=0;o<n.length;o++)ot(n[o])}};var Er,Tr="databaseURL",Sr=function(){function t(){this.repos_={},this.useRestClient_=!1}return t.getInstance=function(){return Er||(Er=new t),Er},t.prototype.interrupt=function(){for(var t in this.repos_)for(var e in this.repos_[t])this.repos_[t][e].interrupt()},t.prototype.resume=function(){for(var t in this.repos_)for(var e in this.repos_[t])this.repos_[t][e].resume()},t.prototype.databaseFromApp=function(t,e){var n=e||t.options[Tr];void 0===n&&V("Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.initializeApp().");var r=bt(n),i=r.repoInfo;Ut("Invalid Firebase Database URL",1,r),r.path.isEmpty()||V("Database URL must point to the root of a Firebase Database (not including a child path).");var o=this.createRepo(i,t);return o.database},t.prototype.deleteRepo=function(t){var e=w.safeGet(this.repos_,t.app.name);e&&w.safeGet(e,t.repoInfo_.toURLString())===t||V("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),t.interrupt(),delete e[t.repoInfo_.toURLString()]},t.prototype.createRepo=function(t,e){var n=w.safeGet(this.repos_,e.name);n||(n={},this.repos_[e.name]=n);var r=w.safeGet(n,t.toURLString());return r&&V("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new dr(t,this.useRestClient_,e),n[t.toURLString()]=r,r},t.prototype.forceRestClient=function(t){this.useRestClient_=t},t}(),Or=function(){function t(t){this.repo_=t,t instanceof dr||V("Don't call new Database() directly - please use firebase.database()."),this.root_=new _r(t,st.Empty),this.INTERNAL=new Cr(this)}return Object.defineProperty(t.prototype,"app",{get:function(){return this.repo_.app},enumerable:!0,configurable:!0}),t.prototype.ref=function(t){return this.checkDeleted_("ref"),w.validateArgCount("database.ref",0,1,arguments.length),t instanceof _r?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},t.prototype.refFromURL=function(t){var e="database.refFromURL";this.checkDeleted_(e),w.validateArgCount(e,1,1,arguments.length);var n=bt(t);Ut(e,1,n);var r=n.repoInfo;return r.host!==this.repo_.repoInfo_.host&&V(e+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},t.prototype.checkDeleted_=function(t){null===this.repo_&&V("Cannot call "+t+" on a deleted database.")},t.prototype.goOffline=function(){w.validateArgCount("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},t.prototype.goOnline=function(){w.validateArgCount("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},t.ServerValue={TIMESTAMP:{".sv":"timestamp"}},t}(),Cr=function(){function t(t){this.database=t}return t.prototype.delete=function(){return T.__awaiter(this,void 0,void 0,function(){return T.__generator(this,function(t){return this.database.checkDeleted_("delete"),Sr.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]})})},t}(),kr=function(){Vn.forceDisallow(),Dn.forceAllow()},xr=function(){Dn.forceDisallow()},Pr=function(){return Vn.isAvailable()},Nr=function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},Ar=function(t,e){t.repo.stats(e)},Ir=function(t,e){t.repo.statsIncrementCounter(e)},Rr=function(t){return t.repo.dataUpdateCount},Mr=function(t,e){return t.repo.interceptServerData_(e)},Dr=Object.freeze({forceLongPolling:kr,forceWebSockets:xr,isWebSocketsAvailable:Pr,setSecurityDebugCallback:Nr,stats:Ar,statsIncrementCounter:Ir,dataUpdateCount:Rr,interceptServerData:Mr}),Lr=fr;fr.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},fr.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var jr=nr,Fr=function(t){var e=fr.prototype.put;return fr.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){fr.prototype.put=e}},Ur=mt,Vr=function(t){return t.queryIdentifier()},Br=function(t){return t.repo.persistentConnection_.listens_},Wr=function(t){Sr.getInstance().forceRestClient(t)},qr=Object.freeze({DataConnection:Lr,RealTimeConnection:jr,hijackHash:Fr,ConnectionTarget:Ur,queryIdentifier:Vr,listens:Br,forceRestClient:Wr}),Hr=Or.ServerValue;p(S),e.registerDatabase=p,e.Database=Or,e.Query=Ee,e.Reference=_r,e.enableLogging=L,e.ServerValue=Hr,e.DataSnapshot=ge,e.OnDisconnect=Bt}).call(e,n(31))},function(t,e){"use strict";function n(t){r.forEach(function(e){e.logLevel=t})}Object.defineProperty(e,"__esModule",{value:!0});var r=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(e.LogLevel||(e.LogLevel={}));var i=e.LogLevel.INFO,o=function(t,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(!(n<t.logLevel)){var o=(new Date).toISOString();switch(n){case e.LogLevel.DEBUG:console.log.apply(console,["["+o+"]  "+t.name+":"].concat(r));break;case e.LogLevel.VERBOSE:console.log.apply(console,["["+o+"]  "+t.name+":"].concat(r));break;case e.LogLevel.INFO:console.info.apply(console,["["+o+"]  "+t.name+":"].concat(r));break;case e.LogLevel.WARN:console.warn.apply(console,["["+o+"]  "+t.name+":"].concat(r));break;case e.LogLevel.ERROR:console.error.apply(console,["["+o+"]  "+t.name+":"].concat(r));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+n+")")}}},a=function(){function t(t){this.name=t,this._logLevel=i,this._logHandler=o,r.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in e.LogLevel))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._logHandler.apply(this,[this,e.LogLevel.DEBUG].concat(t))},t.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._logHandler.apply(this,[this,e.LogLevel.VERBOSE].concat(t))},t.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._logHandler.apply(this,[this,e.LogLevel.INFO].concat(t))},t.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._logHandler.apply(this,[this,e.LogLevel.WARN].concat(t))},t.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._logHandler.apply(this,[this,e.LogLevel.ERROR].concat(t))},t}();e.setLogLevel=n,e.Logger=a},function(t,e,n){"use strict";function r(t){return t&&"object"==typeof t&&"default"in t?t.default:t}function i(t,e){if(null==t||null==e)return!1;if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(var n=new DataView(t),r=new DataView(e),i=0;i<t.byteLength;i++)if(n.getUint8(i)!==r.getUint8(i))return!1;return!0}function o(t){var e=new Uint8Array(t);return btoa(String.fromCharCode.apply(null,e))}function a(t){var e=o(t);return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function u(t){for(var e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=window.atob(n),i=new Uint8Array(r.length),o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}function s(t){if(t.objectStoreNames.contains(P)){var e=t.transaction(P),n=e.objectStore(P),r=new k,i=n.openCursor();i.onerror=function(t){console.warn("Unable to cleanup old IDB.",t)},i.onsuccess=function(){var e=i.result;if(e){var n=e.value;r.deleteToken(n.fcmSenderId,n.fcmToken,n.fcmPushSet),e.continue()}else t.close(),indexedDB.deleteDatabase(x)}}}function c(){var t=indexedDB.open(x);t.onerror=function(t){},t.onsuccess=function(e){var n=t.result;s(n)}}function l(t){return new Promise(function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function f(t){if(t.fcmToken&&("string"!=typeof t.fcmToken||0===t.fcmToken.length))throw T.create(w.BAD_TOKEN);if(t.swScope&&("string"!=typeof t.swScope||0===t.swScope.length))throw T.create(w.BAD_SCOPE);if(t.vapidKey&&(!(t.vapidKey instanceof Uint8Array)||65!==t.vapidKey.length))throw T.create(w.BAD_VAPID_KEY);if(t.endpoint&&("string"!=typeof t.endpoint||0===t.endpoint.length))throw T.create(w.BAD_SUBSCRIPTION);if(t.auth&&!(t.auth instanceof ArrayBuffer))throw T.create(w.BAD_SUBSCRIPTION);if(t.p256dh&&!(t.p256dh instanceof ArrayBuffer))throw T.create(w.BAD_SUBSCRIPTION);if(t.fcmSenderId&&("string"!=typeof t.fcmSenderId||0===t.fcmSenderId.length))throw T.create(w.BAD_SENDER_ID);if(t.fcmPushSet&&("string"!=typeof t.fcmPushSet||0===t.fcmPushSet.length))throw T.create(w.BAD_PUSH_SET)}function h(t,e,n){if(!i(e.buffer,n.vapidKey.buffer))return!1;var r=t.endpoint===n.endpoint,o=i(t.getKey("auth"),n.auth),a=i(t.getKey("p256dh"),n.p256dh);return r&&o&&a}function p(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function d(t,e){return n={},n[g.TYPE_OF_MSG]=t,n[g.DATA]=e,n;var n}function y(t){var e="messaging",n=function(t){return self&&"ServiceWorkerGlobalScope"in self?new F(t):new B(t)},r={Messaging:B};t.INTERNAL.registerService(e,n,r)}Object.defineProperty(e,"__esModule",{value:!0});var v,g,_=n(90),m=n(159),b=r(n(53)),w={AVAILABLE_IN_WINDOW:"only-available-in-window",AVAILABLE_IN_SW:"only-available-in-sw",SHOULD_BE_INHERITED:"should-be-overriden",BAD_SENDER_ID:"bad-sender-id",INCORRECT_GCM_SENDER_ID:"incorrect-gcm-sender-id",PERMISSION_DEFAULT:"permission-default",PERMISSION_BLOCKED:"permission-blocked",UNSUPPORTED_BROWSER:"unsupported-browser",NOTIFICATIONS_BLOCKED:"notifications-blocked",FAILED_DEFAULT_REGISTRATION:"failed-serviceworker-registration",SW_REGISTRATION_EXPECTED:"sw-registration-expected",GET_SUBSCRIPTION_FAILED:"get-subscription-failed",INVALID_SAVED_TOKEN:"invalid-saved-token",SW_REG_REDUNDANT:"sw-reg-redundant",TOKEN_SUBSCRIBE_FAILED:"token-subscribe-failed",TOKEN_SUBSCRIBE_NO_TOKEN:"token-subscribe-no-token",TOKEN_SUBSCRIBE_NO_PUSH_SET:"token-subscribe-no-push-set",TOKEN_UNSUBSCRIBE_FAILED:"token-unsubscribe-failed",TOKEN_UPDATE_FAILED:"token-update-failed",TOKEN_UPDATE_NO_TOKEN:"token-update-no-token",USE_SW_BEFORE_GET_TOKEN:"use-sw-before-get-token",INVALID_DELETE_TOKEN:"invalid-delete-token",DELETE_TOKEN_NOT_FOUND:"delete-token-not-found",DELETE_SCOPE_NOT_FOUND:"delete-scope-not-found",BG_HANDLER_FUNCTION_EXPECTED:"bg-handler-function-expected",NO_WINDOW_CLIENT_TO_MSG:"no-window-client-to-msg",UNABLE_TO_RESUBSCRIBE:"unable-to-resubscribe",NO_FCM_TOKEN_FOR_RESUBSCRIBE:"no-fcm-token-for-resubscribe",FAILED_TO_DELETE_TOKEN:"failed-to-delete-token",NO_SW_IN_REG:"no-sw-in-reg",BAD_SCOPE:"bad-scope",BAD_VAPID_KEY:"bad-vapid-key",BAD_SUBSCRIPTION:"bad-subscription",
BAD_TOKEN:"bad-token",BAD_PUSH_SET:"bad-push-set",FAILED_DELETE_VAPID_KEY:"failed-delete-vapid-key",INVALID_PUBLIC_VAPID_KEY:"invalid-public-vapid-key",USE_PUBLIC_KEY_BEFORE_GET_TOKEN:"use-public-key-before-get-token",PUBLIC_KEY_DECRYPTION_FAILED:"public-vapid-key-decryption-failed"},E=(v={},v[w.AVAILABLE_IN_WINDOW]="This method is available in a Window context.",v[w.AVAILABLE_IN_SW]="This method is available in a service worker context.",v[w.SHOULD_BE_INHERITED]="This method should be overriden by extended classes.",v[w.BAD_SENDER_ID]="Please ensure that 'messagingSenderId' is set correctly in the options passed into firebase.initializeApp().",v[w.PERMISSION_DEFAULT]="The required permissions were not granted and dismissed instead.",v[w.PERMISSION_BLOCKED]="The required permissions were not granted and blocked instead.",v[w.UNSUPPORTED_BROWSER]="This browser doesn't support the API's required to use the firebase SDK.",v[w.NOTIFICATIONS_BLOCKED]="Notifications have been blocked.",v[w.FAILED_DEFAULT_REGISTRATION]="We are unable to register the default service worker. {$browserErrorMessage}",v[w.SW_REGISTRATION_EXPECTED]="A service worker registration was the expected input.",v[w.GET_SUBSCRIPTION_FAILED]="There was an error when trying to get any existing Push Subscriptions.",v[w.INVALID_SAVED_TOKEN]="Unable to access details of the saved token.",v[w.SW_REG_REDUNDANT]="The service worker being used for push was made redundant.",v[w.TOKEN_SUBSCRIBE_FAILED]="A problem occured while subscribing the user to FCM: {$message}",v[w.TOKEN_SUBSCRIBE_NO_TOKEN]="FCM returned no token when subscribing the user to push.",v[w.TOKEN_SUBSCRIBE_NO_PUSH_SET]="FCM returned an invalid response when getting an FCM token.",v[w.TOKEN_UNSUBSCRIBE_FAILED]="A problem occured while unsubscribing the user from FCM: {$message}",v[w.TOKEN_UPDATE_FAILED]="A problem occured while updating the user from FCM: {$message}",v[w.TOKEN_UPDATE_NO_TOKEN]="FCM returned no token when updating the user to push.",v[w.USE_SW_BEFORE_GET_TOKEN]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",v[w.INVALID_DELETE_TOKEN]="You must pass a valid token into deleteToken(), i.e. the token from getToken().",v[w.DELETE_TOKEN_NOT_FOUND]="The deletion attempt for token could not be performed as the token was not found.",v[w.DELETE_SCOPE_NOT_FOUND]="The deletion attempt for service worker scope could not be performed as the scope was not found.",v[w.BG_HANDLER_FUNCTION_EXPECTED]="The input to setBackgroundMessageHandler() must be a function.",v[w.NO_WINDOW_CLIENT_TO_MSG]="An attempt was made to message a non-existant window client.",v[w.UNABLE_TO_RESUBSCRIBE]="There was an error while re-subscribing the FCM token for push messaging. Will have to resubscribe the user on next visit. {$message}",v[w.NO_FCM_TOKEN_FOR_RESUBSCRIBE]="Could not find an FCM token and as a result, unable to resubscribe. Will have to resubscribe the user on next visit.",v[w.FAILED_TO_DELETE_TOKEN]="Unable to delete the currently saved token.",v[w.NO_SW_IN_REG]="Even though the service worker registration was successful, there was a problem accessing the service worker itself.",v[w.INCORRECT_GCM_SENDER_ID]="Please change your web app manifest's 'gcm_sender_id' value to '103953800507' to use Firebase messaging.",v[w.BAD_SCOPE]="The service worker scope must be a string with at least one character.",v[w.BAD_VAPID_KEY]="The public VAPID key is not a Uint8Array with 65 bytes.",v[w.BAD_SUBSCRIPTION]="The subscription must be a valid PushSubscription.",v[w.BAD_TOKEN]="The FCM Token used for storage / lookup was not a valid token string.",v[w.BAD_PUSH_SET]="The FCM push set used for storage / lookup was not not a valid push set string.",v[w.FAILED_DELETE_VAPID_KEY]="The VAPID key could not be deleted.",v[w.INVALID_PUBLIC_VAPID_KEY]="The public VAPID key must be a string.",v[w.PUBLIC_KEY_DECRYPTION_FAILED]="The public VAPID key did not equal 65 bytes when decrypted.",v),T=new _.ErrorFactory("messaging","Messaging",E),S=new Uint8Array([4,51,148,247,223,161,235,177,220,3,162,94,21,113,219,72,211,46,237,237,178,52,219,183,71,58,12,143,196,204,225,111,60,140,132,223,171,182,102,62,242,12,212,139,254,227,249,118,47,20,28,99,8,106,111,45,177,26,149,176,206,55,192,156,110]),O="https://fcm.googleapis.com";!function(t){t.TYPE_OF_MSG="firebase-messaging-msg-type",t.DATA="firebase-messaging-msg-data"}(g||(g={}));var C;!function(t){t.PUSH_MSG_RECEIVED="push-msg-received",t.NOTIFICATION_CLICKED="notification-clicked"}(C||(C={}));var k=function(){function t(){}return t.prototype.getToken=function(t,e,n){return m.__awaiter(this,void 0,void 0,function(){var r,i,o,u,s,c,l,f,h,p;return m.__generator(this,function(d){switch(d.label){case 0:r=a(e.getKey("p256dh")),i=a(e.getKey("auth")),o="authorized_entity="+t+"&"+("endpoint="+e.endpoint+"&")+("encryption_key="+r+"&")+("encryption_auth="+i),n!==S&&(u=a(n),o+="&application_pub_key="+u),s=new Headers,s.append("Content-Type","application/x-www-form-urlencoded"),c={method:"POST",headers:s,body:o},d.label=1;case 1:return d.trys.push([1,4,,5]),[4,fetch(O+"/fcm/connect/subscribe",c)];case 2:return f=d.sent(),[4,f.json()];case 3:return l=d.sent(),[3,5];case 4:throw h=d.sent(),T.create(w.TOKEN_SUBSCRIBE_FAILED);case 5:if(l.error)throw p=l.error.message,T.create(w.TOKEN_SUBSCRIBE_FAILED,{message:p});if(!l.token)throw T.create(w.TOKEN_SUBSCRIBE_NO_TOKEN);if(!l.pushSet)throw T.create(w.TOKEN_SUBSCRIBE_NO_PUSH_SET);return[2,{token:l.token,pushSet:l.pushSet}]}})})},t.prototype.updateToken=function(t,e,n,r,i){return m.__awaiter(this,void 0,void 0,function(){var o,u,s,c,l,f,h,p,d,y;return m.__generator(this,function(v){switch(v.label){case 0:o=a(r.getKey("p256dh")),u=a(r.getKey("auth")),s="push_set="+n+"&"+("token="+e+"&")+("authorized_entity="+t+"&")+("endpoint="+r.endpoint+"&")+("encryption_key="+o+"&")+("encryption_auth="+u),i!==S&&(c=a(i),s+="&application_pub_key="+c),l=new Headers,l.append("Content-Type","application/x-www-form-urlencoded"),f={method:"POST",headers:l,body:s},v.label=1;case 1:return v.trys.push([1,4,,5]),[4,fetch(O+"/fcm/connect/subscribe",f)];case 2:return p=v.sent(),[4,p.json()];case 3:return h=v.sent(),[3,5];case 4:throw d=v.sent(),T.create(w.TOKEN_UPDATE_FAILED);case 5:if(h.error)throw y=h.error.message,T.create(w.TOKEN_UPDATE_FAILED,{message:y});if(!h.token)throw T.create(w.TOKEN_UPDATE_NO_TOKEN);return[2,h.token]}})})},t.prototype.deleteToken=function(t,e,n){return m.__awaiter(this,void 0,void 0,function(){var r,i,o,a,u,s,c;return m.__generator(this,function(l){switch(l.label){case 0:r="authorized_entity="+t+"&"+("token="+e+"&")+("pushSet="+n),i=new Headers,i.append("Content-Type","application/x-www-form-urlencoded"),o={method:"POST",headers:i,body:r},l.label=1;case 1:return l.trys.push([1,4,,5]),[4,fetch(O+"/fcm/connect/unsubscribe",o)];case 2:return a=l.sent(),[4,a.json()];case 3:if(u=l.sent(),u.error)throw s=u.error.message,T.create(w.TOKEN_UNSUBSCRIBE_FAILED,{message:s});return[3,5];case 4:throw c=l.sent(),T.create(w.TOKEN_UNSUBSCRIBE_FAILED);case 5:return[2]}})})},t}(),x="undefined",P="fcm_token_object_Store",N=function(){function t(){this.dbPromise=null}return t.prototype.get=function(t){return this.createTransaction(function(e){return e.get(t)})},t.prototype.getIndex=function(t,e){function n(n){var r=n.index(t);return r.get(e)}return this.createTransaction(n)},t.prototype.put=function(t){return this.createTransaction(function(e){return e.put(t)},"readwrite")},t.prototype.delete=function(t){return this.createTransaction(function(e){return e.delete(t)},"readwrite")},t.prototype.closeDatabase=function(){return m.__awaiter(this,void 0,void 0,function(){var t;return m.__generator(this,function(e){switch(e.label){case 0:return this.dbPromise?[4,this.dbPromise]:[3,2];case 1:t=e.sent(),t.close(),this.dbPromise=null,e.label=2;case 2:return[2]}})})},t.prototype.createTransaction=function(t,e){return m.__awaiter(this,void 0,void 0,function(){var n,r,i,o;return m.__generator(this,function(a){switch(a.label){case 0:return[4,this.getDb()];case 1:return n=a.sent(),r=n.transaction(this.objectStoreName,e),i=r.objectStore(this.objectStoreName),[4,l(t(i))];case 2:return o=a.sent(),[2,new Promise(function(t,e){r.oncomplete=function(){t(o)},r.onerror=function(){e(r.error)}})]}})})},t.prototype.getDb=function(){var t=this;return this.dbPromise||(this.dbPromise=new Promise(function(e,n){var r=indexedDB.open(t.dbName,t.dbVersion);r.onsuccess=function(){e(r.result)},r.onerror=function(){t.dbPromise=null,n(r.error)},r.onupgradeneeded=function(e){return t.onDbUpgrade(r,e)}})),this.dbPromise},t}(),A=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dbName="fcm_token_details_db",e.dbVersion=3,e.objectStoreName="fcm_token_object_Store",e}return m.__extends(e,t),e.prototype.onDbUpgrade=function(t,e){var n=t.result;switch(e.oldVersion){case 0:var r=n.createObjectStore(this.objectStoreName,{keyPath:"swScope"});r.createIndex("fcmSenderId","fcmSenderId",{unique:!1}),r.createIndex("fcmToken","fcmToken",{unique:!0});case 1:c();case 2:var r=t.transaction.objectStore(this.objectStoreName),i=r.openCursor();i.onsuccess=function(){var t=i.result;if(t){var e=t.value,n=m.__assign({},e);e.createTime||(n.createTime=Date.now()),"string"==typeof e.vapidKey&&(n.vapidKey=u(e.vapidKey)),"string"==typeof e.auth&&(n.auth=u(e.auth).buffer),"string"==typeof e.auth&&(n.p256dh=u(e.p256dh).buffer),t.update(n),t.continue()}}}},e.prototype.getTokenDetailsFromToken=function(t){return m.__awaiter(this,void 0,void 0,function(){return m.__generator(this,function(e){if(!t)throw T.create(w.BAD_TOKEN);return f({fcmToken:t}),[2,this.getIndex("fcmToken",t)]})})},e.prototype.getTokenDetailsFromSWScope=function(t){return m.__awaiter(this,void 0,void 0,function(){return m.__generator(this,function(e){if(!t)throw T.create(w.BAD_SCOPE);return f({swScope:t}),[2,this.get(t)]})})},e.prototype.saveTokenDetails=function(t){return m.__awaiter(this,void 0,void 0,function(){return m.__generator(this,function(e){if(!t.swScope)throw T.create(w.BAD_SCOPE);if(!t.vapidKey)throw T.create(w.BAD_VAPID_KEY);if(!t.endpoint||!t.auth||!t.p256dh)throw T.create(w.BAD_SUBSCRIPTION);if(!t.fcmSenderId)throw T.create(w.BAD_SENDER_ID);if(!t.fcmToken)throw T.create(w.BAD_TOKEN);if(!t.fcmPushSet)throw T.create(w.BAD_PUSH_SET);return f(t),[2,this.put(t)]})})},e.prototype.deleteToken=function(t){return m.__awaiter(this,void 0,void 0,function(){var e;return m.__generator(this,function(n){switch(n.label){case 0:return"string"!=typeof t||0===t.length?[2,Promise.reject(T.create(w.INVALID_DELETE_TOKEN))]:[4,this.getTokenDetailsFromToken(t)];case 1:if(e=n.sent(),!e)throw T.create(w.DELETE_TOKEN_NOT_FOUND);return[4,this.delete(e.swScope)];case 2:return n.sent(),[2,e]}})})},e}(N),I=65,R=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dbName="fcm_vapid_details_db",e.dbVersion=1,e.objectStoreName="fcm_vapid_object_Store",e}return m.__extends(e,t),e.prototype.onDbUpgrade=function(t){var e=t.result;e.createObjectStore(this.objectStoreName,{keyPath:"swScope"})},e.prototype.getVapidFromSWScope=function(t){return m.__awaiter(this,void 0,void 0,function(){var e;return m.__generator(this,function(n){switch(n.label){case 0:if("string"!=typeof t||0===t.length)throw T.create(w.BAD_SCOPE);return[4,this.get(t)];case 1:return e=n.sent(),[2,e?e.vapidKey:void 0]}})})},e.prototype.saveVapidDetails=function(t,e){return m.__awaiter(this,void 0,void 0,function(){var n;return m.__generator(this,function(r){if("string"!=typeof t||0===t.length)throw T.create(w.BAD_SCOPE);if(null===e||e.length!==I)throw T.create(w.BAD_VAPID_KEY);return n={swScope:t,vapidKey:e},[2,this.put(n)]})})},e.prototype.deleteVapidDetails=function(t){return m.__awaiter(this,void 0,void 0,function(){var e;return m.__generator(this,function(n){switch(n.label){case 0:return[4,this.getVapidFromSWScope(t)];case 1:if(e=n.sent(),!e)throw T.create(w.DELETE_SCOPE_NOT_FOUND);return[4,this.delete(t)];case 2:return n.sent(),[2,e]}})})},e}(N),M="messagingSenderId",D=6048e5,L=function(){function t(t){var e=this;if(!t.options[M]||"string"!=typeof t.options[M])throw T.create(w.BAD_SENDER_ID);this.messagingSenderId=t.options[M],this.tokenDetailsModel=new A,this.vapidDetailsModel=new R,this.iidModel=new k,this.app=t,this.INTERNAL={delete:function(){return e.delete()}}}return t.prototype.getToken=function(){return m.__awaiter(this,void 0,void 0,function(){var t,e,n,r,i;return m.__generator(this,function(o){switch(o.label){case 0:return t=this.getNotificationPermission_(),"granted"!==t?"denied"===t?[2,Promise.reject(T.create(w.NOTIFICATIONS_BLOCKED))]:[2,Promise.resolve(null)]:[4,this.getSWRegistration_()];case 1:return e=o.sent(),[4,this.getPublicVapidKey_()];case 2:return n=o.sent(),[4,this.getPushSubscription(e,n)];case 3:return r=o.sent(),[4,this.tokenDetailsModel.getTokenDetailsFromSWScope(e.scope)];case 4:return i=o.sent(),i?[2,this.manageExistingToken(e,r,n,i)]:[2,this.getNewToken(e,r,n)]}})})},t.prototype.manageExistingToken=function(t,e,n,r){return m.__awaiter(this,void 0,void 0,function(){var i,o;return m.__generator(this,function(a){switch(a.label){case 0:return i=h(e,n,r),i?(o=Date.now(),o<r.createTime+D?[2,r.fcmToken]:[2,this.updateToken(t,e,n,r)]):[4,this.deleteTokenFromDB(r.fcmToken)];case 1:return a.sent(),[2,this.getNewToken(t,e,n)]}})})},t.prototype.updateToken=function(t,e,n,r){return m.__awaiter(this,void 0,void 0,function(){var i,o,a;return m.__generator(this,function(u){switch(u.label){case 0:return u.trys.push([0,4,,6]),[4,this.iidModel.updateToken(this.messagingSenderId,r.fcmToken,r.fcmPushSet,e,n)];case 1:return i=u.sent(),o={swScope:t.scope,vapidKey:n,fcmSenderId:this.messagingSenderId,fcmToken:i,fcmPushSet:r.fcmPushSet,createTime:Date.now(),endpoint:e.endpoint,auth:e.getKey("auth"),p256dh:e.getKey("p256dh")},[4,this.tokenDetailsModel.saveTokenDetails(o)];case 2:return u.sent(),[4,this.vapidDetailsModel.saveVapidDetails(t.scope,n)];case 3:return u.sent(),[2,i];case 4:return a=u.sent(),[4,this.deleteToken(r.fcmToken)];case 5:throw u.sent(),a;case 6:return[2]}})})},t.prototype.getNewToken=function(t,e,n){return m.__awaiter(this,void 0,void 0,function(){var r,i;return m.__generator(this,function(o){switch(o.label){case 0:return[4,this.iidModel.getToken(this.messagingSenderId,e,n)];case 1:return r=o.sent(),i={swScope:t.scope,vapidKey:n,fcmSenderId:this.messagingSenderId,fcmToken:r.token,fcmPushSet:r.pushSet,createTime:Date.now(),endpoint:e.endpoint,auth:e.getKey("auth"),p256dh:e.getKey("p256dh")},[4,this.tokenDetailsModel.saveTokenDetails(i)];case 2:return o.sent(),[4,this.vapidDetailsModel.saveVapidDetails(t.scope,n)];case 3:return o.sent(),[2,r.token]}})})},t.prototype.deleteToken=function(t){return m.__awaiter(this,void 0,void 0,function(){var e,n;return m.__generator(this,function(r){switch(r.label){case 0:return[4,this.deleteTokenFromDB(t)];case 1:return r.sent(),[4,this.getSWRegistration_()];case 2:return e=r.sent(),e?[4,e.pushManager.getSubscription()]:[3,4];case 3:if(n=r.sent())return[2,n.unsubscribe()];r.label=4;case 4:return[2,!0]}})})},t.prototype.deleteTokenFromDB=function(t){return m.__awaiter(this,void 0,void 0,function(){var e;return m.__generator(this,function(n){switch(n.label){case 0:return[4,this.tokenDetailsModel.deleteToken(t)];case 1:return e=n.sent(),[4,this.iidModel.deleteToken(e.fcmSenderId,e.fcmToken,e.fcmPushSet)];case 2:return n.sent(),[2]}})})},t.prototype.getPushSubscription=function(t,e){return t.pushManager.getSubscription().then(function(n){return n?n:t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:e})})},t.prototype.requestPermission=function(){throw T.create(w.AVAILABLE_IN_WINDOW)},t.prototype.useServiceWorker=function(t){throw T.create(w.AVAILABLE_IN_WINDOW)},t.prototype.usePublicVapidKey=function(t){throw T.create(w.AVAILABLE_IN_WINDOW)},t.prototype.onMessage=function(t,e,n){throw T.create(w.AVAILABLE_IN_WINDOW)},t.prototype.onTokenRefresh=function(t,e,n){throw T.create(w.AVAILABLE_IN_WINDOW)},t.prototype.setBackgroundMessageHandler=function(t){throw T.create(w.AVAILABLE_IN_SW)},t.prototype.delete=function(){return m.__awaiter(this,void 0,void 0,function(){return m.__generator(this,function(t){switch(t.label){case 0:return[4,Promise.all([this.tokenDetailsModel.closeDatabase(),this.vapidDetailsModel.closeDatabase()])];case 1:return t.sent(),[2]}})})},t.prototype.getNotificationPermission_=function(){return Notification.permission},t.prototype.getTokenDetailsModel=function(){return this.tokenDetailsModel},t.prototype.getVapidDetailsModel=function(){return this.vapidDetailsModel},t.prototype.getIIDModel=function(){return this.iidModel},t}(),j="FCM_MSG",F=function(t){function e(e){var n=t.call(this,e)||this;return n.bgMessageHandler=null,self.addEventListener("push",function(t){n.onPush(t)}),self.addEventListener("pushsubscriptionchange",function(t){n.onSubChange(t)}),self.addEventListener("notificationclick",function(t){n.onNotificationClick(t)}),n}return m.__extends(e,t),e.prototype.onPush=function(t){t.waitUntil(this.onPush_(t))},e.prototype.onSubChange=function(t){t.waitUntil(this.onSubChange_(t))},e.prototype.onNotificationClick=function(t){t.waitUntil(this.onNotificationClick_(t))},e.prototype.onPush_=function(t){return m.__awaiter(this,void 0,void 0,function(){var e,n,r,i,o;return m.__generator(this,function(a){switch(a.label){case 0:if(!t.data)return[2];try{e=t.data.json()}catch(t){return[2]}return[4,this.hasVisibleClients_()];case 1:return(n=a.sent())?e.notification||this.bgMessageHandler?[2,this.sendMessageToWindowClients_(e)]:[2]:(r=this.getNotificationData_(e))?(i=r.title||"",[4,this.getSWRegistration_()]):[3,3];case 2:return o=a.sent(),[2,o.showNotification(i,r)];case 3:return this.bgMessageHandler?[4,this.bgMessageHandler(e)]:[3,5];case 4:return a.sent(),[2];case 5:return[2]}})})},e.prototype.onSubChange_=function(t){return m.__awaiter(this,void 0,void 0,function(){var t,e,n,r,i;return m.__generator(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.getSWRegistration_()];case 1:return t=o.sent(),[3,3];case 2:throw e=o.sent(),T.create(w.UNABLE_TO_RESUBSCRIBE,{message:e});case 3:return o.trys.push([3,5,,8]),[4,t.pushManager.getSubscription()];case 4:return o.sent(),[3,8];case 5:return n=o.sent(),r=this.getTokenDetailsModel(),[4,r.getTokenDetailsFromSWScope(t.scope)];case 6:if(i=o.sent(),!i)throw n;return[4,this.deleteToken(i.fcmToken)];case 7:throw o.sent(),n;case 8:return[2]}})})},e.prototype.onNotificationClick_=function(t){return m.__awaiter(this,void 0,void 0,function(){var e,n,r,i;return m.__generator(this,function(o){switch(o.label){case 0:return t.notification&&t.notification.data&&t.notification.data[j]?(t.stopImmediatePropagation(),t.notification.close(),e=t.notification.data[j],e.notification?(n=e.notification.click_action,n?[4,this.getWindowClient_(n)]:[2]):[2]):[2];case 1:return r=o.sent(),r?[3,3]:[4,self.clients.openWindow(n)];case 2:return r=o.sent(),[3,5];case 3:return[4,r.focus()];case 4:r=o.sent(),o.label=5;case 5:return r?(delete e.notification,i=d(C.NOTIFICATION_CLICKED,e),[2,this.attemptToMessageClient_(r,i)]):[2]}})})},e.prototype.getNotificationData_=function(t){if(t&&"object"==typeof t.notification){var e=m.__assign({},t.notification);return e.data=(n={},n[j]=t,n),e;var n}},e.prototype.setBackgroundMessageHandler=function(t){if(!t||"function"!=typeof t)throw T.create(w.BG_HANDLER_FUNCTION_EXPECTED);this.bgMessageHandler=t},e.prototype.getWindowClient_=function(t){return m.__awaiter(this,void 0,void 0,function(){var e,n,r,i,o;return m.__generator(this,function(a){switch(a.label){case 0:return e=new URL(t,self.location.href).href,[4,p()];case 1:for(n=a.sent(),r=null,i=0;i<n.length;i++)if(o=new URL(n[i].url,self.location.href).href,o===e){r=n[i];break}return[2,r]}})})},e.prototype.attemptToMessageClient_=function(t,e){return m.__awaiter(this,void 0,void 0,function(){return m.__generator(this,function(n){if(!t)throw T.create(w.NO_WINDOW_CLIENT_TO_MSG);return t.postMessage(e),[2]})})},e.prototype.hasVisibleClients_=function(){return m.__awaiter(this,void 0,void 0,function(){var t;return m.__generator(this,function(e){switch(e.label){case 0:return[4,p()];case 1:return t=e.sent(),[2,t.some(function(t){return"visible"===t.visibilityState})]}})})},e.prototype.sendMessageToWindowClients_=function(t){return m.__awaiter(this,void 0,void 0,function(){var e,n,r=this;return m.__generator(this,function(i){switch(i.label){case 0:return[4,p()];case 1:return e=i.sent(),n=d(C.PUSH_MSG_RECEIVED,t),[4,Promise.all(e.map(function(t){return r.attemptToMessageClient_(t,n)}))];case 2:return i.sent(),[2]}})})},e.prototype.getSWRegistration_=function(){return m.__awaiter(this,void 0,void 0,function(){return m.__generator(this,function(t){return[2,self.registration]})})},e.prototype.getPublicVapidKey_=function(){return m.__awaiter(this,void 0,void 0,function(){var t,e;return m.__generator(this,function(n){switch(n.label){case 0:return[4,this.getSWRegistration_()];case 1:if(t=n.sent(),!t)throw T.create(w.SW_REGISTRATION_EXPECTED);return[4,this.getVapidDetailsModel().getVapidFromSWScope(t.scope)];case 2:return e=n.sent(),null==e?[2,S]:[2,e]}})})},e}(L),U="/firebase-messaging-sw.js",V="/firebase-cloud-messaging-push-scope",B=function(t){function e(e){var n=t.call(this,e)||this;return n.registrationToUse=null,n.publicVapidKeyToUse=null,n.manifestCheckPromise=null,n.messageObserver=null,n.tokenRefreshObserver=null,n.onMessageInternal=_.createSubscribe(function(t){n.messageObserver=t}),n.onTokenRefreshInternal=_.createSubscribe(function(t){n.tokenRefreshObserver=t}),n.setupSWMessageListener_(),n}return m.__extends(e,t),e.prototype.getToken=function(){var e=this;return this.isSupported_()?this.manifestCheck_().then(function(){return t.prototype.getToken.call(e)}):Promise.reject(T.create(w.UNSUPPORTED_BROWSER))},e.prototype.manifestCheck_=function(){if(this.manifestCheckPromise)return this.manifestCheckPromise;var t=document.querySelector('link[rel="manifest"]');return t?this.manifestCheckPromise=fetch(t.href).then(function(t){return t.json()}).catch(function(){}).then(function(t){if(t&&t.gcm_sender_id&&"103953800507"!==t.gcm_sender_id)throw T.create(w.INCORRECT_GCM_SENDER_ID)}):this.manifestCheckPromise=Promise.resolve(),this.manifestCheckPromise},e.prototype.requestPermission=function(){return m.__awaiter(this,void 0,void 0,function(){return m.__generator(this,function(t){return"granted"===Notification.permission?[2]:[2,new Promise(function(t,e){var n=function(n){return"granted"===n?t():e("denied"===n?T.create(w.PERMISSION_BLOCKED):T.create(w.PERMISSION_DEFAULT))},r=Notification.requestPermission(n);r&&r.then(n)})]})})},e.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw T.create(w.SW_REGISTRATION_EXPECTED);if(null!=this.registrationToUse)throw T.create(w.USE_SW_BEFORE_GET_TOKEN);this.registrationToUse=t},e.prototype.usePublicVapidKey=function(t){if("string"!=typeof t)throw T.create(w.INVALID_PUBLIC_VAPID_KEY);if(null!=this.publicVapidKeyToUse)throw T.create(w.USE_PUBLIC_KEY_BEFORE_GET_TOKEN);var e=u(t);if(65!==e.length)throw T.create(w.PUBLIC_KEY_DECRYPTION_FAILED);this.publicVapidKeyToUse=e},e.prototype.onMessage=function(t,e,n){return"function"==typeof t?this.onMessageInternal(t,e,n):this.onMessageInternal(t)},e.prototype.onTokenRefresh=function(t,e,n){return"function"==typeof t?this.onTokenRefreshInternal(t,e,n):this.onTokenRefreshInternal(t)},e.prototype.waitForRegistrationToActivate_=function(t){var e=t.installing||t.waiting||t.active;return new Promise(function(n,r){if(!e)return void r(T.create(w.NO_SW_IN_REG));if("activated"===e.state)return void n(t);if("redundant"===e.state)return void r(T.create(w.SW_REG_REDUNDANT));var i=function(){if("activated"===e.state)n(t);else{if("redundant"!==e.state)return;r(T.create(w.SW_REG_REDUNDANT))}e.removeEventListener("statechange",i)};e.addEventListener("statechange",i)})},e.prototype.getSWRegistration_=function(){var t=this;return this.registrationToUse?this.waitForRegistrationToActivate_(this.registrationToUse):(this.registrationToUse=null,navigator.serviceWorker.register(U,{scope:V}).catch(function(t){throw T.create(w.FAILED_DEFAULT_REGISTRATION,{browserErrorMessage:t.message})}).then(function(e){return t.waitForRegistrationToActivate_(e).then(function(){return t.registrationToUse=e,e.update(),e})}))},e.prototype.getPublicVapidKey_=function(){return this.publicVapidKeyToUse?Promise.resolve(this.publicVapidKeyToUse):Promise.resolve(S)},e.prototype.setupSWMessageListener_=function(){var t=this;"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("message",function(e){if(e.data&&e.data[g.TYPE_OF_MSG]){var n=e.data;switch(n[g.TYPE_OF_MSG]){case C.PUSH_MSG_RECEIVED:case C.NOTIFICATION_CLICKED:var r=n[g.DATA];t.messageObserver&&t.messageObserver.next(r)}}},!1)},e.prototype.isSupported_=function(){return"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")},e}(L);y(b),e.registerMessaging=y},function(t,e,n){(function(t,e){"use strict";function r(){}function i(t,e){return function(){t.apply(e,arguments)}}function o(t){if(!(this instanceof o))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(t,this)}function a(t,e){for(;3===t._state;)t=t._value;return 0===t._state?void t._deferreds.push(e):(t._handled=!0,void o._immediateFn(function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null===n)return void(1===t._state?u:s)(e.promise,t._value);var r;try{r=n(t._value)}catch(t){return void s(e.promise,t)}u(e.promise,r)}))}function u(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof o)return t._state=3,t._value=e,void c(t);if("function"==typeof n)return void f(i(n,e),t)}t._state=1,t._value=e,c(t)}catch(e){s(t,e)}}function s(t,e){t._state=2,t._value=e,c(t)}function c(t){2===t._state&&0===t._deferreds.length&&o._immediateFn(function(){t._handled||o._unhandledRejectionFn(t._value)});for(var e=0,n=t._deferreds.length;e<n;e++)a(t,t._deferreds[e]);t._deferreds=null}function l(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function f(t,e){var n=!1;try{t(function(t){n||(n=!0,u(e,t))},function(t){n||(n=!0,s(e,t))})}catch(t){if(n)return;n=!0,s(e,t)}}function h(t,e){return e={exports:{}},t(e,e.exports),e.exports}n(239);var p=setTimeout;o.prototype.catch=function(t){return this.then(null,t)},o.prototype.then=function(t,e){var n=new this.constructor(r);return a(this,new l(t,e,n)),n},o.prototype.finally=function(t){var e=this.constructor;return this.then(function(n){return e.resolve(t()).then(function(){return n})},function(n){return e.resolve(t()).then(function(){return e.reject(n)})})},o.all=function(t){return new o(function(e,n){function r(t,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var u=a.then;if("function"==typeof u)return void u.call(a,function(e){r(t,e)},n)}i[t]=a,0===--o&&e(i)}catch(t){n(t)}}if(!t||"undefined"==typeof t.length)throw new TypeError("Promise.all accepts an array");var i=Array.prototype.slice.call(t);if(0===i.length)return e([]);for(var o=i.length,a=0;a<i.length;a++)r(a,i[a])})},o.resolve=function(t){return t&&"object"==typeof t&&t.constructor===o?t:new o(function(e){e(t)})},o.reject=function(t){return new o(function(e,n){n(t)})},o.race=function(t){return new o(function(e,n){for(var r=0,i=t.length;r<i;r++)t[r].then(e,n)})},o._immediateFn="function"==typeof t&&function(e){t(e)}||function(t){p(t,0)},o._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var d=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof e)return e;throw new Error("unable to locate global object")}();d.Promise||(d.Promise=o);var y=h(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}),v=h(function(t){var e=t.exports={version:"2.5.5"};"number"==typeof __e&&(__e=e)}),g=(v.version,function(t){return"object"==typeof t?null!==t:"function"==typeof t}),_=function(t){if(!g(t))throw TypeError(t+" is not an object!");return t},m=function(t){try{return!!t()}catch(t){return!0}},b=!m(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),w=y.document,E=g(w)&&g(w.createElement),T=function(t){return E?w.createElement(t):{}},S=!b&&!m(function(){return 7!=Object.defineProperty(T("div"),"a",{get:function(){return 7}}).a}),O=function(t,e){if(!g(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!g(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!g(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!g(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},C=Object.defineProperty,k=b?Object.defineProperty:function(t,e,n){if(_(t),e=O(e,!0),_(n),S)try{return C(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t},x={f:k},P=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},N=b?function(t,e,n){return x.f(t,e,P(1,n))}:function(t,e,n){return t[e]=n,t},A={}.hasOwnProperty,I=function(t,e){return A.call(t,e)},R=0,M=Math.random(),D=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++R+M).toString(36))},L=h(function(t){var e=D("src"),n="toString",r=Function[n],i=(""+r).split(n);v.inspectSource=function(t){return r.call(t)},(t.exports=function(t,n,r,o){var a="function"==typeof r;a&&(I(r,"name")||N(r,"name",n)),t[n]!==r&&(a&&(I(r,e)||N(r,e,t[n]?""+t[n]:i.join(String(n)))),t===y?t[n]=r:o?t[n]?t[n]=r:N(t,n,r):(delete t[n],N(t,n,r)))})(Function.prototype,n,function(){return"function"==typeof this&&this[e]||r.call(this)})}),j=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t},F=function(t,e,n){if(j(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}},U="prototype",V=function(t,e,n){var r,i,o,a,u=t&V.F,s=t&V.G,c=t&V.S,l=t&V.P,f=t&V.B,h=s?y:c?y[e]||(y[e]={}):(y[e]||{})[U],p=s?v:v[e]||(v[e]={}),d=p[U]||(p[U]={});s&&(n=e);for(r in n)i=!u&&h&&void 0!==h[r],o=(i?h:n)[r],a=f&&i?F(o,y):l&&"function"==typeof o?F(Function.call,o):o,h&&L(h,r,o,t&V.U),p[r]!=o&&N(p,r,a),l&&d[r]!=o&&(d[r]=o)};y.core=v,V.F=1,V.G=2,V.S=4,V.P=8,V.B=16,V.W=32,V.U=64,V.R=128;var B=V,W={}.toString,q=function(t){return W.call(t).slice(8,-1)},H=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==q(t)?t.split(""):Object(t)},z=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t},G=function(t){return Object(z(t))},K=Math.ceil,Y=Math.floor,X=function(t){return isNaN(t=+t)?0:(t>0?Y:K)(t)},Q=Math.min,$=function(t){return t>0?Q(X(t),9007199254740991):0},J=Array.isArray||function(t){return"Array"==q(t)},Z="__core-js_shared__",tt=y[Z]||(y[Z]={}),et=function(t){return tt[t]||(tt[t]={})},nt=h(function(t){var e=et("wks"),n=y.Symbol,r="function"==typeof n,i=t.exports=function(t){return e[t]||(e[t]=r&&n[t]||(r?n:D)("Symbol."+t))};i.store=e}),rt=nt("species"),it=function(t){var e;return J(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!J(e.prototype)||(e=void 0),g(e)&&(e=e[rt],null===e&&(e=void 0))),void 0===e?Array:e},ot=function(t,e){return new(it(t))(e)},at=function(t,e){var n=1==t,r=2==t,i=3==t,o=4==t,a=6==t,u=5==t||a,s=e||ot;
return function(e,c,l){for(var f,h,p=G(e),d=H(p),y=F(c,l,3),v=$(d.length),g=0,_=n?s(e,v):r?s(e,0):void 0;v>g;g++)if((u||g in d)&&(f=d[g],h=y(f,g,p),t))if(n)_[g]=h;else if(h)switch(t){case 3:return!0;case 5:return f;case 6:return g;case 2:_.push(f)}else if(o)return!1;return a?-1:i||o?o:_}},ut=nt("unscopables"),st=Array.prototype;void 0==st[ut]&&N(st,ut,{});var ct=function(t){st[ut][t]=!0},lt=at(5),ft="find",ht=!0;ft in[]&&Array(1)[ft](function(){ht=!1}),B(B.P+B.F*ht,"Array",{find:function(t){return lt(this,t,arguments.length>1?arguments[1]:void 0)}}),ct(ft);var pt=(v.Array.find,at(6)),dt="findIndex",yt=!0;dt in[]&&Array(1)[dt](function(){yt=!1}),B(B.P+B.F*yt,"Array",{findIndex:function(t){return pt(this,t,arguments.length>1?arguments[1]:void 0)}}),ct(dt);var vt=(v.Array.findIndex,nt("match")),gt=function(t){var e;return g(t)&&(void 0!==(e=t[vt])?!!e:"RegExp"==q(t))},_t=function(t,e,n){if(gt(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(z(t))},mt=nt("match"),bt=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[mt]=!1,!"/./"[t](e)}catch(t){}}return!0},wt="startsWith",Et=""[wt];B(B.P+B.F*bt(wt),"String",{startsWith:function(t){var e=_t(this,t,wt),n=$(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return Et?Et.call(e,r,n):e.slice(n,n+r.length)===r}});v.String.startsWith}).call(e,n(558).setImmediate,function(){return this}())},function(t,e,n){"use strict";function r(t){return t&&"object"==typeof t&&"default"in t?t.default:t}function i(t){return"storage/"+t}function o(){var t="An unknown error occurred, please check the error payload for server response.";return new ne(re.UNKNOWN,t)}function a(t){return new ne(re.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function u(t){return new ne(re.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function s(){var t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ne(re.UNAUTHENTICATED,t)}function c(t){return new ne(re.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function l(){return new ne(re.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function f(){return new ne(re.CANCELED,"User canceled the upload/download.")}function h(t){return new ne(re.INVALID_URL,"Invalid URL '"+t+"'.")}function p(t){return new ne(re.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function d(){return new ne(re.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function y(){return new ne(re.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function v(){return new ne(re.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function g(t,e,n){return new ne(re.INVALID_ARGUMENT,"Invalid argument in `"+e+"` at index "+t+": "+n)}function _(t,e,n,r){var i,o;return t===e?(i=t,o=1===t?"argument":"arguments"):(i="between "+t+" and "+e,o="arguments"),new ne(re.INVALID_ARGUMENT_COUNT,"Invalid argument count in `"+n+"`: Expected "+i+" "+o+", received "+r+".")}function m(){return new ne(re.APP_DELETED,"The Firebase app was deleted.")}function b(t){return new ne(re.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function w(t,e){return new ne(re.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function E(t){throw new ne(re.INTERNAL_ERROR,"Internal error: "+t)}function T(t){switch(t){case ie.RAW:case ie.BASE64:case ie.BASE64URL:case ie.DATA_URL:return;default:throw"Expected one of the event types: ["+ie.RAW+", "+ie.BASE64+", "+ie.BASE64URL+", "+ie.DATA_URL+"]."}}function S(t,e){switch(t){case ie.RAW:return new oe(O(e));case ie.BASE64:case ie.BASE64URL:return new oe(k(t,e));case ie.DATA_URL:return new oe(x(e),P(e))}throw o()}function O(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r)){var i=n<t.length-1&&56320==(64512&t.charCodeAt(n+1));if(i){var o=r,a=t.charCodeAt(++n);r=65536|(1023&o)<<10|1023&a,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189)}else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function C(t){var e;try{e=decodeURIComponent(t)}catch(t){throw w(ie.DATA_URL,"Malformed data URL.")}return O(e)}function k(t,e){switch(t){case ie.BASE64:var n=e.indexOf("-")!==-1,r=e.indexOf("_")!==-1;if(n||r){var i=n?"-":"_";throw w(t,"Invalid character '"+i+"' found: is it base64url encoded?")}break;case ie.BASE64URL:var o=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(o||a){var i=o?"+":"/";throw w(t,"Invalid character '"+i+"' found: is it base64 encoded?")}e=e.replace(/-/g,"+").replace(/_/g,"/")}var u;try{u=atob(e)}catch(e){throw w(t,"Invalid character found")}for(var s=new Uint8Array(u.length),c=0;c<u.length;c++)s[c]=u.charCodeAt(c);return s}function x(t){var e=new ae(t);return e.base64?k(ie.BASE64,e.rest):C(e.rest)}function P(t){var e=new ae(t);return e.contentType}function N(t,e){var n=t.length>=e.length;return!!n&&t.substring(t.length-e.length)===e}function A(t){switch(t){case se.RUNNING:case se.PAUSING:case se.CANCELING:return ce.RUNNING;case se.PAUSED:return ce.PAUSED;case se.SUCCESS:return ce.SUCCESS;case se.CANCELED:return ce.CANCELED;case se.ERROR:return ce.ERROR;default:return ce.ERROR}}function I(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function R(t,e){for(var n in t)I(t,n)&&e(n,t[n])}function M(t){if(null==t)return{};var e={};return R(t,function(t,n){e[t]=n}),e}function D(t){return new Promise(t)}function L(t){return Promise.resolve(t)}function j(t){return Promise.reject(t)}function F(t){return null!=t}function U(t){return void 0!==t}function V(t){return"function"==typeof t}function B(t){return"object"==typeof t}function W(t){return B(t)&&null!==t}function q(t){return B(t)&&!Array.isArray(t)}function H(t){return"string"==typeof t||t instanceof String}function z(t){return"number"==typeof t||t instanceof Number}function G(t){return K()&&t instanceof Blob}function K(){return"undefined"!=typeof Blob}function Y(t){var e;try{e=JSON.parse(t)}catch(t){return null}return q(e)?e:null}function X(t){if(0==t.length)return null;var e=t.lastIndexOf("/");if(e===-1)return"";var n=t.slice(0,e);return n}function Q(t,e){var n=e.split("/").filter(function(t){return t.length>0}).join("/");return 0===t.length?n:t+"/"+n}function $(t){var e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function J(t){return Yt+Qt+t}function Z(t){return Xt+Qt+t}function tt(t){return Yt+$t+t}function et(t){var e=encodeURIComponent,n="?";return R(t,function(t,r){var i=e(t)+"="+e(r);n=n+i+"&"}),n=n.slice(0,-1)}function nt(t,e){return e}function rt(t){var e=H(t);return!e||t.length<2?t:(t=t,$(t))}function it(){function t(t,e){return rt(e)}function e(t,e){return F(e)?+e:e}function n(t,e){var n=H(e)&&e.length>0;if(!n)return[];var r=encodeURIComponent,i=e.split(","),o=i.map(function(e){var n=t.bucket,i=t.fullPath,o="/b/"+r(n)+"/o/"+r(i),a=Z(o),u=et({alt:"media",token:e});return a+u});return o}if(de)return de;var r=[];r.push(new pe("bucket")),r.push(new pe("generation")),r.push(new pe("metageneration")),r.push(new pe("name","fullPath",!0));var i=new pe("name");i.xform=t,r.push(i);var o=new pe("size");return o.xform=e,r.push(o),r.push(new pe("timeCreated")),r.push(new pe("updated")),r.push(new pe("md5Hash",null,!0)),r.push(new pe("cacheControl",null,!0)),r.push(new pe("contentDisposition",null,!0)),r.push(new pe("contentEncoding",null,!0)),r.push(new pe("contentLanguage",null,!0)),r.push(new pe("contentType",null,!0)),r.push(new pe("metadata","customMetadata",!0)),r.push(new pe("downloadTokens","downloadURLs",!1,n)),de=r}function ot(t,e){function n(){var n=t.bucket,r=t.fullPath,i=new he(n,r);return e.makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function at(t,e,n){var r={};r.type="file";for(var i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,e[a.server])}return ot(r,t),r}function ut(t,e,n){var r=Y(e);if(null===r)return null;var i=r;return at(t,i,n)}function st(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}function ct(t){var e=t&&B(t);if(!e)throw"Expected Metadata object.";for(var n in t){var r=t[n];if("customMetadata"===n){if(!B(r))throw"Expected object for 'customMetadata' mapping."}else if(W(r))throw"Mapping for '"+n+"' cannot be an object."}}function lt(t,e,n){for(var r=e.length,i=e.length,o=0;o<e.length;o++)if(e[o].optional){r=o;break}var a=r<=n.length&&n.length<=i;if(!a)throw _(r,i,t,n.length);for(var o=0;o<n.length;o++)try{e[o].validator(n[o])}catch(e){throw e instanceof Error?g(o,t,e.message):g(o,t,e)}}function ft(t,e){return function(n){t(n),e(n)}}function ht(t,e){function n(t){if(!H(t))throw"Expected string."}var r;return r=t?ft(n,t):n,new ye(r,e)}function pt(){function t(t){var e=t instanceof Uint8Array||t instanceof ArrayBuffer||K()&&t instanceof Blob;if(!e)throw"Expected Blob or File."}return new ye(t)}function dt(t){return new ye(ct,t)}function yt(){function t(t){var e=z(t)&&t>=0;if(!e)throw"Expected a number 0 or greater."}return new ye(t)}function vt(t,e){function n(e){var n=null===e||F(e)&&e instanceof Object;if(!n)throw"Expected an Object.";void 0!==t&&null!==t&&t(e)}return new ye(n,e)}function gt(t){function e(t){var e=null===t||V(t);if(!e)throw"Expected a Function."}return new ye(e,t)}function _t(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function mt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=_t();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(K())return new Blob(t);throw Error("This browser doesn't seem to support creating Blobs")}function bt(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}function wt(t,e){return t.indexOf(e)!==-1}function Et(t){return Array.prototype.slice.call(t)}function Tt(t,e){var n=t.indexOf(e);n!==-1&&t.splice(n,1)}function St(t){if(!t)throw o()}function Ot(t,e){function n(n,r){var i=ut(t,r,e);return St(null!==i),i}return n}function Ct(t){function e(e,n){var r;return r=401===e.getStatus()?s():402===e.getStatus()?u(t.bucket):403===e.getStatus()?c(t.path):n,r.setServerResponseProp(n.serverResponseProp()),r}return e}function kt(t){function e(e,r){var i=n(e,r);return 404===e.getStatus()&&(i=a(t.path)),i.setServerResponseProp(r.serverResponseProp()),i}var n=Ct(t);return e}function xt(t,e,n){var r=e.fullServerUrl(),i=J(r),o="GET",a=t.maxOperationRetryTime(),u=new ge(i,o,Ot(t,n),a);return u.errorHandler=kt(e),u}function Pt(t,e,n,r){var i=e.fullServerUrl(),o=J(i),a="PATCH",u=st(n,r),s={"Content-Type":"application/json; charset=utf-8"},c=t.maxOperationRetryTime(),l=new ge(o,a,Ot(t,r),c);return l.headers=s,l.body=u,l.errorHandler=kt(e),l}function Nt(t,e){function n(t,e){}var r=e.fullServerUrl(),i=J(r),o="DELETE",a=t.maxOperationRetryTime(),u=new ge(i,o,n,a);return u.successCodes=[200,204],u.errorHandler=kt(e),u}function At(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function It(t,e,n){var r=M(n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=At(null,e)),r}function Rt(t,e,n,r,i){function o(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}var a=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"},s=o();u["Content-Type"]="multipart/related; boundary="+s;var c=It(e,r,i),l=st(c,n),f="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+l+"\r\n--"+s+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",h="\r\n--"+s+"--",p=ve.getBlob(f,r,h);if(null===p)throw d();var y={name:c.fullPath},v=tt(a),g="POST",_=t.maxUploadRetryTime(),m=new ge(v,g,Ot(t,n),_);return m.urlParams=y,m.headers=u,m.body=p.uploadData(),m.errorHandler=Ct(e),m}function Mt(t,e){var n;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(t){St(!1)}var r=e||["active"];return St(wt(r,n)),n}function Dt(t,e,n,r,i){function o(t,e){Mt(t);var n;try{n=t.getResponseHeader("X-Goog-Upload-URL")}catch(t){St(!1)}return St(H(n)),n}var a=e.bucketOnlyServerUrl(),u=It(e,r,i),s={name:u.fullPath},c=tt(a),l="POST",f={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},h=st(u,n),p=t.maxUploadRetryTime(),d=new ge(c,l,o,p);return d.urlParams=s,d.headers=f,d.body=h,d.errorHandler=Ct(e),d}function Lt(t,e,n,r){function i(t,e){var n,i=Mt(t,["active","final"]);try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(t){St(!1)}var o=parseInt(n,10);return St(!isNaN(o)),new _e(o,r.size(),"final"===i)}var o={"X-Goog-Upload-Command":"query"},a="POST",u=t.maxUploadRetryTime(),s=new ge(n,a,i,u);return s.headers=o,s.errorHandler=Ct(e),s}function jt(t,e,n,r,i,o,a,u){function s(t,n){var i,a=Mt(t,["active","final"]),u=c.current+f,s=r.size();return i="final"===a?Ot(e,o)(t,n):null,new _e(u,s,"final"===a,i)}var c=new _e(0,0);if(a?(c.current=a.current,c.total=a.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw y();var l=c.total-c.current,f=l;i>0&&(f=Math.min(f,i));var h=c.current,p=h+f,v=f===l?"upload, finalize":"upload",g={"X-Goog-Upload-Command":v,"X-Goog-Upload-Offset":c.current},_=r.slice(h,p);if(null===_)throw d();var m="POST",b=e.maxUploadRetryTime(),w=new ge(n,m,s,b);return w.headers=g,w.body=_.uploadData(),w.progressCallback=u||null,w.errorHandler=Ct(t),w}function Ft(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];L(!0).then(function(){t.apply(null,e)})}}function Ut(t,e,n){function r(){return 2===f}function i(){h||(h=!0,e.apply(null,arguments))}function o(e){c=setTimeout(function(){c=null,t(a,r())},e)}function a(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!h){if(t)return void i.apply(null,arguments);var a=r()||l;if(a)return void i.apply(null,arguments);s<64&&(s*=2);var u;1===f?(f=2,u=0):u=1e3*(s+Math.random()),o(u)}}function u(t){p||(p=!0,h||(null!==c?(t||(f=2),clearTimeout(c),o(0)):t||(f=1)))}var s=1,c=null,l=!1,f=0,h=!1,p=!1;return o(0),setTimeout(function(){l=!0,u(!0)},n),u}function Vt(t){t(!1)}function Bt(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}function Wt(t){var e="undefined"!=typeof Kt?Kt.SDK_VERSION:"AppManager";t["X-Firebase-Storage-Version"]="webjs/"+e}function qt(t,e,n){var r=et(t.urlParams),i=t.url+r,o=M(t.headers);return Bt(o,e),Wt(o),new ke(i,t.method,o,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,n)}function Ht(t,e,n){return new Pe(t,new fe,n)}function zt(t){var e={TaskState:ce,TaskEvent:ue,StringFormat:ie,Storage:Pe,Reference:Te};t.INTERNAL.registerService(Ae,Ht,e,void 0,!0)}Object.defineProperty(e,"__esModule",{value:!0});var Gt,Kt=r(n(53)),Yt="https://firebasestorage.googleapis.com",Xt="https://firebasestorage.googleapis.com",Qt="/v0",$t="/v0",Jt="storageBucket",Zt=12e4,te=6e4,ee=-9007199254740991,ne=function(){function t(t,e){this.code_=i(t),this.message_="Firebase Storage: "+e,this.serverResponse_=null,this.name_="FirebaseError"}return t.prototype.codeProp=function(){return this.code},t.prototype.codeEquals=function(t){return i(t)===this.codeProp()},t.prototype.serverResponseProp=function(){return this.serverResponse_},t.prototype.setServerResponseProp=function(t){this.serverResponse_=t},Object.defineProperty(t.prototype,"name",{get:function(){return this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"code",{get:function(){return this.code_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return this.message_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!0,configurable:!0}),t}(),re={UNKNOWN:"unknown",OBJECT_NOT_FOUND:"object-not-found",BUCKET_NOT_FOUND:"bucket-not-found",PROJECT_NOT_FOUND:"project-not-found",QUOTA_EXCEEDED:"quota-exceeded",UNAUTHENTICATED:"unauthenticated",UNAUTHORIZED:"unauthorized",RETRY_LIMIT_EXCEEDED:"retry-limit-exceeded",INVALID_CHECKSUM:"invalid-checksum",CANCELED:"canceled",INVALID_EVENT_NAME:"invalid-event-name",INVALID_URL:"invalid-url",INVALID_DEFAULT_BUCKET:"invalid-default-bucket",NO_DEFAULT_BUCKET:"no-default-bucket",CANNOT_SLICE_BLOB:"cannot-slice-blob",SERVER_FILE_WRONG_SIZE:"server-file-wrong-size",NO_DOWNLOAD_URL:"no-download-url",INVALID_ARGUMENT:"invalid-argument",INVALID_ARGUMENT_COUNT:"invalid-argument-count",APP_DELETED:"app-deleted",INVALID_ROOT_OPERATION:"invalid-root-operation",INVALID_FORMAT:"invalid-format",INTERNAL_ERROR:"internal-error"},ie={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},oe=function(){function t(t,e){this.data=t,this.contentType=e||null}return t}(),ae=function(){function t(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw w(ie.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=e[1]||null;null!=n&&(this.base64=N(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=t.substring(t.indexOf(",")+1)}return t}(),ue={STATE_CHANGED:"state_changed"},se={RUNNING:"running",PAUSING:"pausing",PAUSED:"paused",SUCCESS:"success",CANCELING:"canceling",CANCELED:"canceled",ERROR:"error"},ce={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};!function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"}(Gt||(Gt={}));var le=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Gt.NO_ERROR,this.sendPromise_=D(function(e,n){t.xhr_.addEventListener("abort",function(n){t.errorCode_=Gt.ABORT,e(t)}),t.xhr_.addEventListener("error",function(n){t.errorCode_=Gt.NETWORK_ERROR,e(t)}),t.xhr_.addEventListener("load",function(n){e(t)})})}return t.prototype.send=function(t,e,n,r){var i=this;if(this.sent_)throw E("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),F(r)){var o=r;R(o,function(t,e){i.xhr_.setRequestHeader(t,e.toString())})}return F(n)?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw E("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw E("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw E("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){F(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){F(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",t)},t}(),fe=function(){function t(){}return t.prototype.createXhrIo=function(){return new le},t}(),he=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!0,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(n){return new t(e,"")}if(""===n.path)return n;throw p(e)},t.makeFromUrl=function(e){function n(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}function r(t){t.path_=decodeURIComponent(t.path)}for(var i=null,o="([A-Za-z0-9.\\-]+)",a="(/(.*))?$",u="(/([^?#]*).*)?$",s=new RegExp("^gs://"+o+a,"i"),c={bucket:1,path:3},l="v[A-Za-z0-9_]+",f=new RegExp("^https?://firebasestorage\\.googleapis\\.com/"+l+"/b/"+o+"/o"+u,"i"),p={bucket:1,path:3},d=[{regex:s,indices:c,postModify:n},{regex:f,indices:p,postModify:r}],y=0;y<d.length;y++){var v=d[y],g=v.regex.exec(e);if(g){var _=g[v.indices.bucket],m=g[v.indices.path];m||(m=""),i=new t(_,m),v.postModify(i);break}}if(null==i)throw h(e);return i},t}(),pe=function(){function t(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||nt}return t}(),de=null,ye=function(){function t(t,e){var n=this;this.validator=function(e){n.optional&&!U(e)||t(e)},this.optional=!!e}return t}(),ve=function(){function t(t,e){var n=0,r="";G(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(G(this.data_)){var r=this.data_,i=bt(r,e,n);return null===i?null:new t(i)}var o=new Uint8Array(this.data_.buffer,e,n-e);return new t(o,!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(K()){var r=e.map(function(e){return e instanceof t?e.data_:e});return new t(mt.apply(null,r))}var i=e.map(function(t){return H(t)?S(ie.RAW,t).data:t.data_}),o=0;i.forEach(function(t){o+=t.byteLength});var a=new Uint8Array(o),u=0;return i.forEach(function(t){for(var e=0;e<t.length;e++)a[u++]=t[e]}),new t(a,!0)},t.prototype.uploadData=function(){return this.data_},t}(),ge=function(){function t(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return t}(),_e=function(){function t(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}return t}(),me=262144,be=function(){function t(t,e,n){var r=V(t)||F(e)||F(n);if(r)this.next=t,this.error=e||null,this.complete=n||null;else{var i=t;this.next=i.next||null,this.error=i.error||null,this.complete=i.complete||null}}return t}(),we=function(){function t(t,e,n,r,i,o){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=r,this.task=i,this.ref=o}return Object.defineProperty(t.prototype,"downloadURL",{get:function(){if(null!==this.metadata){var t=this.metadata.downloadURLs;return null!=t&&null!=t[0]?t[0]:null}return null},enumerable:!0,configurable:!0}),t}(),Ee=function(){function t(t,e,n,r,i,o){void 0===o&&(o=null);var a=this;this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=t,this.authWrapper_=e,this.location_=n,this.blob_=i,this.metadata_=o,this.mappings_=r,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_=se.RUNNING,this.errorHandler_=function(t){a.request_=null,a.chunkMultiplier_=1,t.codeEquals(re.CANCELED)?(a.needToFetchStatus_=!0,a.completeTransitions_()):(a.error_=t,a.transition_(se.ERROR))},this.metadataErrorHandler_=function(t){a.request_=null,t.codeEquals(re.CANCELED)?a.completeTransitions_():(a.error_=t,a.transition_(se.ERROR))},this.promise_=D(function(t,e){a.resolve_=t,a.reject_=e,a.start_()}),this.promise_.then(null,function(){})}return t.prototype.makeProgressCallback_=function(){var t=this,e=this.transferred_;return function(n,r){t.updateProgress_(e+n)}},t.prototype.shouldDoResumable_=function(t){return t.size()>262144},t.prototype.start_=function(){this.state_===se.RUNNING&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},t.prototype.resolveToken_=function(t){var e=this;this.authWrapper_.getAuthToken().then(function(n){switch(e.state_){case se.RUNNING:t(n);break;case se.CANCELING:e.transition_(se.CANCELED);break;case se.PAUSING:e.transition_(se.PAUSED)}})},t.prototype.createResumable_=function(){var t=this;this.resolveToken_(function(e){var n=Dt(t.authWrapper_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then(function(e){t.request_=null,t.uploadUrl_=e,t.needToFetchStatus_=!1,t.completeTransitions_()},t.errorHandler_)})},t.prototype.fetchStatus_=function(){var t=this,e=this.uploadUrl_;this.resolveToken_(function(n){var r=Lt(t.authWrapper_,t.location_,e,t.blob_),i=t.authWrapper_.makeRequest(r,n);t.request_=i,i.getPromise().then(function(e){e=e,t.request_=null,t.updateProgress_(e.current),t.needToFetchStatus_=!1,e.finalized&&(t.needToFetchMetadata_=!0),t.completeTransitions_()},t.errorHandler_)})},t.prototype.continueUpload_=function(){var t=this,e=me*this.chunkMultiplier_,n=new _e(this.transferred_,this.blob_.size()),r=this.uploadUrl_;this.resolveToken_(function(i){var o;try{o=jt(t.location_,t.authWrapper_,r,t.blob_,e,t.mappings_,n,t.makeProgressCallback_())}catch(e){return t.error_=e,void t.transition_(se.ERROR)}var a=t.authWrapper_.makeRequest(o,i);t.request_=a,a.getPromise().then(function(e){t.increaseMultiplier_(),t.request_=null,t.updateProgress_(e.current),e.finalized?(t.metadata_=e.metadata,t.transition_(se.SUCCESS)):t.completeTransitions_()},t.errorHandler_)})},t.prototype.increaseMultiplier_=function(){var t=me*this.chunkMultiplier_;t<33554432&&(this.chunkMultiplier_*=2)},t.prototype.fetchMetadata_=function(){var t=this;this.resolveToken_(function(e){var n=xt(t.authWrapper_,t.location_,t.mappings_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then(function(e){t.request_=null,t.metadata_=e,t.transition_(se.SUCCESS)},t.metadataErrorHandler_)})},t.prototype.oneShotUpload_=function(){var t=this;this.resolveToken_(function(e){var n=Rt(t.authWrapper_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then(function(e){t.request_=null,t.metadata_=e,t.updateProgress_(t.blob_.size()),t.transition_(se.SUCCESS)},t.errorHandler_)})},t.prototype.updateProgress_=function(t){var e=this.transferred_;this.transferred_=t,this.transferred_!==e&&this.notifyObservers_()},t.prototype.transition_=function(t){if(this.state_!==t)switch(t){case se.CANCELING:this.state_=t,null!==this.request_&&this.request_.cancel();break;case se.PAUSING:this.state_=t,null!==this.request_&&this.request_.cancel();break;case se.RUNNING:var e=this.state_===se.PAUSED;this.state_=t,e&&(this.notifyObservers_(),this.start_());break;case se.PAUSED:this.state_=t,this.notifyObservers_();break;case se.CANCELED:this.error_=f(),this.state_=t,this.notifyObservers_();break;case se.ERROR:this.state_=t,this.notifyObservers_();break;case se.SUCCESS:this.state_=t,this.notifyObservers_()}},t.prototype.completeTransitions_=function(){switch(this.state_){case se.PAUSING:this.transition_(se.PAUSED);break;case se.CANCELING:this.transition_(se.CANCELED);break;case se.RUNNING:this.start_()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=A(this.state_);return new we(this.transferred_,this.blob_.size(),t,this.metadata_,this,this.ref_)},enumerable:!0,configurable:!0}),t.prototype.on=function(t,e,n,r){function i(e){if(t!==ue.STATE_CHANGED)throw"Expected one of the event types: ["+ue.STATE_CHANGED+"]."}function o(t){try{return void c(t)}catch(t){}try{l(t);var e=U(t.next)||U(t.error)||U(t.complete);if(!e)throw"";return}catch(t){throw s}}function a(t){function e(e,n,i){null!==t&&lt("on",t,arguments);var o=new be(e,n,r);return h.addObserver_(o),function(){h.removeObserver_(o)}}return e}function u(t){if(null===t)throw s;o(t)}void 0===e&&(e=void 0),void 0===n&&(n=void 0),void 0===r&&(r=void 0);var s="Expected a function or an Object with one of `next`, `error`, `complete` properties.",c=gt(!0).validator,l=vt(null,!0).validator,f=[ht(i),vt(o,!0),gt(!0),gt(!0)];lt("on",f,arguments);var h=this,p=[vt(u),gt(!0),gt(!0)],d=!(U(e)||U(n)||U(r));return d?a(p):a(null)(e,n,r)},t.prototype.then=function(t,e){return this.promise_.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype.addObserver_=function(t){this.observers_.push(t),this.notifyObserver_(t)},t.prototype.removeObserver_=function(t){Tt(this.observers_,t)},t.prototype.notifyObservers_=function(){var t=this;this.finishPromise_();var e=Et(this.observers_);e.forEach(function(e){t.notifyObserver_(e)})},t.prototype.finishPromise_=function(){if(null!==this.resolve_){var t=!0;switch(A(this.state_)){case ce.SUCCESS:Ft(this.resolve_.bind(null,this.snapshot))();break;case ce.CANCELED:case ce.ERROR:var e=this.reject_;Ft(e.bind(null,this.error_))();break;default:t=!1}t&&(this.resolve_=null,this.reject_=null)}},t.prototype.notifyObserver_=function(t){var e=A(this.state_);switch(e){case ce.RUNNING:case ce.PAUSED:null!==t.next&&Ft(t.next.bind(t,this.snapshot))();break;case ce.SUCCESS:null!==t.complete&&Ft(t.complete.bind(t))();break;case ce.CANCELED:case ce.ERROR:null!==t.error&&Ft(t.error.bind(t,this.error_))();break;default:null!==t.error&&Ft(t.error.bind(t,this.error_))()}},t.prototype.resume=function(){lt("resume",[],arguments);var t=this.state_===se.PAUSED||this.state_===se.PAUSING;return t&&this.transition_(se.RUNNING),t},t.prototype.pause=function(){lt("pause",[],arguments);var t=this.state_===se.RUNNING;return t&&this.transition_(se.PAUSING),t},t.prototype.cancel=function(){lt("cancel",[],arguments);var t=this.state_===se.RUNNING||this.state_===se.PAUSING;return t&&this.transition_(se.CANCELING),t},t}(),Te=function(){function t(t,e){this.authWrapper=t,e instanceof he?this.location=e:this.location=he.makeFromUrl(e)}return t.prototype.toString=function(){return lt("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},t.prototype.newRef=function(e,n){return new t(e,n)},t.prototype.mappings=function(){return it()},t.prototype.child=function(t){lt("child",[ht()],arguments);var e=Q(this.location.path,t),n=new he(this.location.bucket,e);return this.newRef(this.authWrapper,n)},Object.defineProperty(t.prototype,"parent",{get:function(){var t=X(this.location.path);if(null===t)return null;var e=new he(this.location.bucket,t);return this.newRef(this.authWrapper,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){var t=new he(this.location.bucket,"");return this.newRef(this.authWrapper,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return $(this.location.path)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this.authWrapper.service()},enumerable:!0,configurable:!0}),t.prototype.put=function(t,e){return void 0===e&&(e=null),lt("put",[pt(),dt(!0)],arguments),this.throwIfRoot_("put"),new Ee(this,this.authWrapper,this.location,this.mappings(),new ve(t),e)},t.prototype.putString=function(t,e,n){void 0===e&&(e=ie.RAW),lt("putString",[ht(),ht(T,!0),dt(!0)],arguments),this.throwIfRoot_("putString");var r=S(e,t),i=M(n);return!F(i.contentType)&&F(r.contentType)&&(i.contentType=r.contentType),new Ee(this,this.authWrapper,this.location,this.mappings(),new ve(r.data,!0),i)},t.prototype.delete=function(){lt("delete",[],arguments),this.throwIfRoot_("delete");var t=this;return this.authWrapper.getAuthToken().then(function(e){var n=Nt(t.authWrapper,t.location);return t.authWrapper.makeRequest(n,e).getPromise()})},t.prototype.getMetadata=function(){
lt("getMetadata",[],arguments),this.throwIfRoot_("getMetadata");var t=this;return this.authWrapper.getAuthToken().then(function(e){var n=xt(t.authWrapper,t.location,t.mappings());return t.authWrapper.makeRequest(n,e).getPromise()})},t.prototype.updateMetadata=function(t){lt("updateMetadata",[dt()],arguments),this.throwIfRoot_("updateMetadata");var e=this;return this.authWrapper.getAuthToken().then(function(n){var r=Pt(e.authWrapper,e.location,t,e.mappings());return e.authWrapper.makeRequest(r,n).getPromise()})},t.prototype.getDownloadURL=function(){return lt("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL"),this.getMetadata().then(function(t){var e=t.downloadURLs[0];if(F(e))return e;throw v()})},t.prototype.throwIfRoot_=function(t){if(""===this.location.path)throw b(t)},t}(),Se=function(){function t(t){this.promise_=j(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){void 0===t&&(t=!1)},t}(),Oe=function(){function t(){this.map_={},this.id_=ee}return t.prototype.addRequest=function(t){function e(){delete r.map_[n]}var n=this.id_;this.id_++,this.map_[n]=t;var r=this;t.getPromise().then(e,e)},t.prototype.clear=function(){R(this.map_,function(t,e){e&&e.cancel(!0)}),this.map_={}},t}(),Ce=function(){function t(e,n,r,i,o){if(this.bucket_=null,this.deleted_=!1,this.app_=e,null!==this.app_){var a=this.app_.options;F(a)&&(this.bucket_=t.extractBucket_(a))}this.storageRefMaker_=n,this.requestMaker_=r,this.pool_=o,this.service_=i,this.maxOperationRetryTime_=Zt,this.maxUploadRetryTime_=te,this.requestMap_=new Oe}return t.extractBucket_=function(t){var e=t[Jt]||null;if(null==e)return null;var n=he.makeFromBucketSpec(e);return n.bucket},t.prototype.getAuthToken=function(){return null!==this.app_&&F(this.app_.INTERNAL)&&F(this.app_.INTERNAL.getToken)?this.app_.INTERNAL.getToken().then(function(t){return null!==t?t.accessToken:null},function(t){return null}):L(null)},t.prototype.bucket=function(){if(this.deleted_)throw m();return this.bucket_},t.prototype.service=function(){return this.service_},t.prototype.makeStorageReference=function(t){return this.storageRefMaker_(this,t)},t.prototype.makeRequest=function(t,e){if(this.deleted_)return new Se(m());var n=this.requestMaker_(t,e,this.pool_);return this.requestMap_.addRequest(n),n},t.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requestMap_.clear()},t.prototype.maxUploadRetryTime=function(){return this.maxUploadRetryTime_},t.prototype.setMaxUploadRetryTime=function(t){this.maxUploadRetryTime_=t},t.prototype.maxOperationRetryTime=function(){return this.maxOperationRetryTime_},t.prototype.setMaxOperationRetryTime=function(t){this.maxOperationRetryTime_=t},t}(),ke=function(){function t(t,e,n,r,i,o,a,u,s,c,l){this.pendingXhr_=null,this.backoffId_=null,this.resolve_=null,this.reject_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=u,this.progressCallback_=c,this.timeout_=s,this.pool_=l;var f=this;this.promise_=D(function(t,e){f.resolve_=t,f.reject_=e,f.start_()})}return t.prototype.start_=function(){function t(t,e){function r(t){var e=t.loaded,r=t.lengthComputable?t.total:-1;null!==n.progressCallback_&&n.progressCallback_(e,r)}if(e)return void t(!1,new xe(!1,null,!0));var i=n.pool_.createXhrIo();n.pendingXhr_=i,null!==n.progressCallback_&&i.addUploadProgressListener(r),i.send(n.url_,n.method_,n.body_,n.headers_).then(function(e){null!==n.progressCallback_&&e.removeUploadProgressListener(r),n.pendingXhr_=null,e=e;var i=e.getErrorCode()===Gt.NO_ERROR,o=e.getStatus();if(!i||n.isRetryStatusCode_(o)){var a=e.getErrorCode()===Gt.ABORT;return void t(!1,new xe(!1,null,a))}var u=wt(n.successCodes_,o);t(!0,new xe(u,e))})}function e(t,e){var r=n.resolve_,i=n.reject_,a=e.xhr;if(e.wasSuccessCode)try{var u=n.callback_(a,a.getResponseText());U(u)?r(u):r()}catch(t){i(t)}else if(null!==a){var s=o();s.setServerResponseProp(a.getResponseText()),i(n.errorCallback_?n.errorCallback_(a,s):s)}else if(e.canceled){var s=n.appDelete_?m():f();i(s)}else{var s=l();i(s)}}var n=this;this.canceled_?e(!1,new xe(!1,null,!0)):this.backoffId_=Ut(t,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&Vt(this.backoffId_),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=[408,429],r=wt(n,t),i=wt(this.additionalRetryCodes_,t);return e||r||i},t}(),xe=function(){function t(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n}return t}(),Pe=function(){function t(t,e,n){function r(t,e){return new Te(t,e)}if(this.bucket_=null,this.authWrapper_=new Ce(t,r,qt,this,e),this.app_=t,null!=n)this.bucket_=he.makeFromBucketSpec(n);else{var i=this.authWrapper_.bucket();null!=i&&(this.bucket_=new he(i,""))}this.internals_=new Ne(this)}return t.prototype.ref=function(t){function e(t){if(/^[A-Za-z]+:\/\//.test(t))throw"Expected child path but got a URL, use refFromURL instead."}if(lt("ref",[ht(e,!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var n=new Te(this.authWrapper_,this.bucket_);return null!=t?n.child(t):n},t.prototype.refFromURL=function(t){function e(t){if(!/^[A-Za-z]+:\/\//.test(t))throw"Expected full URL but got a child path, use ref instead.";try{he.makeFromUrl(t)}catch(t){throw"Expected valid full URL but got an invalid one."}}return lt("refFromURL",[ht(e,!1)],arguments),new Te(this.authWrapper_,t)},Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this.authWrapper_.maxUploadRetryTime()},enumerable:!0,configurable:!0}),t.prototype.setMaxUploadRetryTime=function(t){lt("setMaxUploadRetryTime",[yt()],arguments),this.authWrapper_.setMaxUploadRetryTime(t)},Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this.authWrapper_.maxOperationRetryTime()},enumerable:!0,configurable:!0}),t.prototype.setMaxOperationRetryTime=function(t){lt("setMaxOperationRetryTime",[yt()],arguments),this.authWrapper_.setMaxOperationRetryTime(t)},Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!0,configurable:!0}),t}(),Ne=function(){function t(t){this.service_=t}return t.prototype.delete=function(){return this.service_.authWrapper_.deleteApp(),L(void 0)},t}(),Ae="storage";zt(Kt),e.registerStorage=zt},,,,,,,,function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.uploadFile=e.onceGetUsers=e.doCreateUser=void 0;var i=n(255),o=r(i);e.doCreateUser=function(t,e,n){return o.default.ref("users/"+t).set({username:e,email:n})},e.onceGetUsers=function(){return o.default.ref("users").once("value")},e.uploadFile=function(t,e){return o.default.ref("users/"+t+"/files").put("hello")}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.getLAIcoData=void 0;var i=n(394),o=r(i);e.getLAIcoData=function(){var t={},e=[],n="https://data.lacity.org/api/views/5zqq-cys2/rows.json?accessType=DOWNLOAD";(0,o.default)(n).then(function(t){return t.json()}).then(function(n){n.data.map(function(e){t.hasOwnProperty(e[12])?t[e[12]].size+=1:t[e[12]]={label:e[12],size:1}}),delete t["LOS ANGELES"],Object.values(t).map(function(t){1==t.size?t.opacity=.1:t.size<5?t.opacity=.5:t.size<10?t.opacity=.7:t.opacity=.99,t.style={border:"thin solid red"}});for(var r in t)e.push(t[r])});var r={title:"LA pre ICO",color:2,children:e};return r}},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}e.__esModule=!0,e.db=void 0;var i=n(373),o=r(i),a={apiKey:"AIzaSyCQG1sEbCVYYmCxBlhbY0ACZsP25BHh0u0",authDomain:"privet-83a48.firebaseapp.com",databaseURL:"https://privet-83a48.firebaseio.com",projectId:"privet-83a48",storageBucket:"privet-83a48.appspot.com",messagingSenderId:"864513816118"};o.apps.length||o.initializeApp(a);var u=o.database();e.db=u},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}e.__esModule=!0,e.db=e.fetchData=void 0;var i=n(254),o=r(i),a=n(253),u=r(a);e.fetchData=o,e.db=u},,,function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=n(1),s=r(u),c=n(256),l=n(496),f=n(260),h=r(f),p=c.fetchData.getLAIcoData(),d=function(t){function e(){var n,r,a;i(this,e);for(var u=arguments.length,s=Array(u),c=0;c<u;c++)s[c]=arguments[c];return n=r=o(this,t.call.apply(t,[this].concat(s))),r.state={hoveredNode:!1,treemapData:p,useCirclePacking:!1,hideRootNode:!1},a=n,o(r,a)}return a(e,t),e.prototype.render=function(){var t=this,e=this.state,n=(e.hoveredNode,e.useCirclePacking),r={animation:{damping:9,stiffness:300},data:this.state.treemapData,onLeafMouseOver:function(e){return t.setState({hoveredNode:e})},onLeafMouseOut:function(){return t.setState({hoveredNode:!1})},height:600,mode:this.state.useCirclePacking?"circlePack":"squarify",getLabel:function(t){return t.name},width:700,color:"orange"};return s.default.createElement("div",{className:"dynamic-treemap-example"},s.default.createElement(h.default,{onClick:function(){return t.setState({useCirclePacking:!n})},buttonContent:"TOGGLE CIRCLE PACK"}),s.default.createElement(l.Treemap,r))},e}(s.default.Component);e.default=d,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=n(1),s=r(u),c=n(2),l=r(c),f=function(t){function e(){return i(this,e),o(this,t.apply(this,arguments))}return a(e,t),e.prototype.render=function(){var t=this.props,e=t.buttonContent,n=t.onClick;return s.default.createElement("button",{className:"showcase-button",onClick:n},e)},e}(s.default.Component);f.PropTypes={buttonContent:l.default.string.isRequired,onClick:l.default.func.isRequired},e.default=f,t.exports=e.default},,,,,function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(1),o=r(i),a=n(80),u=(r(a),n(259)),s=r(u),c=function(){return o.default.createElement("div",{className:"container flex mb-4"},o.default.createElement(s.default,{className:"w-2/3 h-12"}),o.default.createElement("div",{className:"w-1/3 h-12 mt-8"},o.default.createElement("h2",{className:"relative pin-l pin-t bg-orange-lighter inline-block -mt-8 p-8 content-start"},"LA data Graph - Pre ICO by city, except from LA*"),o.default.createElement("p",{className:"bg-orange-base p-4"},"* LA had size 67 which would of dwarfed other cities")))};e.default=c,t.exports=e.default},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){!function(t,r){r(e,n(45))}(this,function(t,e){"use strict";function n(t,e){for(var n=e[0],i=e[1],o=-1,a=0,u=t.length,s=u-1;a<u;s=a++){var c=t[a],l=c[0],f=c[1],h=t[s],p=h[0],d=h[1];if(r(c,h,e))return 0;f>i!=d>i&&n<(p-l)*(i-f)/(d-f)+l&&(o=-o)}return o}function r(t,e,n){var r;return i(t,e,n)&&o(t[r=+(t[0]===e[0])],n[r],e[r])}function i(t,e,n){return(e[0]-t[0])*(n[1]-t[1])===(n[0]-t[0])*(e[1]-t[1])}function o(t,e,n){return t<=e&&e<=n||n<=e&&e<=t}function a(t,e,n){for(var r=t.width,i=t.height,o=(n<<1)+1,a=0;a<i;++a)for(var u=0,s=0;u<r+n;++u)u<r&&(s+=t.data[u+a*r]),u>=n&&(u>=o&&(s-=t.data[u-o+a*r]),e.data[u-n+a*r]=s/Math.min(u+1,r-1+o-u,o))}function u(t,e,n){for(var r=t.width,i=t.height,o=(n<<1)+1,a=0;a<r;++a)for(var u=0,s=0;u<i+n;++u)u<i&&(s+=t.data[a+u*r]),u>=n&&(u>=o&&(s-=t.data[a+(u-o)*r]),e.data[a+(u-n)*r]=s/Math.min(u+1,i-1+o-u,o))}function s(t){return t[0]}function c(t){return t[1]}var l=Array.prototype,f=l.slice,h=function(t,e){return t-e},p=function(t){for(var e=0,n=t.length,r=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];++e<n;)r+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return r},d=function(t){return function(){return t}},y=function(t,e){for(var r,i=-1,o=e.length;++i<o;)if(r=n(t,e[i]))return r;return 0},v=function(){},g=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]],_=function(){function t(t){var r=s(t);if(Array.isArray(r))r=r.slice().sort(h);else{var i=e.extent(t),o=i[0],a=i[1];r=e.tickStep(o,a,r),r=e.range(Math.floor(o/r)*r,Math.floor(a/r)*r,r)}return r.map(function(e){return n(t,e)})}function n(t,e){var n=[],i=[];return r(t,e,function(r){c(r,t,e),p(r)>0?n.push([r]):i.push(r)}),i.forEach(function(t){for(var e,r=0,i=n.length;r<i;++r)if(y((e=n[r])[0],t)!==-1)return void e.push(t)}),{type:"MultiPolygon",value:e,coordinates:n}}function r(t,e,n){function r(t){var e,r,a=[t[0][0]+o,t[0][1]+s],u=[t[1][0]+o,t[1][1]+s],c=i(a),l=i(u);(e=d[c])?(r=p[l])?(delete d[e.end],delete p[r.start],e===r?(e.ring.push(u),n(e.ring)):p[e.start]=d[r.end]={start:e.start,end:r.end,ring:e.ring.concat(r.ring)}):(delete d[e.end],e.ring.push(u),d[e.end=l]=e):(e=p[l])?(r=d[c])?(delete p[e.start],delete d[r.end],e===r?(e.ring.push(u),n(e.ring)):p[r.start]=d[e.end]={start:r.start,end:e.end,ring:r.ring.concat(e.ring)}):(delete p[e.start],e.ring.unshift(a),p[e.start=c]=e):p[c]=d[l]={start:c,end:l,ring:[a,u]}}var o,s,c,l,f,h,p=new Array,d=new Array;for(o=s=-1,l=t[0]>=e,g[l<<1].forEach(r);++o<a-1;)c=l,l=t[o+1]>=e,g[c|l<<1].forEach(r);for(g[l<<0].forEach(r);++s<u-1;){for(o=-1,l=t[s*a+a]>=e,f=t[s*a]>=e,g[l<<1|f<<2].forEach(r);++o<a-1;)c=l,l=t[s*a+a+o+1]>=e,h=f,f=t[s*a+o+1]>=e,g[c|l<<1|f<<2|h<<3].forEach(r);g[l|f<<3].forEach(r)}for(o=-1,f=t[s*a]>=e,g[f<<2].forEach(r);++o<a-1;)h=f,f=t[s*a+o+1]>=e,g[f<<2|h<<3].forEach(r);g[f<<3].forEach(r)}function i(t){return 2*t[0]+t[1]*(a+1)*4}function o(t,e,n){t.forEach(function(t){var r,i=t[0],o=t[1],s=0|i,c=0|o,l=e[c*a+s];i>0&&i<a&&s===i&&(r=e[c*a+s-1],t[0]=i+(n-r)/(l-r)-.5),o>0&&o<u&&c===o&&(r=e[(c-1)*a+s],t[1]=o+(n-r)/(l-r)-.5)})}var a=1,u=1,s=e.thresholdSturges,c=o;return t.contour=n,t.size=function(e){if(!arguments.length)return[a,u];var n=Math.ceil(e[0]),r=Math.ceil(e[1]);if(!(n>0&&r>0))throw new Error("invalid size");return a=n,u=r,t},t.thresholds=function(e){return arguments.length?(s="function"==typeof e?e:d(Array.isArray(e)?f.call(e):e),t):s},t.smooth=function(e){return arguments.length?(c=e?o:v,t):c===o},t},m=function(){function t(t){var r=new Float32Array(w*E),i=new Float32Array(w*E);t.forEach(function(t,e,n){var i=h(t,e,n)+b>>m,o=p(t,e,n)+b>>m;i>=0&&i<w&&o>=0&&o<E&&++r[i+o*w]}),a({width:w,height:E,data:r},{width:w,height:E,data:i},g>>m),u({width:w,height:E,data:i},{width:w,height:E,data:r},g>>m),a({width:w,height:E,data:r},{width:w,height:E,data:i},g>>m),u({width:w,height:E,data:i},{width:w,height:E,data:r},g>>m),a({width:w,height:E,data:r},{width:w,height:E,data:i},g>>m),u({width:w,height:E,data:i},{width:w,height:E,data:r},g>>m);var o=T(r);if(!Array.isArray(o)){var s=e.max(r);o=e.tickStep(0,s,o),o=e.range(0,Math.floor(s/o)*o,o),o.shift()}return _().thresholds(o).size([w,E])(r).map(n)}function n(t){return t.value*=Math.pow(2,-2*m),t.coordinates.forEach(r),t}function r(t){t.forEach(i)}function i(t){t.forEach(o)}function o(t){t[0]=t[0]*Math.pow(2,m)-b,t[1]=t[1]*Math.pow(2,m)-b}function l(){return b=3*g,w=y+2*b>>m,E=v+2*b>>m,t}var h=s,p=c,y=960,v=500,g=20,m=2,b=3*g,w=y+2*b>>m,E=v+2*b>>m,T=d(20);return t.x=function(e){return arguments.length?(h="function"==typeof e?e:d(+e),t):h},t.y=function(e){return arguments.length?(p="function"==typeof e?e:d(+e),t):p},t.size=function(t){if(!arguments.length)return[y,v];var e=Math.ceil(t[0]),n=Math.ceil(t[1]);if(!(e>=0||e>=0))throw new Error("invalid size");return y=e,v=n,l()},t.cellSize=function(t){if(!arguments.length)return 1<<m;if(!((t=+t)>=1))throw new Error("invalid cell size");return m=Math.floor(Math.log(t)/Math.LN2),l()},t.thresholds=function(e){return arguments.length?(T="function"==typeof e?e:d(Array.isArray(e)?f.call(e):e),t):T},t.bandwidth=function(t){if(!arguments.length)return Math.sqrt(g*(g+1));if(!((t=+t)>=0))throw new Error("invalid bandwidth");return g=Math.round((Math.sqrt(4*t*t+1)-1)/2),l()},t};t.contours=_,t.contourDensity=m,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e,n){!function(t,r){r(e,n(45))}(this,function(t,e){"use strict";function n(){return new r}function r(){this.reset()}function i(t,e,n){var r=t.s=e+n,i=r-e,o=r-i;t.t=e-o+(n-i)}function o(t){return t>1?0:t<-1?Dn:Math.acos(t)}function a(t){return t>1?Ln:t<-1?-Ln:Math.asin(t)}function u(t){return(t=Xn(t/2))*t}function s(){}function c(t,e){t&&tr.hasOwnProperty(t.type)&&tr[t.type](t,e)}function l(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function f(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)l(t[n],e,1);e.polygonEnd()}function h(t,e){t&&Zn.hasOwnProperty(t.type)?Zn[t.type](t,e):c(t,e)}function p(){rr.point=y}function d(){v(tn,en)}function y(t,e){rr.point=v,tn=t,en=e,t*=Vn,e*=Vn,nn=t,rn=Hn(e=e/2+jn),on=Xn(e)}function v(t,e){t*=Vn,e*=Vn,e=e/2+jn;var n=t-nn,r=n>=0?1:-1,i=r*n,o=Hn(e),a=Xn(e),u=on*a,s=rn*o+u*Hn(i),c=u*r*Xn(i);er.add(qn(c,s)),nn=t,rn=o,on=a}function g(t){return nr.reset(),h(t,rr),2*nr}function _(t){return[qn(t[1],t[0]),a(t[2])]}function m(t){var e=t[0],n=t[1],r=Hn(n);return[r*Hn(e),r*Xn(e),Xn(n)]}function b(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function w(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function E(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function T(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function S(t){var e=$n(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function O(t,e){dn.push(yn=[an=t,sn=t]),e<un&&(un=e),e>cn&&(cn=e)}function C(t,e){var n=m([t*Vn,e*Vn]);if(pn){var r=w(pn,n),i=[r[1],-r[0],0],o=w(i,r);S(o),o=_(o);var a,u=t-ln,s=u>0?1:-1,c=o[0]*Un*s,l=Bn(u)>180;l^(s*ln<c&&c<s*t)?(a=o[1]*Un,a>cn&&(cn=a)):(c=(c+360)%360-180,l^(s*ln<c&&c<s*t)?(a=-o[1]*Un,a<un&&(un=a)):(e<un&&(un=e),e>cn&&(cn=e))),l?t<ln?I(an,t)>I(an,sn)&&(sn=t):I(t,sn)>I(an,sn)&&(an=t):sn>=an?(t<an&&(an=t),t>sn&&(sn=t)):t>ln?I(an,t)>I(an,sn)&&(sn=t):I(t,sn)>I(an,sn)&&(an=t)}else dn.push(yn=[an=t,sn=t]);e<un&&(un=e),e>cn&&(cn=e),pn=n,ln=t}function k(){or.point=C}function x(){yn[0]=an,yn[1]=sn,or.point=O,pn=null}function P(t,e){if(pn){var n=t-ln;ir.add(Bn(n)>180?n+(n>0?360:-360):n)}else fn=t,hn=e;rr.point(t,e),C(t,e)}function N(){rr.lineStart()}function A(){P(fn,hn),rr.lineEnd(),Bn(ir)>Rn&&(an=-(sn=180)),yn[0]=an,yn[1]=sn,pn=null}function I(t,e){return(e-=t)<0?e+360:e}function R(t,e){return t[0]-e[0]}function M(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function D(t){var e,n,r,i,o,a,u;if(cn=sn=-(an=un=1/0),dn=[],h(t,or),n=dn.length){for(dn.sort(R),e=1,r=dn[0],o=[r];e<n;++e)i=dn[e],M(r,i[0])||M(r,i[1])?(I(r[0],i[1])>I(r[0],r[1])&&(r[1]=i[1]),I(i[0],r[1])>I(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-(1/0),n=o.length-1,e=0,r=o[n];e<=n;r=i,++e)i=o[e],(u=I(r[1],i[0]))>a&&(a=u,an=i[0],sn=r[1])}return dn=yn=null,an===1/0||un===1/0?[[NaN,NaN],[NaN,NaN]]:[[an,un],[sn,cn]]}function L(t,e){t*=Vn,e*=Vn;var n=Hn(e);j(n*Hn(t),n*Xn(t),Xn(e))}function j(t,e,n){++vn,_n+=(t-_n)/vn,mn+=(e-mn)/vn,bn+=(n-bn)/vn}function F(){ar.point=U}function U(t,e){t*=Vn,e*=Vn;var n=Hn(e);Pn=n*Hn(t),Nn=n*Xn(t),An=Xn(e),ar.point=V,j(Pn,Nn,An)}function V(t,e){t*=Vn,e*=Vn;var n=Hn(e),r=n*Hn(t),i=n*Xn(t),o=Xn(e),a=qn($n((a=Nn*o-An*i)*a+(a=An*r-Pn*o)*a+(a=Pn*i-Nn*r)*a),Pn*r+Nn*i+An*o);gn+=a,wn+=a*(Pn+(Pn=r)),En+=a*(Nn+(Nn=i)),Tn+=a*(An+(An=o)),j(Pn,Nn,An)}function B(){ar.point=L}function W(){ar.point=H}function q(){z(kn,xn),ar.point=L}function H(t,e){kn=t,xn=e,t*=Vn,e*=Vn,ar.point=z;var n=Hn(e);Pn=n*Hn(t),Nn=n*Xn(t),An=Xn(e),j(Pn,Nn,An)}function z(t,e){t*=Vn,e*=Vn;var n=Hn(e),r=n*Hn(t),i=n*Xn(t),o=Xn(e),u=Nn*o-An*i,s=An*r-Pn*o,c=Pn*i-Nn*r,l=$n(u*u+s*s+c*c),f=a(l),h=l&&-f/l;Sn+=h*u,On+=h*s,Cn+=h*c,gn+=f,wn+=f*(Pn+(Pn=r)),En+=f*(Nn+(Nn=i)),Tn+=f*(An+(An=o)),j(Pn,Nn,An)}function G(t){vn=gn=_n=mn=bn=wn=En=Tn=Sn=On=Cn=0,h(t,ar);var e=Sn,n=On,r=Cn,i=e*e+n*n+r*r;return i<Mn&&(e=wn,n=En,r=Tn,gn<Rn&&(e=_n,n=mn,r=bn),i=e*e+n*n+r*r,i<Mn)?[NaN,NaN]:[qn(n,e)*Un,a(r/$n(i))*Un]}function K(t){return function(){return t}}function Y(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return n=e.invert(n,r),n&&t.invert(n[0],n[1])}),n}function X(t,e){return[t>Dn?t-Fn:t<-Dn?t+Fn:t,e]}function Q(t,e,n){return(t%=Fn)?e||n?Y(J(t),Z(e,n)):J(t):e||n?Z(e,n):X}function $(t){return function(e,n){return e+=t,[e>Dn?e-Fn:e<-Dn?e+Fn:e,n]}}function J(t){var e=$(t);return e.invert=$(-t),e}function Z(t,e){function n(t,e){var n=Hn(e),s=Hn(t)*n,c=Xn(t)*n,l=Xn(e),f=l*r+s*i;return[qn(c*o-f*u,s*r-l*i),a(f*o+c*u)]}var r=Hn(t),i=Xn(t),o=Hn(e),u=Xn(e);return n.invert=function(t,e){var n=Hn(e),s=Hn(t)*n,c=Xn(t)*n,l=Xn(e),f=l*o-c*u;return[qn(c*o+l*u,s*r+f*i),a(f*r-s*i)]},n}function tt(t){function e(e){return e=t(e[0]*Vn,e[1]*Vn),e[0]*=Un,e[1]*=Un,e}return t=Q(t[0]*Vn,t[1]*Vn,t.length>2?t[2]*Vn:0),e.invert=function(e){return e=t.invert(e[0]*Vn,e[1]*Vn),e[0]*=Un,e[1]*=Un,e},e}function et(t,e,n,r,i,o){if(n){var a=Hn(e),u=Xn(e),s=r*n;null==i?(i=e+r*Fn,o=e-s/2):(i=nt(a,i),o=nt(a,o),(r>0?i<o:i>o)&&(i+=r*Fn));for(var c,l=i;r>0?l>o:l<o;l-=s)c=_([a,-u*Hn(l),-u*Xn(l)]),t.point(c[0],c[1])}}function nt(t,e){e=m(e),e[0]-=t,S(e);var n=o(-e[1]);return((-e[2]<0?-n:n)+Fn-Rn)%Fn}function rt(){function t(t,e){n.push(t=r(t,e)),t[0]*=Un,t[1]*=Un}function e(){var t=i.apply(this,arguments),e=o.apply(this,arguments)*Vn,s=a.apply(this,arguments)*Vn;return n=[],r=Q(-t[0]*Vn,-t[1]*Vn,0).invert,et(u,e,s,1),t={type:"Polygon",coordinates:[n]},n=r=null,t}var n,r,i=K([0,0]),o=K(90),a=K(6),u={point:t};return e.center=function(t){return arguments.length?(i="function"==typeof t?t:K([+t[0],+t[1]]),e):i},e.radius=function(t){return arguments.length?(o="function"==typeof t?t:K(+t),e):o},e.precision=function(t){return arguments.length?(a="function"==typeof t?t:K(+t),e):a},e}function it(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:s,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function ot(t,e){return Bn(t[0]-e[0])<Rn&&Bn(t[1]-e[1])<Rn}function at(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function ut(t,e,n,r,i){var o,a,u=[],s=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],a=t[e];if(ot(r,a)){for(i.lineStart(),o=0;o<e;++o)i.point((r=t[o])[0],r[1]);return void i.lineEnd()}u.push(n=new at(r,t,null,!0)),s.push(n.o=new at(r,null,n,!1)),u.push(n=new at(a,t,null,!1)),s.push(n.o=new at(a,null,n,!0))}}),u.length){for(s.sort(e),st(u),st(s),o=0,a=s.length;o<a;++o)s[o].e=n=!n;for(var c,l,f=u[0];;){for(var h=f,p=!0;h.v;)if((h=h.n)===f)return;c=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(o=0,a=c.length;o<a;++o)i.point((l=c[o])[0],l[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(p)for(c=h.p.z,o=c.length-1;o>=0;--o)i.point((l=c[o])[0],l[1]);else r(h.x,h.p.x,-1,i);h=h.p}h=h.o,c=h.z,p=!p}while(!h.v);i.lineEnd()}}}function st(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function ct(t,e){var n=e[0],r=e[1],i=Xn(r),o=[Xn(n),-Hn(n),0],u=0,s=0;_r.reset(),1===i?r=Ln+Rn:i===-1&&(r=-Ln-Rn);for(var c=0,l=t.length;c<l;++c)if(h=(f=t[c]).length)for(var f,h,p=f[h-1],d=p[0],y=p[1]/2+jn,v=Xn(y),g=Hn(y),_=0;_<h;++_,d=E,v=O,g=C,p=b){var b=f[_],E=b[0],T=b[1]/2+jn,O=Xn(T),C=Hn(T),k=E-d,x=k>=0?1:-1,P=x*k,N=P>Dn,A=v*O;if(_r.add(qn(A*x*Xn(P),g*C+A*Hn(P))),u+=N?k+x*Fn:k,N^d>=n^E>=n){var I=w(m(p),m(b));S(I);var R=w(o,I);S(R);var M=(N^k>=0?-1:1)*a(R[2]);(r>M||r===M&&(I[0]||I[1]))&&(s+=N^k>=0?1:-1)}}return(u<-Rn||u<Rn&&_r<-Rn)^1&s}function lt(t,n,r,i){return function(o){function a(e,n){t(e,n)&&o.point(e,n)}function u(t,e){v.point(t,e)}function s(){b.point=u,v.lineStart()}function c(){b.point=a,v.lineEnd()}function l(t,e){y.push([t,e]),_.point(t,e)}function f(){_.lineStart(),y=[]}function h(){l(y[0][0],y[0][1]),_.lineEnd();var t,e,n,r,i=_.clean(),a=g.result(),u=a.length;if(y.pop(),p.push(y),y=null,u)if(1&i){if(n=a[0],(e=n.length-1)>0){for(m||(o.polygonStart(),m=!0),o.lineStart(),t=0;t<e;++t)o.point((r=n[t])[0],r[1]);o.lineEnd()}}else u>1&&2&i&&a.push(a.pop().concat(a.shift())),d.push(a.filter(ft))}var p,d,y,v=n(o),g=it(),_=n(g),m=!1,b={point:a,lineStart:s,lineEnd:c,polygonStart:function(){b.point=l,b.lineStart=f,b.lineEnd=h,d=[],p=[]},polygonEnd:function(){b.point=a,b.lineStart=s,b.lineEnd=c,d=e.merge(d);var t=ct(p,i);d.length?(m||(o.polygonStart(),m=!0),ut(d,ht,t,r,o)):t&&(m||(o.polygonStart(),m=!0),o.lineStart(),r(null,null,1,o),o.lineEnd()),m&&(o.polygonEnd(),m=!1),d=p=null},sphere:function(){o.polygonStart(),o.lineStart(),r(null,null,1,o),o.lineEnd(),o.polygonEnd()}};return b}}function ft(t){return t.length>1}function ht(t,e){return((t=t.x)[0]<0?t[1]-Ln-Rn:Ln-t[1])-((e=e.x)[0]<0?e[1]-Ln-Rn:Ln-e[1])}function pt(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var u=o>0?Dn:-Dn,s=Bn(o-n);Bn(s-Dn)<Rn?(t.point(n,r=(r+a)/2>0?Ln:-Ln),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(u,r),t.point(o,r),e=0):i!==u&&s>=Dn&&(Bn(n-i)<Rn&&(n-=i*Rn),Bn(o-u)<Rn&&(o-=u*Rn),r=dt(n,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(u,r),e=0),t.point(n=o,r=a),i=u},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}function dt(t,e,n,r){var i,o,a=Xn(t-n);return Bn(a)>Rn?Wn((Xn(e)*(o=Hn(r))*Xn(n)-Xn(r)*(i=Hn(e))*Xn(t))/(i*o*a)):(e+r)/2}function yt(t,e,n,r){var i;if(null==t)i=n*Ln,r.point(-Dn,i),r.point(0,i),r.point(Dn,i),r.point(Dn,0),r.point(Dn,-i),r.point(0,-i),r.point(-Dn,-i),r.point(-Dn,0),r.point(-Dn,i);else if(Bn(t[0]-e[0])>Rn){var o=t[0]<e[0]?Dn:-Dn;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}function vt(t){function e(e,n,r,i){et(i,t,u,r,e,n)}function n(t,e){return Hn(t)*Hn(e)>a}function r(t){var e,r,a,u,l;return{lineStart:function(){u=a=!1,l=1},point:function(f,h){var p,d=[f,h],y=n(f,h),v=s?y?0:o(f,h):y?o(f+(f<0?Dn:-Dn),h):0;if(!e&&(u=a=y)&&t.lineStart(),y!==a&&(p=i(e,d),(!p||ot(e,p)||ot(d,p))&&(d[0]+=Rn,d[1]+=Rn,y=n(d[0],d[1]))),y!==a)l=0,y?(t.lineStart(),p=i(d,e),t.point(p[0],p[1])):(p=i(e,d),t.point(p[0],p[1]),t.lineEnd()),e=p;else if(c&&e&&s^y){var g;v&r||!(g=i(d,e,!0))||(l=0,s?(t.lineStart(),t.point(g[0][0],g[0][1]),t.point(g[1][0],g[1][1]),t.lineEnd()):(t.point(g[1][0],g[1][1]),t.lineEnd(),t.lineStart(),t.point(g[0][0],g[0][1])))}!y||e&&ot(e,d)||t.point(d[0],d[1]),e=d,a=y,r=v},lineEnd:function(){a&&t.lineEnd(),e=null},clean:function(){return l|(u&&a)<<1}}}function i(t,e,n){var r=m(t),i=m(e),o=[1,0,0],u=w(r,i),s=b(u,u),c=u[0],l=s-c*c;if(!l)return!n&&t;var f=a*s/l,h=-a*c/l,p=w(o,u),d=T(o,f),y=T(u,h);E(d,y);var v=p,g=b(d,v),S=b(v,v),O=g*g-S*(b(d,d)-1);if(!(O<0)){var C=$n(O),k=T(v,(-g-C)/S);if(E(k,d),k=_(k),!n)return k;var x,P=t[0],N=e[0],A=t[1],I=e[1];N<P&&(x=P,P=N,N=x);var R=N-P,M=Bn(R-Dn)<Rn,D=M||R<Rn;if(!M&&I<A&&(x=A,A=I,I=x),D?M?A+I>0^k[1]<(Bn(k[0]-P)<Rn?A:I):A<=k[1]&&k[1]<=I:R>Dn^(P<=k[0]&&k[0]<=N)){var L=T(v,(-g+C)/S);return E(L,d),[k,_(L)]}}}function o(e,n){var r=s?t:Dn-t,i=0;return e<-r?i|=1:e>r&&(i|=2),n<-r?i|=4:n>r&&(i|=8),i}var a=Hn(t),u=6*Vn,s=a>0,c=Bn(a)>Rn;return lt(n,r,e,s?[0,-t]:[-Dn,t-Dn])}function gt(t,e,n,r,i,o){var a,u=t[0],s=t[1],c=e[0],l=e[1],f=0,h=1,p=c-u,d=l-s;if(a=n-u,p||!(a>0)){if(a/=p,p<0){if(a<f)return;a<h&&(h=a)}else if(p>0){if(a>h)return;a>f&&(f=a)}if(a=i-u,p||!(a<0)){if(a/=p,p<0){if(a>h)return;a>f&&(f=a)}else if(p>0){if(a<f)return;a<h&&(h=a)}if(a=r-s,d||!(a>0)){if(a/=d,d<0){if(a<f)return;a<h&&(h=a)}else if(d>0){if(a>h)return;a>f&&(f=a)}if(a=o-s,d||!(a<0)){if(a/=d,d<0){if(a>h)return;a>f&&(f=a)}else if(d>0){if(a<f)return;a<h&&(h=a)}return f>0&&(t[0]=u+f*p,t[1]=s+f*d),h<1&&(e[0]=u+h*p,e[1]=s+h*d),!0}}}}}function _t(t,n,r,i){function o(e,o){return t<=e&&e<=r&&n<=o&&o<=i}function a(e,o,a,s){var l=0,f=0;if(null==e||(l=u(e,a))!==(f=u(o,a))||c(e,o)<0^a>0){do s.point(0===l||3===l?t:r,l>1?i:n);while((l=(l+a+4)%4)!==f)}else s.point(o[0],o[1])}function u(e,i){return Bn(e[0]-t)<Rn?i>0?0:3:Bn(e[0]-r)<Rn?i>0?2:1:Bn(e[1]-n)<Rn?i>0?1:0:i>0?3:2}function s(t,e){return c(t.x,e.x)}function c(t,e){var n=u(t,1),r=u(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(u){function c(t,e){o(t,e)&&k.point(t,e)}function l(){for(var e=0,n=0,r=g.length;n<r;++n)for(var o,a,u=g[n],s=1,c=u.length,l=u[0],f=l[0],h=l[1];s<c;++s)o=f,a=h,l=u[s],f=l[0],h=l[1],a<=i?h>i&&(f-o)*(i-a)>(h-a)*(t-o)&&++e:h<=i&&(f-o)*(i-a)<(h-a)*(t-o)&&--e;return e}function f(){k=x,v=[],g=[],C=!0}function h(){var t=l(),n=C&&t,r=(v=e.merge(v)).length;(n||r)&&(u.polygonStart(),n&&(u.lineStart(),a(null,null,1,u),u.lineEnd()),r&&ut(v,s,t,a,u),u.polygonEnd()),k=u,v=g=_=null}function p(){P.point=y,g&&g.push(_=[]),O=!0,S=!1,E=T=NaN}function d(){v&&(y(m,b),w&&S&&x.rejoin(),v.push(x.result())),P.point=c,S&&k.lineEnd()}function y(e,a){var u=o(e,a);if(g&&_.push([e,a]),O)m=e,b=a,w=u,O=!1,u&&(k.lineStart(),k.point(e,a));else if(u&&S)k.point(e,a);else{var s=[E=Math.max(wr,Math.min(br,E)),T=Math.max(wr,Math.min(br,T))],c=[e=Math.max(wr,Math.min(br,e)),a=Math.max(wr,Math.min(br,a))];gt(s,c,t,n,r,i)?(S||(k.lineStart(),k.point(s[0],s[1])),k.point(c[0],c[1]),u||k.lineEnd(),C=!1):u&&(k.lineStart(),k.point(e,a),C=!1)}E=e,T=a,S=u}var v,g,_,m,b,w,E,T,S,O,C,k=u,x=it(),P={point:c,lineStart:p,lineEnd:d,polygonStart:f,polygonEnd:h};return P}}function mt(){var t,e,n,r=0,i=0,o=960,a=500;return n={stream:function(n){return t&&e===n?t:t=_t(r,i,o,a)(e=n)},extent:function(u){return arguments.length?(r=+u[0][0],i=+u[0][1],o=+u[1][0],a=+u[1][1],t=e=null,n):[[r,i],[o,a]]}}}function bt(){Tr.point=Et,Tr.lineEnd=wt}function wt(){Tr.point=Tr.lineEnd=s}function Et(t,e){t*=Vn,e*=Vn,ur=t,sr=Xn(e),cr=Hn(e),Tr.point=Tt}function Tt(t,e){t*=Vn,e*=Vn;var n=Xn(e),r=Hn(e),i=Bn(t-ur),o=Hn(i),a=Xn(i),u=r*a,s=cr*n-sr*r*o,c=sr*n+cr*r*o;Er.add(qn($n(u*u+s*s),c)),ur=t,sr=n,cr=r}function St(t){return Er.reset(),h(t,Tr),+Er}function Ot(t,e){return Sr[0]=t,Sr[1]=e,St(Or)}function Ct(t,e){return!(!t||!kr.hasOwnProperty(t.type))&&kr[t.type](t,e)}function kt(t,e){return 0===Ot(t,e)}function xt(t,e){var n=Ot(t[0],t[1]),r=Ot(t[0],e),i=Ot(e,t[1]);return r+i<=n+Rn}function Pt(t,e){return!!ct(t.map(Nt),At(e))}function Nt(t){return t=t.map(At),t.pop(),t}function At(t){return[t[0]*Vn,t[1]*Vn]}function It(t,e){return(t&&Cr.hasOwnProperty(t.type)?Cr[t.type]:Ct)(t,e)}function Rt(t,n,r){var i=e.range(t,n-Rn,r).concat(n);return function(t){return i.map(function(e){return[t,e]})}}function Mt(t,n,r){var i=e.range(t,n-Rn,r).concat(n);return function(t){return i.map(function(e){
return[e,t]})}}function Dt(){function t(){return{type:"MultiLineString",coordinates:n()}}function n(){return e.range(zn(a/g)*g,o,g).map(p).concat(e.range(zn(l/_)*_,c,_).map(d)).concat(e.range(zn(i/y)*y,r,y).filter(function(t){return Bn(t%g)>Rn}).map(f)).concat(e.range(zn(s/v)*v,u,v).filter(function(t){return Bn(t%_)>Rn}).map(h))}var r,i,o,a,u,s,c,l,f,h,p,d,y=10,v=y,g=90,_=360,m=2.5;return t.lines=function(){return n().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[p(a).concat(d(c).slice(1),p(o).reverse().slice(1),d(l).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.extentMajor(e).extentMinor(e):t.extentMinor()},t.extentMajor=function(e){return arguments.length?(a=+e[0][0],o=+e[1][0],l=+e[0][1],c=+e[1][1],a>o&&(e=a,a=o,o=e),l>c&&(e=l,l=c,c=e),t.precision(m)):[[a,l],[o,c]]},t.extentMinor=function(e){return arguments.length?(i=+e[0][0],r=+e[1][0],s=+e[0][1],u=+e[1][1],i>r&&(e=i,i=r,r=e),s>u&&(e=s,s=u,u=e),t.precision(m)):[[i,s],[r,u]]},t.step=function(e){return arguments.length?t.stepMajor(e).stepMinor(e):t.stepMinor()},t.stepMajor=function(e){return arguments.length?(g=+e[0],_=+e[1],t):[g,_]},t.stepMinor=function(e){return arguments.length?(y=+e[0],v=+e[1],t):[y,v]},t.precision=function(e){return arguments.length?(m=+e,f=Rt(s,u,90),h=Mt(i,r,m),p=Rt(l,c,90),d=Mt(a,o,m),t):m},t.extentMajor([[-180,-90+Rn],[180,90-Rn]]).extentMinor([[-180,-80-Rn],[180,80+Rn]])}function Lt(){return Dt()()}function jt(t,e){var n=t[0]*Vn,r=t[1]*Vn,i=e[0]*Vn,o=e[1]*Vn,s=Hn(r),c=Xn(r),l=Hn(o),f=Xn(o),h=s*Hn(n),p=s*Xn(n),d=l*Hn(i),y=l*Xn(i),v=2*a($n(u(o-r)+s*l*u(i-n))),g=Xn(v),_=v?function(t){var e=Xn(t*=v)/g,n=Xn(v-t)/g,r=n*h+e*d,i=n*p+e*y,o=n*c+e*f;return[qn(i,r)*Un,qn(o,$n(r*r+i*i))*Un]}:function(){return[n*Un,r*Un]};return _.distance=v,_}function Ft(t){return t}function Ut(){Nr.point=Vt}function Vt(t,e){Nr.point=Bt,lr=hr=t,fr=pr=e}function Bt(t,e){Pr.add(pr*t-hr*e),hr=t,pr=e}function Wt(){Bt(lr,fr)}function qt(t,e){t<Ar&&(Ar=t),t>Rr&&(Rr=t),e<Ir&&(Ir=e),e>Mr&&(Mr=e)}function Ht(t,e){Lr+=t,jr+=e,++Fr}function zt(){zr.point=Gt}function Gt(t,e){zr.point=Kt,Ht(vr=t,gr=e)}function Kt(t,e){var n=t-vr,r=e-gr,i=$n(n*n+r*r);Ur+=i*(vr+t)/2,Vr+=i*(gr+e)/2,Br+=i,Ht(vr=t,gr=e)}function Yt(){zr.point=Ht}function Xt(){zr.point=$t}function Qt(){Jt(dr,yr)}function $t(t,e){zr.point=Jt,Ht(dr=vr=t,yr=gr=e)}function Jt(t,e){var n=t-vr,r=e-gr,i=$n(n*n+r*r);Ur+=i*(vr+t)/2,Vr+=i*(gr+e)/2,Br+=i,i=gr*t-vr*e,Wr+=i*(vr+t),qr+=i*(gr+e),Hr+=3*i,Ht(vr=t,gr=e)}function Zt(t){this._context=t}function te(t,e){Jr.point=ee,Kr=Xr=t,Yr=Qr=e}function ee(t,e){Xr-=t,Qr-=e,$r.add($n(Xr*Xr+Qr*Qr)),Xr=t,Qr=e}function ne(){this._string=[]}function re(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function ie(t,e){function n(t){return t&&("function"==typeof o&&i.pointRadius(+o.apply(this,arguments)),h(t,r(i))),i.result()}var r,i,o=4.5;return n.area=function(t){return h(t,r(Nr)),Nr.result()},n.measure=function(t){return h(t,r(Jr)),Jr.result()},n.bounds=function(t){return h(t,r(Dr)),Dr.result()},n.centroid=function(t){return h(t,r(zr)),zr.result()},n.projection=function(e){return arguments.length?(r=null==e?(t=null,Ft):(t=e).stream,n):t},n.context=function(t){return arguments.length?(i=null==t?(e=null,new ne):new Zt(e=t),"function"!=typeof o&&i.pointRadius(o),n):e},n.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(i.pointRadius(+t),+t),n):o},n.projection(t).context(e)}function oe(t){return{stream:ae(t)}}function ae(t){return function(e){var n=new ue;for(var r in t)n[r]=t[r];return n.stream=e,n}}function ue(){}function se(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),h(n,t.stream(Dr)),e(Dr.result()),null!=r&&t.clipExtent(r),t}function ce(t,e,n){return se(t,function(n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],o=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),a=+e[0][0]+(r-o*(n[1][0]+n[0][0]))/2,u=+e[0][1]+(i-o*(n[1][1]+n[0][1]))/2;t.scale(150*o).translate([a,u])},n)}function le(t,e,n){return ce(t,[[0,0],e],n)}function fe(t,e,n){return se(t,function(n){var r=+e,i=r/(n[1][0]-n[0][0]),o=(r-i*(n[1][0]+n[0][0]))/2,a=-i*n[0][1];t.scale(150*i).translate([o,a])},n)}function he(t,e,n){return se(t,function(n){var r=+e,i=r/(n[1][1]-n[0][1]),o=-i*n[0][0],a=(r-i*(n[1][1]+n[0][1]))/2;t.scale(150*i).translate([o,a])},n)}function pe(t,e){return+e?ye(t,e):de(t)}function de(t){return ae({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function ye(t,e){function n(r,i,o,u,s,c,l,f,h,p,d,y,v,g){var _=l-r,m=f-i,b=_*_+m*m;if(b>4*e&&v--){var w=u+p,E=s+d,T=c+y,S=$n(w*w+E*E+T*T),O=a(T/=S),C=Bn(Bn(T)-1)<Rn||Bn(o-h)<Rn?(o+h)/2:qn(E,w),k=t(C,O),x=k[0],P=k[1],N=x-r,A=P-i,I=m*N-_*A;(I*I/b>e||Bn((_*N+m*A)/b-.5)>.3||u*p+s*d+c*y<ti)&&(n(r,i,o,u,s,c,x,P,C,w/=S,E/=S,T,v,g),g.point(x,P),n(x,P,C,w,E,T,l,f,h,p,d,y,v,g))}}return function(e){function r(n,r){n=t(n,r),e.point(n[0],n[1])}function i(){g=NaN,T.point=o,e.lineStart()}function o(r,i){var o=m([r,i]),a=t(r,i);n(g,_,v,b,w,E,g=a[0],_=a[1],v=r,b=o[0],w=o[1],E=o[2],Zr,e),e.point(g,_)}function a(){T.point=r,e.lineEnd()}function u(){i(),T.point=s,T.lineEnd=c}function s(t,e){o(l=t,e),f=g,h=_,p=b,d=w,y=E,T.point=o}function c(){n(g,_,v,b,w,E,f,h,l,p,d,y,Zr,e),T.lineEnd=a,a()}var l,f,h,p,d,y,v,g,_,b,w,E,T={point:r,lineStart:i,lineEnd:a,polygonStart:function(){e.polygonStart(),T.lineStart=u},polygonEnd:function(){e.polygonEnd(),T.lineStart=i}};return T}}function ve(t){return ae({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function ge(t,e,n){function r(r,i){return[e+t*r,n-t*i]}return r.invert=function(r,i){return[(r-e)/t,(n-i)/t]},r}function _e(t,e,n,r){function i(t,r){return[u*t-s*r+e,n-s*t-u*r]}var o=Hn(r),a=Xn(r),u=o*t,s=a*t,c=o/t,l=a/t,f=(a*n-o*e)/t,h=(a*e+o*n)/t;return i.invert=function(t,e){return[c*t-l*e+f,h-l*t-c*e]},i}function me(t){return be(function(){return t})()}function be(t){function e(t){return h(t[0]*Vn,t[1]*Vn)}function n(t){return t=h.invert(t[0],t[1]),t&&[t[0]*Un,t[1]*Un]}function r(){var t=_e(y,0,0,T).apply(null,o(_,m)),e=(T?_e:ge)(y,v-t[0],g-t[1],T);return a=Q(b,w,E),f=Y(o,e),h=Y(a,f),l=pe(f,x),i()}function i(){return p=d=null,e}var o,a,u,s,c,l,f,h,p,d,y=150,v=480,g=250,_=0,m=0,b=0,w=0,E=0,T=0,S=null,O=mr,C=null,k=Ft,x=.5;return e.stream=function(t){return p&&d===t?p:p=ei(ve(a)(O(l(k(d=t)))))},e.preclip=function(t){return arguments.length?(O=t,S=void 0,i()):O},e.postclip=function(t){return arguments.length?(k=t,C=u=s=c=null,i()):k},e.clipAngle=function(t){return arguments.length?(O=+t?vt(S=t*Vn):(S=null,mr),i()):S*Un},e.clipExtent=function(t){return arguments.length?(k=null==t?(C=u=s=c=null,Ft):_t(C=+t[0][0],u=+t[0][1],s=+t[1][0],c=+t[1][1]),i()):null==C?null:[[C,u],[s,c]]},e.scale=function(t){return arguments.length?(y=+t,r()):y},e.translate=function(t){return arguments.length?(v=+t[0],g=+t[1],r()):[v,g]},e.center=function(t){return arguments.length?(_=t[0]%360*Vn,m=t[1]%360*Vn,r()):[_*Un,m*Un]},e.rotate=function(t){return arguments.length?(b=t[0]%360*Vn,w=t[1]%360*Vn,E=t.length>2?t[2]%360*Vn:0,r()):[b*Un,w*Un,E*Un]},e.angle=function(t){return arguments.length?(T=t%360*Vn,r()):T*Un},e.precision=function(t){return arguments.length?(l=pe(f,x=t*t),i()):$n(x)},e.fitExtent=function(t,n){return ce(e,t,n)},e.fitSize=function(t,n){return le(e,t,n)},e.fitWidth=function(t,n){return fe(e,t,n)},e.fitHeight=function(t,n){return he(e,t,n)},function(){return o=t.apply(this,arguments),e.invert=o.invert&&n,r()}}function we(t){var e=0,n=Dn/3,r=be(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*Vn,n=t[1]*Vn):[e*Un,n*Un]},i}function Ee(t){function e(t,e){return[t*n,Xn(e)/n]}var n=Hn(t);return e.invert=function(t,e){return[t/n,a(e*n)]},e}function Te(t,e){function n(t,e){var n=$n(o-2*i*Xn(e))/i;return[n*Xn(t*=i),u-n*Hn(t)]}var r=Xn(t),i=(r+Xn(e))/2;if(Bn(i)<Rn)return Ee(t);var o=1+r*(2*i-r),u=$n(o)/i;return n.invert=function(t,e){var n=u-e;return[qn(t,Bn(n))/i*Qn(n),a((o-(t*t+n*n)*i*i)/(2*i))]},n}function Se(){return we(Te).scale(155.424).center([0,33.6442])}function Oe(){return Se().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Ce(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function ke(){function t(t){var e=t[0],n=t[1];return u=null,i.point(e,n),u||(o.point(e,n),u)||(a.point(e,n),u)}function e(){return n=r=null,t}var n,r,i,o,a,u,s=Oe(),c=Se().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=Se().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f={point:function(t,e){u=[t,e]}};return t.invert=function(t){var e=s.scale(),n=s.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?c:i>=.166&&i<.234&&r>=-.214&&r<-.115?l:s).invert(t)},t.stream=function(t){return n&&r===t?n:n=Ce([s.stream(r=t),c.stream(t),l.stream(t)])},t.precision=function(t){return arguments.length?(s.precision(t),c.precision(t),l.precision(t),e()):s.precision()},t.scale=function(e){return arguments.length?(s.scale(e),c.scale(.35*e),l.scale(e),t.translate(s.translate())):s.scale()},t.translate=function(t){if(!arguments.length)return s.translate();var n=s.scale(),r=+t[0],u=+t[1];return i=s.translate(t).clipExtent([[r-.455*n,u-.238*n],[r+.455*n,u+.238*n]]).stream(f),o=c.translate([r-.307*n,u+.201*n]).clipExtent([[r-.425*n+Rn,u+.12*n+Rn],[r-.214*n-Rn,u+.234*n-Rn]]).stream(f),a=l.translate([r-.205*n,u+.212*n]).clipExtent([[r-.214*n+Rn,u+.166*n+Rn],[r-.115*n-Rn,u+.234*n-Rn]]).stream(f),e()},t.fitExtent=function(e,n){return ce(t,e,n)},t.fitSize=function(e,n){return le(t,e,n)},t.fitWidth=function(e,n){return fe(t,e,n)},t.fitHeight=function(e,n){return he(t,e,n)},t.scale(1070)}function xe(t){return function(e,n){var r=Hn(e),i=Hn(n),o=t(r*i);return[o*i*Xn(e),o*Xn(n)]}}function Pe(t){return function(e,n){var r=$n(e*e+n*n),i=t(r),o=Xn(i),u=Hn(i);return[qn(e*o,r*u),a(r&&n*o/r)]}}function Ne(){return me(ni).scale(124.75).clipAngle(179.999)}function Ae(){return me(ri).scale(79.4188).clipAngle(179.999)}function Ie(t,e){return[t,Kn(Jn((Ln+e)/2))]}function Re(){return Me(Ie).scale(961/Fn)}function Me(t){function e(){var e=Dn*u(),a=o(tt(o.rotate()).invert([0,0]));return c(null==l?[[a[0]-e,a[1]-e],[a[0]+e,a[1]+e]]:t===Ie?[[Math.max(a[0]-e,l),n],[Math.min(a[0]+e,r),i]]:[[l,Math.max(a[1]-e,n)],[r,Math.min(a[1]+e,i)]])}var n,r,i,o=me(t),a=o.center,u=o.scale,s=o.translate,c=o.clipExtent,l=null;return o.scale=function(t){return arguments.length?(u(t),e()):u()},o.translate=function(t){return arguments.length?(s(t),e()):s()},o.center=function(t){return arguments.length?(a(t),e()):a()},o.clipExtent=function(t){return arguments.length?(null==t?l=n=r=i=null:(l=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),e()):null==l?null:[[l,n],[r,i]]},e()}function De(t){return Jn((Ln+t)/2)}function Le(t,e){function n(t,e){o>0?e<-Ln+Rn&&(e=-Ln+Rn):e>Ln-Rn&&(e=Ln-Rn);var n=o/Yn(De(e),i);return[n*Xn(i*t),o-n*Hn(i*t)]}var r=Hn(t),i=t===e?Xn(t):Kn(r/Hn(e))/Kn(De(e)/De(t)),o=r*Yn(De(t),i)/i;return i?(n.invert=function(t,e){var n=o-e,r=Qn(i)*$n(t*t+n*n);return[qn(t,Bn(n))/i*Qn(n),2*Wn(Yn(o/r,1/i))-Ln]},n):Ie}function je(){return we(Le).scale(109.5).parallels([30,30])}function Fe(t,e){return[t,e]}function Ue(){return me(Fe).scale(152.63)}function Ve(t,e){function n(t,e){var n=o-e,r=i*t;return[n*Xn(r),o-n*Hn(r)]}var r=Hn(t),i=t===e?Xn(t):(r-Hn(e))/(e-t),o=r/i+t;return Bn(i)<Rn?Fe:(n.invert=function(t,e){var n=o-e;return[qn(t,Bn(n))/i*Qn(n),o-Qn(i)*$n(t*t+n*n)]},n)}function Be(){return we(Ve).scale(131.154).center([0,13.9389])}function We(t,e){var n=Hn(e),r=Hn(t)*n;return[n*Xn(t)/r,Xn(e)/r]}function qe(){return me(We).scale(144.049).clipAngle(60)}function He(t,e,n,r){return 1===t&&1===e&&0===n&&0===r?Ft:ae({point:function(i,o){this.stream.point(i*t+n,o*e+r)}})}function ze(){function t(){return i=o=null,a}var e,n,r,i,o,a,u=1,s=0,c=0,l=1,f=1,h=Ft,p=null,d=Ft;return a={stream:function(t){return i&&o===t?i:i=h(d(o=t))},postclip:function(i){return arguments.length?(d=i,p=e=n=r=null,t()):d},clipExtent:function(i){return arguments.length?(d=null==i?(p=e=n=r=null,Ft):_t(p=+i[0][0],e=+i[0][1],n=+i[1][0],r=+i[1][1]),t()):null==p?null:[[p,e],[n,r]]},scale:function(e){return arguments.length?(h=He((u=+e)*l,u*f,s,c),t()):u},translate:function(e){return arguments.length?(h=He(u*l,u*f,s=+e[0],c=+e[1]),t()):[s,c]},reflectX:function(e){return arguments.length?(h=He(u*(l=e?-1:1),u*f,s,c),t()):l<0},reflectY:function(e){return arguments.length?(h=He(u*l,u*(f=e?-1:1),s,c),t()):f<0},fitExtent:function(t,e){return ce(a,t,e)},fitSize:function(t,e){return le(a,t,e)},fitWidth:function(t,e){return fe(a,t,e)},fitHeight:function(t,e){return he(a,t,e)}}}function Ge(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),e*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}function Ke(){return me(Ge).scale(175.295)}function Ye(t,e){return[Hn(e)*Xn(t),Xn(e)]}function Xe(){return me(Ye).scale(249.5).clipAngle(90+Rn)}function Qe(t,e){var n=Hn(e),r=1+Hn(t)*n;return[n*Xn(t)/r,Xn(e)/r]}function $e(){return me(Qe).scale(250).clipAngle(142)}function Je(t,e){return[Kn(Jn((Ln+e)/2)),-t]}function Ze(){var t=Me(Je),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])},n([0,0,90]).scale(159.155)}r.prototype={constructor:r,reset:function(){this.s=this.t=0},add:function(t){i(In,t,this.t),i(this,In.s,this.s),this.s?this.t+=In.t:this.s=In.t},valueOf:function(){return this.s}};var tn,en,nn,rn,on,an,un,sn,cn,ln,fn,hn,pn,dn,yn,vn,gn,_n,mn,bn,wn,En,Tn,Sn,On,Cn,kn,xn,Pn,Nn,An,In=new r,Rn=1e-6,Mn=1e-12,Dn=Math.PI,Ln=Dn/2,jn=Dn/4,Fn=2*Dn,Un=180/Dn,Vn=Dn/180,Bn=Math.abs,Wn=Math.atan,qn=Math.atan2,Hn=Math.cos,zn=Math.ceil,Gn=Math.exp,Kn=Math.log,Yn=Math.pow,Xn=Math.sin,Qn=Math.sign||function(t){return t>0?1:t<0?-1:0},$n=Math.sqrt,Jn=Math.tan,Zn={Feature:function(t,e){c(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)c(n[r].geometry,e)}},tr={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){l(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)l(n[r],e,0)},Polygon:function(t,e){f(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)f(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)c(n[r],e)}},er=n(),nr=n(),rr={point:s,lineStart:s,lineEnd:s,polygonStart:function(){er.reset(),rr.lineStart=p,rr.lineEnd=d},polygonEnd:function(){var t=+er;nr.add(t<0?Fn+t:t),this.lineStart=this.lineEnd=this.point=s},sphere:function(){nr.add(Fn)}},ir=n(),or={point:O,lineStart:k,lineEnd:x,polygonStart:function(){or.point=P,or.lineStart=N,or.lineEnd=A,ir.reset(),rr.polygonStart()},polygonEnd:function(){rr.polygonEnd(),or.point=O,or.lineStart=k,or.lineEnd=x,er<0?(an=-(sn=180),un=-(cn=90)):ir>Rn?cn=90:ir<-Rn&&(un=-90),yn[0]=an,yn[1]=sn}},ar={sphere:s,point:L,lineStart:F,lineEnd:B,polygonStart:function(){ar.lineStart=W,ar.lineEnd=q},polygonEnd:function(){ar.lineStart=F,ar.lineEnd=B}};X.invert=X;var ur,sr,cr,lr,fr,hr,pr,dr,yr,vr,gr,_r=n(),mr=lt(function(){return!0},pt,yt,[-Dn,-Ln]),br=1e9,wr=-br,Er=n(),Tr={sphere:s,point:s,lineStart:bt,lineEnd:s,polygonStart:s,polygonEnd:s},Sr=[null,null],Or={type:"LineString",coordinates:Sr},Cr={Feature:function(t,e){return Ct(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(Ct(n[r].geometry,e))return!0;return!1}},kr={Sphere:function(){return!0},Point:function(t,e){return kt(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(kt(n[r],e))return!0;return!1},LineString:function(t,e){return xt(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(xt(n[r],e))return!0;return!1},Polygon:function(t,e){return Pt(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(Pt(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(Ct(n[r],e))return!0;return!1}},xr=n(),Pr=n(),Nr={point:s,lineStart:s,lineEnd:s,polygonStart:function(){Nr.lineStart=Ut,Nr.lineEnd=Wt},polygonEnd:function(){Nr.lineStart=Nr.lineEnd=Nr.point=s,xr.add(Bn(Pr)),Pr.reset()},result:function(){var t=xr/2;return xr.reset(),t}},Ar=1/0,Ir=Ar,Rr=-Ar,Mr=Rr,Dr={point:qt,lineStart:s,lineEnd:s,polygonStart:s,polygonEnd:s,result:function(){var t=[[Ar,Ir],[Rr,Mr]];return Rr=Mr=-(Ir=Ar=1/0),t}},Lr=0,jr=0,Fr=0,Ur=0,Vr=0,Br=0,Wr=0,qr=0,Hr=0,zr={point:Ht,lineStart:zt,lineEnd:Yt,polygonStart:function(){zr.lineStart=Xt,zr.lineEnd=Qt},polygonEnd:function(){zr.point=Ht,zr.lineStart=zt,zr.lineEnd=Yt},result:function(){var t=Hr?[Wr/Hr,qr/Hr]:Br?[Ur/Br,Vr/Br]:Fr?[Lr/Fr,jr/Fr]:[NaN,NaN];return Lr=jr=Fr=Ur=Vr=Br=Wr=qr=Hr=0,t}};Zt.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Fn)}},result:s};var Gr,Kr,Yr,Xr,Qr,$r=n(),Jr={point:s,lineStart:function(){Jr.point=te},lineEnd:function(){Gr&&ee(Kr,Yr),Jr.point=s},polygonStart:function(){Gr=!0},polygonEnd:function(){Gr=null},result:function(){var t=+$r;return $r.reset(),t}};ne.prototype={_radius:4.5,_circle:re(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=re(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}},ue.prototype={constructor:ue,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Zr=16,ti=Hn(30*Vn),ei=ae({point:function(t,e){this.stream.point(t*Vn,e*Vn)}}),ni=xe(function(t){return $n(2/(1+t))});ni.invert=Pe(function(t){return 2*a(t/2)});var ri=xe(function(t){return(t=o(t))&&t/Xn(t)});ri.invert=Pe(function(t){return t}),Ie.invert=function(t,e){return[t,2*Wn(Gn(e))-Ln]},Fe.invert=Fe,We.invert=Pe(Wn),Ge.invert=function(t,e){var n,r=e,i=25;do{var o=r*r,a=o*o;r-=n=(r*(1.007226+o*(.015085+a*(-.044475+.028874*o-.005916*a)))-e)/(1.007226+o*(.045255+a*(-.311325+.259866*o-.005916*11*a)))}while(Bn(n)>Rn&&--i>0);return[t/(.8707+(o=r*r)*(-.131979+o*(-.013791+o*o*o*(.003971-.001529*o)))),r]},Ye.invert=Pe(a),Qe.invert=Pe(function(t){return 2*Wn(t)}),Je.invert=function(t,e){return[-e,2*Wn(Gn(t))-Ln]},t.geoArea=g,t.geoBounds=D,t.geoCentroid=G,t.geoCircle=rt,t.geoClipAntimeridian=mr,t.geoClipCircle=vt,t.geoClipExtent=mt,t.geoClipRectangle=_t,t.geoContains=It,t.geoDistance=Ot,t.geoGraticule=Dt,t.geoGraticule10=Lt,t.geoInterpolate=jt,t.geoLength=St,t.geoPath=ie,t.geoAlbers=Oe,t.geoAlbersUsa=ke,t.geoAzimuthalEqualArea=Ne,t.geoAzimuthalEqualAreaRaw=ni,t.geoAzimuthalEquidistant=Ae,t.geoAzimuthalEquidistantRaw=ri,t.geoConicConformal=je,t.geoConicConformalRaw=Le,t.geoConicEqualArea=Se,t.geoConicEqualAreaRaw=Te,t.geoConicEquidistant=Be,t.geoConicEquidistantRaw=Ve,t.geoEquirectangular=Ue,t.geoEquirectangularRaw=Fe,t.geoGnomonic=qe,t.geoGnomonicRaw=We,t.geoIdentity=ze,t.geoProjection=me,t.geoProjectionMutator=be,t.geoMercator=Re,t.geoMercatorRaw=Ie,t.geoNaturalEarth1=Ke,t.geoNaturalEarth1Raw=Ge,t.geoOrthographic=Xe,t.geoOrthographicRaw=Ye,t.geoStereographic=$e,t.geoStereographicRaw=Qe,t.geoTransverseMercator=Ze,t.geoTransverseMercatorRaw=Je,t.geoRotation=tt,t.geoStream=h,t.geoTransform=oe,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e,n){!function(t,n){n(e)}(this,function(t){"use strict";function e(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function n(){return new e}var r=Math.PI,i=2*r,o=1e-6,a=i-o;e.prototype=n.prototype={constructor:e,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,i,a){t=+t,e=+e,n=+n,i=+i,a=+a;var u=this._x1,s=this._y1,c=n-t,l=i-e,f=u-t,h=s-e,p=f*f+h*h;if(a<0)throw new Error("negative radius: "+a);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(p>o)if(Math.abs(h*c-l*f)>o&&a){var d=n-u,y=i-s,v=c*c+l*l,g=d*d+y*y,_=Math.sqrt(v),m=Math.sqrt(p),b=a*Math.tan((r-Math.acos((v+p-g)/(2*_*m)))/2),w=b/m,E=b/_;Math.abs(w-1)>o&&(this._+="L"+(t+w*f)+","+(e+w*h)),this._+="A"+a+","+a+",0,0,"+ +(h*d>f*y)+","+(this._x1=t+E*c)+","+(this._y1=e+E*l)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,u,s,c){t=+t,e=+e,n=+n;var l=n*Math.cos(u),f=n*Math.sin(u),h=t+l,p=e+f,d=1^c,y=c?u-s:s-u;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+h+","+p:(Math.abs(this._x1-h)>o||Math.abs(this._y1-p)>o)&&(this._+="L"+h+","+p),n&&(y<0&&(y=y%i+i),y>a?this._+="A"+n+","+n+",0,1,"+d+","+(t-l)+","+(e-f)+"A"+n+","+n+",0,1,"+d+","+(this._x1=h)+","+(this._y1=p):y>o&&(this._+="A"+n+","+n+",0,"+ +(y>=r)+","+d+","+(this._x1=t+n*Math.cos(s))+","+(this._y1=e+n*Math.sin(s))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}},t.path=n,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e,n){!function(t,r){r(e,n(45),n(117),n(61))}(this,function(t,e,n,r){"use strict";function i(t){return t.target.depth}function o(t){return t.depth}function a(t,e){return e-1-t.height}function u(t,e){return t.sourceLinks.length?t.depth:e-1}function s(t){return t.targetLinks.length?t.depth:t.sourceLinks.length?e.min(t.sourceLinks,i)-1:0}function c(t){return function(){return t}}function l(t,e){return h(t.source,e.source)||t.index-e.index}function f(t,e){return h(t.target,e.target)||t.index-e.index}function h(t,e){return t.y0-e.y0}function p(t){return t.value}function d(t){return(t.y0+t.y1)/2}function y(t){return d(t.source)*t.value}function v(t){return d(t.target)*t.value}function g(t){return t.index}function _(t){return t.nodes}function m(t){return t.links}function b(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}function w(t){return[t.source.x1,t.y0]}function E(t){return[t.target.x0,t.y1]}var T=function(){function t(){var t={nodes:P.apply(null,arguments),links:N.apply(null,arguments)};return r(t),i(t),o(t),a(t,A),s(t),t}function r(t){t.nodes.forEach(function(t,e){t.index=e,t.sourceLinks=[],t.targetLinks=[]});var e=n.map(t.nodes,k);t.links.forEach(function(t,n){t.index=n;var r=t.source,i=t.target;"object"!=typeof r&&(r=t.source=b(e,r)),"object"!=typeof i&&(i=t.target=b(e,i)),r.sourceLinks.push(t),i.targetLinks.push(t)})}function i(t){t.nodes.forEach(function(t){t.value=Math.max(e.sum(t.sourceLinks,p),e.sum(t.targetLinks,p))})}function o(t){var e,n,r;for(e=t.nodes,n=[],r=0;e.length;++r,e=n,n=[])e.forEach(function(t){t.depth=r,t.sourceLinks.forEach(function(t){n.indexOf(t.target)<0&&n.push(t.target)})});for(e=t.nodes,n=[],r=0;e.length;++r,e=n,n=[])e.forEach(function(t){t.height=r,t.targetLinks.forEach(function(t){n.indexOf(t.source)<0&&n.push(t.source)})});var i=(T-w-O)/(r-1);t.nodes.forEach(function(t){t.x1=(t.x0=w+Math.max(0,Math.min(r-1,Math.floor(x.call(null,t,r))))*i)+O})}function a(t){function r(){var n=e.min(u,function(t){return(S-E-(t.length-1)*C)/e.sum(t,p)});u.forEach(function(t){t.forEach(function(t,e){t.y1=(t.y0=e)+t.value*n})}),t.links.forEach(function(t){t.width=t.value*n})}function i(t){u.forEach(function(n){n.forEach(function(n){if(n.targetLinks.length){var r=(e.sum(n.targetLinks,y)/e.sum(n.targetLinks,p)-d(n))*t;n.y0+=r,n.y1+=r}})})}function o(t){u.slice().reverse().forEach(function(n){n.forEach(function(n){if(n.sourceLinks.length){var r=(e.sum(n.sourceLinks,v)/e.sum(n.sourceLinks,p)-d(n))*t;n.y0+=r,n.y1+=r}})})}function a(){u.forEach(function(t){var e,n,r,i=E,o=t.length;for(t.sort(h),r=0;r<o;++r)e=t[r],n=i-e.y0,n>0&&(e.y0+=n,e.y1+=n),i=e.y1+C;if(n=i-C-S,n>0)for(i=e.y0-=n,e.y1-=n,r=o-2;r>=0;--r)e=t[r],n=e.y1+C-i,n>0&&(e.y0-=n,e.y1-=n),i=e.y0})}var u=n.nest().key(function(t){return t.x0}).sortKeys(e.ascending).entries(t.nodes).map(function(t){return t.values});r(),a();for(var s=1,c=A;c>0;--c)o(s*=.99),a(),i(s),a()}function s(t){t.nodes.forEach(function(t){t.sourceLinks.sort(f),t.targetLinks.sort(l)}),t.nodes.forEach(function(t){var e=t.y0,n=e;t.sourceLinks.forEach(function(t){t.y0=e+t.width/2,e+=t.width}),t.targetLinks.forEach(function(t){t.y1=n+t.width/2,n+=t.width})})}var w=0,E=0,T=1,S=1,O=24,C=8,k=g,x=u,P=_,N=m,A=32;return t.update=function(t){return s(t),t},t.nodeId=function(e){return arguments.length?(k="function"==typeof e?e:c(e),t):k},t.nodeAlign=function(e){return arguments.length?(x="function"==typeof e?e:c(e),t):x},t.nodeWidth=function(e){return arguments.length?(O=+e,t):O},t.nodePadding=function(e){return arguments.length?(C=+e,t):C},t.nodes=function(e){return arguments.length?(P="function"==typeof e?e:c(e),t):P},t.links=function(e){return arguments.length?(N="function"==typeof e?e:c(e),t):N},t.size=function(e){return arguments.length?(w=E=0,T=+e[0],S=+e[1],t):[T-w,S-E]},t.extent=function(e){return arguments.length?(w=+e[0][0],T=+e[1][0],E=+e[0][1],S=+e[1][1],t):[[w,E],[T,S]]},t.iterations=function(e){return arguments.length?(A=+e,t):A},t},S=function(){return r.linkHorizontal().source(w).target(E)};t.sankey=T,t.sankeyCenter=s,t.sankeyLeft=o,t.sankeyRight=a,t.sankeyJustify=u,t.sankeyLinkHorizontal=S,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e,n){!function(t,r){r(e,n(187))}(this,function(t,e){"use strict";function n(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function r(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function i(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function o(t){function o(t,e){return function(n){var r,i,o,a=[],u=-1,s=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++u<c;)37===t.charCodeAt(u)&&(a.push(t.slice(s,u)),null!=(i=vt[r=t.charAt(++u)])?r=t.charAt(++u):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),s=u+1);return a.push(t.slice(s,u)),a.join("")}}function a(t,n){return function(o){var a,s,c=i(1900),l=u(c,t,o+="",0);if(l!=o.length)return null;if("Q"in c)return new Date(c.Q);if("p"in c&&(c.H=c.H%12+12*c.p),"V"in c){if(c.V<1||c.V>53)return null;"w"in c||(c.w=1),"Z"in c?(a=r(i(c.y)),s=a.getUTCDay(),a=s>4||0===s?e.utcMonday.ceil(a):e.utcMonday(a),a=e.utcDay.offset(a,7*(c.V-1)),c.y=a.getUTCFullYear(),c.m=a.getUTCMonth(),c.d=a.getUTCDate()+(c.w+6)%7):(a=n(i(c.y)),s=a.getDay(),a=s>4||0===s?e.timeMonday.ceil(a):e.timeMonday(a),a=e.timeDay.offset(a,7*(c.V-1)),c.y=a.getFullYear(),c.m=a.getMonth(),c.d=a.getDate()+(c.w+6)%7)}else("W"in c||"U"in c)&&("w"in c||(c.w="u"in c?c.u%7:"W"in c?1:0),s="Z"in c?r(i(c.y)).getUTCDay():n(i(c.y)).getDay(),c.m=0,c.d="W"in c?(c.w+6)%7+7*c.W-(s+5)%7:c.w+7*c.U-(s+6)%7);return"Z"in c?(c.H+=c.Z/100|0,c.M+=c.Z%100,r(c)):n(c)}}function u(t,e,n,r){for(var i,o,a=0,u=e.length,s=n.length;a<u;){if(r>=s)return-1;if(i=e.charCodeAt(a++),37===i){if(i=e.charAt(a++),o=$t[i in vt?e.charAt(a++):i],!o||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function ht(t,e,n){var r=Ut.exec(e.slice(n));return r?(t.p=Vt[r[0].toLowerCase()],n+r[0].length):-1}function pt(t,e,n){var r=qt.exec(e.slice(n));return r?(t.w=Ht[r[0].toLowerCase()],n+r[0].length):-1}function dt(t,e,n){var r=Bt.exec(e.slice(n));return r?(t.w=Wt[r[0].toLowerCase()],n+r[0].length):-1}function yt(t,e,n){var r=Kt.exec(e.slice(n));return r?(t.m=Yt[r[0].toLowerCase()],n+r[0].length):-1}function gt(t,e,n){var r=zt.exec(e.slice(n));return r?(t.m=Gt[r[0].toLowerCase()],n+r[0].length):-1}function _t(t,e,n){return u(t,At,e,n)}function mt(t,e,n){return u(t,It,e,n)}function bt(t,e,n){return u(t,Rt,e,n)}function wt(t){return Lt[t.getDay()]}function Et(t){return Dt[t.getDay()]}function Tt(t){return Ft[t.getMonth()]}function St(t){return jt[t.getMonth()]}function Ot(t){return Mt[+(t.getHours()>=12)]}function Ct(t){return Lt[t.getUTCDay()]}function kt(t){return Dt[t.getUTCDay()]}function xt(t){return Ft[t.getUTCMonth()]}function Pt(t){return jt[t.getUTCMonth()]}function Nt(t){return Mt[+(t.getUTCHours()>=12)]}var At=t.dateTime,It=t.date,Rt=t.time,Mt=t.periods,Dt=t.days,Lt=t.shortDays,jt=t.months,Ft=t.shortMonths,Ut=s(Mt),Vt=c(Mt),Bt=s(Dt),Wt=c(Dt),qt=s(Lt),Ht=c(Lt),zt=s(jt),Gt=c(jt),Kt=s(Ft),Yt=c(Ft),Xt={a:wt,A:Et,b:Tt,B:St,c:null,d:P,e:P,f:M,H:N,I:A,j:I,L:R,m:D,M:L,p:Ot,Q:lt,s:ft,S:j,u:F,U:U,V:V,w:B,W:W,x:null,X:null,y:q,Y:H,Z:z,"%":ct},Qt={a:Ct,A:kt,b:xt,B:Pt,c:null,d:G,e:G,f:$,H:K,I:Y,j:X,L:Q,m:J,M:Z,p:Nt,Q:lt,s:ft,S:tt,u:et,U:nt,V:rt,w:it,W:ot,x:null,X:null,y:at,Y:ut,Z:st,"%":ct},$t={a:pt,A:dt,b:yt,B:gt,c:_t,d:m,e:m,f:O,H:w,I:w,j:b,L:S,m:_,M:E,p:ht,Q:k,s:x,S:T,u:f,U:h,V:p,w:l,W:d,x:mt,X:bt,y:v,Y:y,Z:g,"%":C};return Xt.x=o(It,Xt),Xt.X=o(Rt,Xt),Xt.c=o(At,Xt),Qt.x=o(It,Qt),Qt.X=o(Rt,Qt),Qt.c=o(At,Qt),{format:function(t){var e=o(t+="",Xt);return e.toString=function(){return t},e},parse:function(t){var e=a(t+="",n);return e.toString=function(){return t},e},utcFormat:function(t){var e=o(t+="",Qt);return e.toString=function(){return t},e},utcParse:function(t){var e=a(t,r);return e.toString=function(){return t},e}}}function a(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function u(t){return t.replace(mt,"\\$&")}function s(t){return new RegExp("^(?:"+t.map(u).join("|")+")","i")}function c(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function l(t,e,n){var r=gt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function f(t,e,n){var r=gt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function h(t,e,n){var r=gt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function p(t,e,n){var r=gt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function d(t,e,n){var r=gt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function y(t,e,n){var r=gt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function v(t,e,n){var r=gt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function g(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function _(t,e,n){var r=gt.exec(e.slice(n,n+2));
return r?(t.m=r[0]-1,n+r[0].length):-1}function m(t,e,n){var r=gt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function b(t,e,n){var r=gt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function w(t,e,n){var r=gt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function E(t,e,n){var r=gt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function T(t,e,n){var r=gt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function S(t,e,n){var r=gt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function O(t,e,n){var r=gt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function C(t,e,n){var r=_t.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function k(t,e,n){var r=gt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function x(t,e,n){var r=gt.exec(e.slice(n));return r?(t.Q=1e3*+r[0],n+r[0].length):-1}function P(t,e){return a(t.getDate(),e,2)}function N(t,e){return a(t.getHours(),e,2)}function A(t,e){return a(t.getHours()%12||12,e,2)}function I(t,n){return a(1+e.timeDay.count(e.timeYear(t),t),n,3)}function R(t,e){return a(t.getMilliseconds(),e,3)}function M(t,e){return R(t,e)+"000"}function D(t,e){return a(t.getMonth()+1,e,2)}function L(t,e){return a(t.getMinutes(),e,2)}function j(t,e){return a(t.getSeconds(),e,2)}function F(t){var e=t.getDay();return 0===e?7:e}function U(t,n){return a(e.timeSunday.count(e.timeYear(t),t),n,2)}function V(t,n){var r=t.getDay();return t=r>=4||0===r?e.timeThursday(t):e.timeThursday.ceil(t),a(e.timeThursday.count(e.timeYear(t),t)+(4===e.timeYear(t).getDay()),n,2)}function B(t){return t.getDay()}function W(t,n){return a(e.timeMonday.count(e.timeYear(t),t),n,2)}function q(t,e){return a(t.getFullYear()%100,e,2)}function H(t,e){return a(t.getFullYear()%1e4,e,4)}function z(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+a(e/60|0,"0",2)+a(e%60,"0",2)}function G(t,e){return a(t.getUTCDate(),e,2)}function K(t,e){return a(t.getUTCHours(),e,2)}function Y(t,e){return a(t.getUTCHours()%12||12,e,2)}function X(t,n){return a(1+e.utcDay.count(e.utcYear(t),t),n,3)}function Q(t,e){return a(t.getUTCMilliseconds(),e,3)}function $(t,e){return Q(t,e)+"000"}function J(t,e){return a(t.getUTCMonth()+1,e,2)}function Z(t,e){return a(t.getUTCMinutes(),e,2)}function tt(t,e){return a(t.getUTCSeconds(),e,2)}function et(t){var e=t.getUTCDay();return 0===e?7:e}function nt(t,n){return a(e.utcSunday.count(e.utcYear(t),t),n,2)}function rt(t,n){var r=t.getUTCDay();return t=r>=4||0===r?e.utcThursday(t):e.utcThursday.ceil(t),a(e.utcThursday.count(e.utcYear(t),t)+(4===e.utcYear(t).getUTCDay()),n,2)}function it(t){return t.getUTCDay()}function ot(t,n){return a(e.utcMonday.count(e.utcYear(t),t),n,2)}function at(t,e){return a(t.getUTCFullYear()%100,e,2)}function ut(t,e){return a(t.getUTCFullYear()%1e4,e,4)}function st(){return"+0000"}function ct(){return"%"}function lt(t){return+t}function ft(t){return Math.floor(+t/1e3)}function ht(e){return yt=o(e),t.timeFormat=yt.format,t.timeParse=yt.parse,t.utcFormat=yt.utcFormat,t.utcParse=yt.utcParse,yt}function pt(t){return t.toISOString()}function dt(t){var e=new Date(t);return isNaN(e)?null:e}var yt,vt={"-":"",_:" ",0:"0"},gt=/^\s*\d+/,_t=/^%/,mt=/[\\^$*+?|[\]().{}]/g;ht({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var bt="%Y-%m-%dT%H:%M:%S.%LZ",wt=Date.prototype.toISOString?pt:t.utcFormat(bt),Et=+new Date("2000-01-01T00:00:00.000Z")?dt:t.utcParse(bt);t.timeFormatDefaultLocale=ht,t.timeFormatLocale=o,t.isoFormat=wt,t.isoParse=Et,Object.defineProperty(t,"__esModule",{value:!0})})},,,,,,,,,,,,,,,,,,,,,,function(t,e,n){n(244),t.exports=n(53).default},function(t,e,n){n(240)},function(t,e,n){t.exports=n(241)},function(t,e,n){var r=n(370);n(371),n(372),n(374),n(375),t.exports=r},function(t,e,n){n(243)},function(t,e,n){n(245)},,,,,,,,,,,,,,,,function(t,e){(function(e){var n;n="undefined"!=typeof window?window:"undefined"!=typeof e?e:"undefined"!=typeof self?self:{},t.exports=n}).call(e,function(){return this}())},,,function(t,e,n){n(239),t.exports=self.fetch.bind(self)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(145),c=r(s),l=n(88),f=r(l),h=n(147),p=r(h),d=n(82),y=r(d),v=n(128),g=r(v),_=n(146),m=r(_),b=n(1),w=r(b),E=n(2),T=r(E),S=1e3/60,O=function(t){function e(n){var r=this;i(this,e),t.call(this,n),this.wasAnimating=!1,this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyle=null,this.clearUnreadPropStyle=function(t){var e=!1,n=r.state,i=n.currentStyle,o=n.currentVelocity,u=n.lastIdealStyle,s=n.lastIdealVelocity;for(var c in t)if(Object.prototype.hasOwnProperty.call(t,c)){var l=t[c];"number"==typeof l&&(e||(e=!0,i=a({},i),o=a({},o),u=a({},u),s=a({},s)),i[c]=l,o[c]=0,u[c]=l,s[c]=0)}e&&r.setState({currentStyle:i,currentVelocity:o,lastIdealStyle:u,lastIdealVelocity:s})},this.startAnimationIfNecessary=function(){r.animationID=g.default(function(t){var e=r.props.style;if(m.default(r.state.currentStyle,e,r.state.currentVelocity))return r.wasAnimating&&r.props.onRest&&r.props.onRest(),r.animationID=null,r.wasAnimating=!1,void(r.accumulatedTime=0);r.wasAnimating=!0;var n=t||y.default(),i=n-r.prevTime;if(r.prevTime=n,r.accumulatedTime=r.accumulatedTime+i,r.accumulatedTime>10*S&&(r.accumulatedTime=0),0===r.accumulatedTime)return r.animationID=null,void r.startAnimationIfNecessary();var o=(r.accumulatedTime-Math.floor(r.accumulatedTime/S)*S)/S,a=Math.floor(r.accumulatedTime/S),u={},s={},c={},l={};for(var f in e)if(Object.prototype.hasOwnProperty.call(e,f)){var h=e[f];if("number"==typeof h)c[f]=h,l[f]=0,u[f]=h,s[f]=0;else{for(var d=r.state.lastIdealStyle[f],v=r.state.lastIdealVelocity[f],g=0;g<a;g++){var _=p.default(S/1e3,d,v,h.val,h.stiffness,h.damping,h.precision);d=_[0],v=_[1]}var b=p.default(S/1e3,d,v,h.val,h.stiffness,h.damping,h.precision),w=b[0],E=b[1];c[f]=d+(w-d)*o,l[f]=v+(E-v)*o,u[f]=d,s[f]=v}}r.animationID=null,r.accumulatedTime-=a*S,r.setState({currentStyle:c,currentVelocity:l,lastIdealStyle:u,lastIdealVelocity:s}),r.unreadPropStyle=null,r.startAnimationIfNecessary()})},this.state=this.defaultState()}return o(e,t),u(e,null,[{key:"propTypes",value:{defaultStyle:T.default.objectOf(T.default.number),style:T.default.objectOf(T.default.oneOfType([T.default.number,T.default.object])).isRequired,children:T.default.func.isRequired,onRest:T.default.func},enumerable:!0}]),e.prototype.defaultState=function(){var t=this.props,e=t.defaultStyle,n=t.style,r=e||f.default(n),i=c.default(r);return{currentStyle:r,currentVelocity:i,lastIdealStyle:r,lastIdealVelocity:i}},e.prototype.componentDidMount=function(){this.prevTime=y.default(),this.startAnimationIfNecessary()},e.prototype.componentWillReceiveProps=function(t){null!=this.unreadPropStyle&&this.clearUnreadPropStyle(this.unreadPropStyle),this.unreadPropStyle=t.style,null==this.animationID&&(this.prevTime=y.default(),this.startAnimationIfNecessary())},e.prototype.componentWillUnmount=function(){null!=this.animationID&&(g.default.cancel(this.animationID),this.animationID=null)},e.prototype.render=function(){var t=this.props.children(this.state.currentStyle);return t&&w.default.Children.only(t)},e}(w.default.Component);e.default=O,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e,n){for(var r=0;r<t.length;r++)if(!b.default(t[r],e[r],n[r]))return!1;return!0}e.__esModule=!0;var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(145),l=r(c),f=n(88),h=r(f),p=n(147),d=r(p),y=n(82),v=r(y),g=n(128),_=r(g),m=n(146),b=r(m),w=n(1),E=r(w),T=n(2),S=r(T),O=1e3/60,C=function(t){function e(n){var r=this;i(this,e),t.call(this,n),this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyles=null,this.clearUnreadPropStyle=function(t){for(var e=r.state,n=e.currentStyles,i=e.currentVelocities,o=e.lastIdealStyles,a=e.lastIdealVelocities,s=!1,c=0;c<t.length;c++){var l=t[c],f=!1;for(var h in l)if(Object.prototype.hasOwnProperty.call(l,h)){var p=l[h];"number"==typeof p&&(f||(f=!0,s=!0,n[c]=u({},n[c]),i[c]=u({},i[c]),o[c]=u({},o[c]),a[c]=u({},a[c])),n[c][h]=p,i[c][h]=0,o[c][h]=p,a[c][h]=0)}}s&&r.setState({currentStyles:n,currentVelocities:i,lastIdealStyles:o,lastIdealVelocities:a})},this.startAnimationIfNecessary=function(){r.animationID=_.default(function(t){var e=r.props.styles(r.state.lastIdealStyles);if(a(r.state.currentStyles,e,r.state.currentVelocities))return r.animationID=null,void(r.accumulatedTime=0);var n=t||v.default(),i=n-r.prevTime;if(r.prevTime=n,r.accumulatedTime=r.accumulatedTime+i,r.accumulatedTime>10*O&&(r.accumulatedTime=0),0===r.accumulatedTime)return r.animationID=null,void r.startAnimationIfNecessary();for(var o=(r.accumulatedTime-Math.floor(r.accumulatedTime/O)*O)/O,u=Math.floor(r.accumulatedTime/O),s=[],c=[],l=[],f=[],h=0;h<e.length;h++){var p=e[h],y={},g={},_={},m={};for(var b in p)if(Object.prototype.hasOwnProperty.call(p,b)){var w=p[b];if("number"==typeof w)y[b]=w,g[b]=0,_[b]=w,m[b]=0;else{for(var E=r.state.lastIdealStyles[h][b],T=r.state.lastIdealVelocities[h][b],S=0;S<u;S++){var C=d.default(O/1e3,E,T,w.val,w.stiffness,w.damping,w.precision);E=C[0],T=C[1]}var k=d.default(O/1e3,E,T,w.val,w.stiffness,w.damping,w.precision),x=k[0],P=k[1];y[b]=E+(x-E)*o,g[b]=T+(P-T)*o,_[b]=E,m[b]=T}}l[h]=y,f[h]=g,s[h]=_,c[h]=m}r.animationID=null,r.accumulatedTime-=u*O,r.setState({currentStyles:l,currentVelocities:f,lastIdealStyles:s,lastIdealVelocities:c}),r.unreadPropStyles=null,r.startAnimationIfNecessary()})},this.state=this.defaultState()}return o(e,t),s(e,null,[{key:"propTypes",value:{defaultStyles:S.default.arrayOf(S.default.objectOf(S.default.number)),styles:S.default.func.isRequired,children:S.default.func.isRequired},enumerable:!0}]),e.prototype.defaultState=function(){var t=this.props,e=t.defaultStyles,n=t.styles,r=e||n().map(h.default),i=r.map(function(t){return l.default(t)});return{currentStyles:r,currentVelocities:i,lastIdealStyles:r,lastIdealVelocities:i}},e.prototype.componentDidMount=function(){this.prevTime=v.default(),this.startAnimationIfNecessary()},e.prototype.componentWillReceiveProps=function(t){null!=this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles),this.unreadPropStyles=t.styles(this.state.lastIdealStyles),null==this.animationID&&(this.prevTime=v.default(),this.startAnimationIfNecessary())},e.prototype.componentWillUnmount=function(){null!=this.animationID&&(_.default.cancel(this.animationID),this.animationID=null)},e.prototype.render=function(){var t=this.props.children(this.state.currentStyles);return t&&E.default.Children.only(t)},e}(E.default.Component);e.default=C,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e,n){var r=e;return null==r?t.map(function(t,e){return{key:t.key,data:t.data,style:n[e]}}):t.map(function(t,e){for(var i=0;i<r.length;i++)if(r[i].key===t.key)return{key:r[i].key,data:r[i].data,style:n[e]};return{key:t.key,data:t.data,style:n[e]}})}function u(t,e,n,r){if(r.length!==e.length)return!1;for(var i=0;i<r.length;i++)if(r[i].key!==e[i].key)return!1;for(var i=0;i<r.length;i++)if(!S.default(t[i],e[i].style,n[i]))return!1;return!0}function s(t,e,n,r,i,o,a,u,s){for(var c=_.default(r,i,function(t,r){var i=e(r);return null==i?(n({key:r.key,data:r.data}),null):S.default(o[t],i,a[t])?(n({key:r.key,data:r.data}),null):{key:r.key,data:r.data,style:i}}),l=[],f=[],p=[],d=[],y=0;y<c.length;y++){for(var v=c[y],g=null,m=0;m<r.length;m++)if(r[m].key===v.key){g=m;break}if(null==g){var b=t(v);l[y]=b,p[y]=b;var w=h.default(v.style);f[y]=w,d[y]=w}else l[y]=o[g],p[y]=u[g],f[y]=a[g],d[y]=s[g]}return[c,l,f,p,d]}e.__esModule=!0;var c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=n(145),h=r(f),p=n(88),d=r(p),y=n(147),v=r(y),g=n(474),_=r(g),m=n(82),b=r(m),w=n(128),E=r(w),T=n(146),S=r(T),O=n(1),C=r(O),k=n(2),x=r(k),P=1e3/60,N=function(t){function e(n){var r=this;i(this,e),t.call(this,n),this.unmounting=!1,this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyles=null,this.clearUnreadPropStyle=function(t){for(var e=s(r.props.willEnter,r.props.willLeave,r.props.didLeave,r.state.mergedPropsStyles,t,r.state.currentStyles,r.state.currentVelocities,r.state.lastIdealStyles,r.state.lastIdealVelocities),n=e[0],i=e[1],o=e[2],a=e[3],u=e[4],l=0;l<t.length;l++){var f=t[l].style,h=!1;for(var p in f)if(Object.prototype.hasOwnProperty.call(f,p)){var d=f[p];"number"==typeof d&&(h||(h=!0,i[l]=c({},i[l]),o[l]=c({},o[l]),a[l]=c({},a[l]),u[l]=c({},u[l]),n[l]={key:n[l].key,data:n[l].data,style:c({},n[l].style)}),i[l][p]=d,o[l][p]=0,a[l][p]=d,u[l][p]=0,n[l].style[p]=d)}}r.setState({currentStyles:i,currentVelocities:o,mergedPropsStyles:n,lastIdealStyles:a,lastIdealVelocities:u})},this.startAnimationIfNecessary=function(){r.unmounting||(r.animationID=E.default(function(t){if(!r.unmounting){var e=r.props.styles,n="function"==typeof e?e(a(r.state.mergedPropsStyles,r.unreadPropStyles,r.state.lastIdealStyles)):e;if(u(r.state.currentStyles,n,r.state.currentVelocities,r.state.mergedPropsStyles))return r.animationID=null,void(r.accumulatedTime=0);var i=t||b.default(),o=i-r.prevTime;if(r.prevTime=i,r.accumulatedTime=r.accumulatedTime+o,r.accumulatedTime>10*P&&(r.accumulatedTime=0),0===r.accumulatedTime)return r.animationID=null,void r.startAnimationIfNecessary();for(var c=(r.accumulatedTime-Math.floor(r.accumulatedTime/P)*P)/P,l=Math.floor(r.accumulatedTime/P),f=s(r.props.willEnter,r.props.willLeave,r.props.didLeave,r.state.mergedPropsStyles,n,r.state.currentStyles,r.state.currentVelocities,r.state.lastIdealStyles,r.state.lastIdealVelocities),h=f[0],p=f[1],d=f[2],y=f[3],g=f[4],_=0;_<h.length;_++){var m=h[_].style,w={},E={},T={},S={};for(var O in m)if(Object.prototype.hasOwnProperty.call(m,O)){var C=m[O];if("number"==typeof C)w[O]=C,E[O]=0,T[O]=C,S[O]=0;else{for(var k=y[_][O],x=g[_][O],N=0;N<l;N++){var A=v.default(P/1e3,k,x,C.val,C.stiffness,C.damping,C.precision);k=A[0],x=A[1]}var I=v.default(P/1e3,k,x,C.val,C.stiffness,C.damping,C.precision),R=I[0],M=I[1];w[O]=k+(R-k)*c,E[O]=x+(M-x)*c,T[O]=k,S[O]=x}}y[_]=T,g[_]=S,p[_]=w,d[_]=E}r.animationID=null,r.accumulatedTime-=l*P,r.setState({currentStyles:p,currentVelocities:d,lastIdealStyles:y,lastIdealVelocities:g,mergedPropsStyles:h}),r.unreadPropStyles=null,r.startAnimationIfNecessary()}}))},this.state=this.defaultState()}return o(e,t),l(e,null,[{key:"propTypes",value:{defaultStyles:x.default.arrayOf(x.default.shape({key:x.default.string.isRequired,data:x.default.any,style:x.default.objectOf(x.default.number).isRequired})),styles:x.default.oneOfType([x.default.func,x.default.arrayOf(x.default.shape({key:x.default.string.isRequired,data:x.default.any,style:x.default.objectOf(x.default.oneOfType([x.default.number,x.default.object])).isRequired}))]).isRequired,children:x.default.func.isRequired,willEnter:x.default.func,willLeave:x.default.func,didLeave:x.default.func},enumerable:!0},{key:"defaultProps",value:{willEnter:function(t){return d.default(t.style)},willLeave:function(){return null},didLeave:function(){}},enumerable:!0}]),e.prototype.defaultState=function(){var t=this.props,e=t.defaultStyles,n=t.styles,r=t.willEnter,i=t.willLeave,o=t.didLeave,a="function"==typeof n?n(e):n,u=void 0;u=null==e?a:e.map(function(t){for(var e=0;e<a.length;e++)if(a[e].key===t.key)return a[e];return t});var c=null==e?a.map(function(t){return d.default(t.style)}):e.map(function(t){return d.default(t.style)}),l=null==e?a.map(function(t){return h.default(t.style)}):e.map(function(t){return h.default(t.style)}),f=s(r,i,o,u,a,c,l,c,l),p=f[0],y=f[1],v=f[2],g=f[3],_=f[4];return{currentStyles:y,currentVelocities:v,lastIdealStyles:g,lastIdealVelocities:_,mergedPropsStyles:p}},e.prototype.componentDidMount=function(){this.prevTime=b.default(),this.startAnimationIfNecessary()},e.prototype.componentWillReceiveProps=function(t){this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles);var e=t.styles;"function"==typeof e?this.unreadPropStyles=e(a(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.lastIdealStyles)):this.unreadPropStyles=e,null==this.animationID&&(this.prevTime=b.default(),this.startAnimationIfNecessary())},e.prototype.componentWillUnmount=function(){this.unmounting=!0,null!=this.animationID&&(E.default.cancel(this.animationID),this.animationID=null)},e.prototype.render=function(){var t=a(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.currentStyles),e=this.props.children(t);return e&&C.default.Children.only(e)},e}(C.default.Component);e.default=N,t.exports=e.default},function(t,e){"use strict";function n(t,e,n){for(var r={},i=0;i<t.length;i++)r[t[i].key]=i;for(var o={},i=0;i<e.length;i++)o[e[i].key]=i;for(var a=[],i=0;i<e.length;i++)a[i]=e[i];for(var i=0;i<t.length;i++)if(!Object.prototype.hasOwnProperty.call(o,t[i].key)){var u=n(i,t[i]);null!=u&&a.push(u)}return a.sort(function(t,n){var i=o[t.key],a=o[n.key],u=r[t.key],s=r[n.key];if(null!=i&&null!=a)return o[t.key]-o[n.key];if(null!=u&&null!=s)return r[t.key]-r[n.key];if(null!=i){for(var c=0;c<e.length;c++){var l=e[c].key;if(Object.prototype.hasOwnProperty.call(r,l)){if(i<o[l]&&s>r[l])return-1;if(i>o[l]&&s<r[l])return 1}}return 1}for(var c=0;c<e.length;c++){var l=e[c].key;if(Object.prototype.hasOwnProperty.call(r,l)){if(a<o[l]&&u>r[l])return 1;if(a>o[l]&&u<r[l])return-1}}return-1})}e.__esModule=!0,e.default=n,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t.default:t}e.__esModule=!0;var i=n(471);e.Motion=r(i);var o=n(472);e.StaggeredMotion=r(o);var a=n(473);e.TransitionMotion=r(a);var u=n(477);e.spring=r(u);var s=n(221);e.presets=r(s);var c=n(88);e.stripStyle=r(c);var l=n(476);e.reorderKeys=r(l)},function(t,e,n){"use strict";function r(){}e.__esModule=!0,e.default=r;t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){return o({},s,e,{val:t})}e.__esModule=!0;var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.default=i;var a=n(221),u=r(a),s=o({},u.default.noWobble,{precision:.01});t.exports=e.default},,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.ScaleUtils=e.AxisUtils=e.FlexibleHeightXYPlot=e.FlexibleWidthXYPlot=e.FlexibleXYPlot=e.makeWidthFlexible=e.makeVisFlexible=e.makeHeightFlexible=e.Sunburst=e.Sankey=e.ParallelCoordinates=e.RadarChart=e.RadialChart=e.Treemap=e.ContinuousSizeLegend=e.ContinuousColorLegend=e.SearchableDiscreteColorLegend=e.DiscreteColorLegend=e.Voronoi=e.HorizontalGridLines=e.VerticalGridLines=e.GradientDefs=e.GridLines=e.CircularGridLines=e.YAxis=e.XAxis=e.DecorativeAxis=e.XYPlot=e.Crosshair=e.Borders=e.Hint=e.LineMarkSeriesCanvas=e.LineMarkSeries=e.ArcSeries=e.AreaSeries=e.CustomSVGSeries=e.ContourSeries=e.HeatmapSeries=e.WhiskerSeries=e.MarkSeriesCanvas=e.MarkSeries=e.RectSeriesCanvas=e.RectSeries=e.PolygonSeries=e.LabelSeries=e.HorizontalRectSeriesCanvas=e.HorizontalRectSeries=e.VerticalRectSeriesCanvas=e.VerticalRectSeries=e.VerticalBarSeriesCanvas=e.VerticalBarSeries=e.HorizontalBarSeriesCanvas=e.HorizontalBarSeries=e.LineSeriesCanvas=e.LineSeries=e.AbstractSeries=void 0;var i=n(501);Object.defineProperty(e,"makeHeightFlexible",{enumerable:!0,get:function(){return i.makeHeightFlexible}}),Object.defineProperty(e,"makeVisFlexible",{enumerable:!0,get:function(){return i.makeVisFlexible}}),Object.defineProperty(e,"makeWidthFlexible",{enumerable:!0,get:function(){return i.makeWidthFlexible}}),Object.defineProperty(e,"FlexibleXYPlot",{enumerable:!0,get:function(){return i.FlexibleXYPlot}}),Object.defineProperty(e,"FlexibleWidthXYPlot",{enumerable:!0,get:function(){return i.FlexibleWidthXYPlot}}),Object.defineProperty(e,"FlexibleHeightXYPlot",{enumerable:!0,get:function(){return i.FlexibleHeightXYPlot}});var o=n(6),a=r(o),u=n(154),s=r(u),c=n(230),l=r(c),f=n(521),h=r(f),p=n(520),d=r(p),y=n(526),v=r(y),g=n(525),_=r(g),m=n(232),b=r(m),w=n(527),E=r(w),T=n(523),S=r(T),O=n(522),C=r(O),k=n(33),x=r(k),P=n(156),N=r(P),A=n(158),I=r(A),R=n(157),M=r(R),D=n(155),L=r(D),j=n(231),F=r(j),U=n(528),V=r(U),B=n(519),W=r(B),q=n(517),H=r(q),z=n(518),G=r(z),K=n(515),Y=r(K),X=n(153),Q=r(X),$=n(229),J=r($),Z=n(524),tt=r(Z),et=n(513),nt=r(et),rt=n(509),it=r(rt),ot=n(511),at=r(ot),ut=n(27),st=r(ut),ct=n(151),lt=r(ct),ft=n(507),ht=r(ft),pt=n(508),dt=r(pt),yt=n(510),vt=r(yt),gt=n(152),_t=r(gt),mt=n(512),bt=r(mt),wt=n(529),Et=r(wt),Tt=n(514),St=r(Tt),Ot=n(233),Ct=r(Ot),kt=n(225),xt=r(kt),Pt=n(500),Nt=r(Pt),At=n(497),It=r(At),Rt=n(498),Mt=r(Rt),Dt=n(535),Lt=r(Dt),jt=n(531),Ft=r(jt),Ut=n(530),Vt=r(Ut),Bt=n(502),Wt=r(Bt),qt=n(532),Ht=r(qt),zt=n(534),Gt=r(zt),Kt=n(18),Yt=r(Kt),Xt=n(12),Qt=r(Xt);e.AbstractSeries=a.default,e.LineSeries=s.default,e.LineSeriesCanvas=l.default,e.HorizontalBarSeries=h.default,e.HorizontalBarSeriesCanvas=d.default,e.VerticalBarSeries=v.default,e.VerticalBarSeriesCanvas=_.default,e.VerticalRectSeries=b.default,e.VerticalRectSeriesCanvas=E.default,e.HorizontalRectSeries=S.default,e.HorizontalRectSeriesCanvas=C.default,e.LabelSeries=x.default,e.PolygonSeries=N.default,e.RectSeries=I.default,e.RectSeriesCanvas=M.default,e.MarkSeries=L.default,e.MarkSeriesCanvas=F.default,e.WhiskerSeries=V.default,e.HeatmapSeries=W.default,e.ContourSeries=H.default,e.CustomSVGSeries=G.default,e.AreaSeries=Y.default,e.ArcSeries=Q.default,e.LineMarkSeries=J.default,e.LineMarkSeriesCanvas=tt.default,e.Hint=nt.default,e.Borders=it.default,e.Crosshair=at.default,e.XYPlot=st.default,e.DecorativeAxis=lt.default,e.XAxis=ht.default,e.YAxis=dt.default,e.CircularGridLines=vt.default,e.GridLines=_t.default,e.GradientDefs=bt.default,e.VerticalGridLines=Et.default,e.HorizontalGridLines=St.default,e.Voronoi=Ct.default,e.DiscreteColorLegend=xt.default,e.SearchableDiscreteColorLegend=Nt.default,e.ContinuousColorLegend=It.default,e.ContinuousSizeLegend=Mt.default,e.Treemap=Lt.default,e.RadialChart=Ft.default,e.RadarChart=Vt.default,e.ParallelCoordinates=Wt.default,e.Sankey=Ht.default,e.Sunburst=Gt.default,e.AxisUtils=Yt.default,e.ScaleUtils=Qt.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){var e=t.startColor,n=t.midColor,r=t.endColor,i=t.startTitle,o=t.midTitle,u=t.endTitle,s=t.height,c=t.width,l=t.className,f=[e];return n&&f.push(n),f.push(r),a.default.createElement("div",{className:"rv-continuous-color-legend "+l,style:{width:c,height:s}},a.default.createElement("div",{className:"rv-gradient",style:{background:"linear-gradient(to right, "+f.join(",")+")"}}),a.default.createElement("div",{className:"rv-legend-titles"},a.default.createElement("span",{className:"rv-legend-titles__left"},i),a.default.createElement("span",{className:"rv-legend-titles__right"},u),o?a.default.createElement("span",{className:"rv-legend-titles__center"},o):null))}Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),a=r(o),u=n(2),s=r(u),c=n(10),l={className:s.default.string,height:s.default.number,endColor:s.default.string,endTitle:s.default.oneOfType([s.default.number,s.default.string]).isRequired,midColor:s.default.string,midTitle:s.default.oneOfType([s.default.number,s.default.string]),startColor:s.default.string,startTitle:s.default.oneOfType([s.default.number,s.default.string]).isRequired,width:s.default.number},f={className:"",startColor:c.CONTINUOUS_COLOR_RANGE[0],endColor:c.CONTINUOUS_COLOR_RANGE[1]};i.displayName="ContinuousColorLegend",i.propTypes=l,i.defaultProps=f,e.default=i},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){for(var e=t.startTitle,n=t.endTitle,r=t.startSize,i=t.endSize,o=t.circlesTotal,u=t.height,s=t.width,c=t.className,l=[],f=(i-r)/(o-1),h=0;h<o;h++){var p=f*h+r;l.push(a.default.createElement("div",{key:h,className:"rv-bubble",style:{width:p,height:p,borderRadius:p/2}})),l.push(" ")}return a.default.createElement("div",{className:"rv-continuous-size-legend "+c,style:{width:s,height:u}},a.default.createElement("div",{className:"rv-bubbles",style:{height:i}},l,a.default.createElement("div",{className:"rv-spacer"})),a.default.createElement("div",{className:"rv-legend-titles"},a.default.createElement("span",{className:"rv-legend-titles__left"},e),a.default.createElement("span",{className:"rv-legend-titles__right"},n)))}Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),a=r(o),u=n(2),s=r(u),c={className:s.default.string,circlesTotal:s.default.number,endSize:s.default.number,endTitle:s.default.oneOfType([s.default.number,s.default.string]).isRequired,height:s.default.number,startSize:s.default.number,startTitle:s.default.oneOfType([s.default.number,s.default.string]).isRequired,width:s.default.number},l={circlesTotal:10,className:"",endSize:20,startSize:2};i.displayName="ContinuousSizeLegend",i.propTypes=c,i.defaultProps=l,e.default=i},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){var e=t.color,n=t.disabled,r=t.onClick,i=t.orientation,o=t.onMouseEnter,u=t.onMouseLeave,s=t.title,c="rv-discrete-color-legend-item "+i;return n&&(c+=" disabled"),r&&(c+=" clickable"),a.default.createElement("div",{className:c,onClick:r,onMouseEnter:o,onMouseLeave:u},a.default.createElement("span",{className:"rv-discrete-color-legend-item__color",style:n?null:{background:e}}),a.default.createElement("span",{className:"rv-discrete-color-legend-item__title"},s))}Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),a=r(o),u=n(2),s=r(u);i.propTypes={color:s.default.string.isRequired,disabled:s.default.bool,title:s.default.oneOfType([s.default.string,s.default.element]).isRequired,onClick:s.default.func,onMouseEnter:s.default.func,onMouseLeave:s.default.func,orientation:s.default.oneOf(["vertical","horizontal"]).isRequired},i.defaultProps={disabled:!1},i.displayName="DiscreteColorLegendItem",e.default=i},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){var e=t.className,n=t.colors,r=t.height,i=t.items,o=t.onItemClick,a=t.onSearchChange,s=t.orientation,c=t.searchFn,l=t.searchPlaceholder,h=t.searchText,p=t.width,d=a?function(t){var e=t.target.value;return a(e)}:null,y=c(i,h);return u.default.createElement("div",{className:"rv-search-wrapper "+e,style:{width:p,height:r}},u.default.createElement("form",{className:"rv-search-wrapper__form"},u.default.createElement("input",{type:"search",placeholder:l,className:"rv-search-wrapper__form__input",value:h,onChange:d})),u.default.createElement("div",{className:"rv-search-wrapper__contents"},u.default.createElement(f.default,{colors:n,items:y,onItemClick:o,orientation:s})))}Object.defineProperty(e,"__esModule",{value:!0});var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=n(1),u=r(a),s=n(2),c=r(s),l=n(225),f=r(l),h=o({},f.default.propTypes,{searchText:c.default.string,onSearchChange:c.default.func,searchPlaceholder:c.default.string,searchFn:c.default.func}),p={className:"",searchText:"",searchFn:function(t,e){return t.filter(function(t){return String(t.title||t).toLowerCase().indexOf(e)!==-1})}};i.propTypes=h,i.defaultProps=p,i.displayName="SearchableDiscreteColorLegend",e.default=i},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(){E.default.clearTimeout(P),P=E.default.setTimeout(c,x)}function c(){k.forEach(function(t){return t()})}function l(t){return k.push(t),1===k.length&&E.default.addEventListener("resize",s),function(){f(t),0===k.length&&(E.default.clearTimeout(P),E.default.removeEventListener("resize",s))}}function f(t){var e=k.indexOf(t);e>-1&&k.splice(e,1)}function h(t){return t.displayName||t.name||"Component"}function p(t,e,n){var r=function(r){function s(t){o(this,s);var e=a(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,t));return e.state={height:0,width:0},e._onResize=e._onResize.bind(e),e}return u(s,r),_(s,null,[{key:"propTypes",get:function(){var e=t.propTypes,n=(e.height,e.width,i(e,["height","width"]));return n}}]),_(s,[{key:"_onResize",value:function(){var t=(0,O.getDOMNode)(this.refs[C]),e=t.offsetHeight,n=t.offsetWidth,r=this.state.height===e?{}:{height:e},i=this.state.width===n?{}:{width:n};this.setState(g({},r,i))}},{key:"componentDidMount",value:function(){this._onResize(),this.cancelSubscription=l(this._onResize)}},{key:"componentWillReceiveProps",
value:function(){this._onResize()}},{key:"componentWillUnmount",value:function(){this.cancelSubscription()}},{key:"render",value:function(){var r=this.state,i=r.height,o=r.width,a=g({},this.props,{animation:0===i&&0===o?null:this.props.animation}),u=g({},n?{height:i}:{},e?{width:o}:{});return b.default.createElement("div",{ref:C,style:{width:"100%",height:"100%"}},b.default.createElement(t,g({},u,a)))}}]),s}(b.default.Component);return r.displayName="Flexible"+h(t),r}function d(t){return p(t,!1,!0)}function y(t){return p(t,!0,!0)}function v(t){return p(t,!0,!1)}Object.defineProperty(e,"__esModule",{value:!0}),e.FlexibleXYPlot=e.FlexibleHeightXYPlot=e.FlexibleWidthXYPlot=void 0;var g=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e.makeHeightFlexible=d,e.makeVisFlexible=y,e.makeWidthFlexible=v;var m=n(1),b=r(m),w=n(391),E=r(w),T=n(27),S=r(T),O=n(66),C="container",k=[],x=100,P=null;e.FlexibleWidthXYPlot=v(S.default),e.FlexibleHeightXYPlot=d(S.default),e.FlexibleXYPlot=y(S.default)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t){var e=t.animation,n=t.domains,r=t.style,i=t.tickFormat;return n.map(function(t,n){var o=t.domain,a=function(e){return t.tickFormat?t.tickFormat(e):i(e)};return h.default.createElement(P.default,{animation:e,key:n+"-axis",axisStart:{x:t.name,y:0},axisEnd:{x:t.name,y:1},axisDomain:o,numberOfTicks:5,tickValue:a,style:r.axes})})}function s(t){var e=t.domains,n=t.style;return e.map(function(t,e){return{x:t.name,y:1.1,label:t.name,style:n}})}function c(t){var e=t.animation,n=t.colorRange,r=t.domains,i=t.data,o=t.style,a=t.showMarks,u=r.reduce(function(t,e){var n=e.domain,r=e.name;return t[r]=(0,y.scaleLinear)().domain(n).range([0,1]),t},{});return i.map(function(t,i){var s=r.map(function(e,n){var r=e.getValue,i=e.name;return{x:i,y:u[i](r?r(t):t[i])}}),c={animation:e,className:N+"-line",key:i+"-polygon",data:s,color:t.color||n[i%n.length],style:o.lines};return a?h.default.createElement(O.default,c):h.default.createElement(T.default,c)})}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=n(1),h=r(f),p=n(2),d=r(p),y=n(46),v=n(78),g=n(7),_=n(27),m=r(_),b=n(10),w=n(34),E=n(154),T=r(E),S=n(229),O=r(S),C=n(33),k=r(C),x=n(151),P=r(x),N="rv-parallel-coordinates-chart",A=(0,v.format)(".2r"),I=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),l(e,[{key:"render",value:function(){var t=this.props,e=t.animation,n=t.className,r=t.children,i=t.colorRange,o=t.data,a=t.domains,l=t.height,f=t.hideInnerMostValues,p=t.margin,d=t.onMouseLeave,y=t.onMouseEnter,v=t.showMarks,g=t.style,_=t.tickFormat,b=t.width,w=u({domains:a,animation:e,hideInnerMostValues:f,style:g,tickFormat:_}),E=c({animation:e,colorRange:i,domains:a,data:o,showMarks:v,style:g}),T=h.default.createElement(k.default,{animation:!0,key:n,className:N+"-label",data:s({domains:a,style:g.labels})});return h.default.createElement(m.default,{height:l,width:b,margin:p,dontCheckIfEmpty:!0,className:n+" "+N,onMouseLeave:d,onMouseEnter:y,xType:"ordinal",yDomain:[0,1]},r,w.concat(E).concat(T))}}]),e}(f.Component);I.displayName="ParallelCoordinates",I.propTypes={animation:g.AnimationPropType,className:d.default.string,colorType:d.default.string,colorRange:d.default.arrayOf(d.default.string),data:d.default.arrayOf(d.default.object).isRequired,domains:d.default.arrayOf(d.default.shape({name:d.default.string.isRequired,domain:d.default.arrayOf(d.default.number).isRequired,tickFormat:d.default.func})).isRequired,height:d.default.number.isRequired,margin:w.MarginPropType,style:d.default.shape({axes:d.default.object,labels:d.default.object,lines:d.default.object}),showMarks:d.default.bool,tickFormat:d.default.func,width:d.default.number.isRequired},I.defaultProps={className:"",colorType:"category",colorRange:b.DISCRETE_COLOR_RANGE,style:{axes:{line:{},ticks:{},text:{}},labels:{fontSize:10,textAnchor:"middle"},lines:{strokeWidth:1,strokeOpacity:1}},tickFormat:A},e.default=I},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){var e=t.orientation,n=t.width,r=t.height,i=t.style,a=void 0;return a=e===f?{x1:n,x2:n,y1:0,y2:r}:e===h?{x1:0,x2:0,y1:0,y2:r}:e===p?{x1:0,x2:n,y1:r,y2:r}:{x1:0,x2:n,y1:0,y2:0},u.default.createElement("line",o({},a,{className:"rv-xy-plot__axis__line",style:i}))}Object.defineProperty(e,"__esModule",{value:!0});var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=n(1),u=r(a),s=n(2),c=r(s),l=n(18),f=l.ORIENTATION.LEFT,h=l.ORIENTATION.RIGHT,p=l.ORIENTATION.TOP,d=l.ORIENTATION.BOTTOM,y={height:c.default.number.isRequired,style:c.default.object,orientation:c.default.oneOf([f,h,p,d]).isRequired,width:c.default.number.isRequired},v={style:{}};i.defaultProps=v,i.displayName="AxisLine",i.propTypes=y,e.default=i},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e,n){return n?n:t.tickFormat?t.tickFormat(e):function(t){return t}}Object.defineProperty(e,"__esModule",{value:!0});var c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=n(1),h=r(f),p=n(2),d=r(p),y=n(18),v=n(12),g=y.ORIENTATION.LEFT,_=y.ORIENTATION.RIGHT,m=y.ORIENTATION.TOP,b=y.ORIENTATION.BOTTOM,w={height:d.default.number.isRequired,orientation:d.default.oneOf([g,_,m,b]).isRequired,style:d.default.object,width:d.default.number.isRequired},E={style:{}},T=function(t){function e(){return o(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return u(e,t),l(e,[{key:"_isAxisVertical",value:function(){var t=this.props.orientation;return t===g||t===_}},{key:"_areTicksWrapped",value:function(){var t=this.props.orientation;return t===g||t===m}},{key:"_getTickContainerPropsGetterFn",value:function(){return this._isAxisVertical()?function(t){return{transform:"translate(0, "+t+")"}}:function(t){return{transform:"translate("+t+", 0)"}}}},{key:"_getTickLineProps",value:function(){var t,e=this.props,n=e.tickSize,r=e.tickSizeOuter,o=void 0===r?n:r,a=e.tickSizeInner,u=void 0===a?n:a,s=this._isAxisVertical(),c=s?"y":"x",l=s?"x":"y",f=this._areTicksWrapped()?-1:1;return t={},i(t,c+"1",0),i(t,c+"2",0),i(t,l+"1",-f*u),i(t,l+"2",f*o),t}},{key:"_getTickLabelProps",value:function(){var t=this.props,e=t.orientation,n=t.tickLabelAngle,r=t.tickSize,i=t.tickSizeOuter,o=void 0===i?r:i,a=t.tickPadding,u=void 0===a?r:a,s=void 0;s=e===g||e===b&&n?"end":e===_||e===m&&n?"start":"middle";var c=this._isAxisVertical(),l=this._areTicksWrapped()?-1:1,f=l*(o+u),h=(c?"translate("+f+", 0)":"translate(0, "+f+")")+(n?" rotate("+n+")":""),p=e===m||n?"0":e===b?"0.72em":"0.32em";return{textAnchor:s,dy:p,transform:h}}},{key:"render",value:function(){var t=this.props,e=t.attr,n=t.orientation,r=t.width,i=t.height,o=t.style,a=t.tickFormat,u=t.tickTotal,l=t.tickValues,f=n===g?r:0,p=n===m?i:0,d=(0,v.getAttributeScale)(this.props,e),_=(0,y.getTickValues)(d,u,l),b=s(d,u,a),w=this._getTickContainerPropsGetterFn(),E=this._getTickLineProps(),T=this._getTickLabelProps(),S=_.map(function(t,e){var n=d(t),r=b(t,e);return h.default.createElement("g",c({key:e},w(n,0),{className:"rv-xy-plot__axis__tick",style:o}),h.default.createElement("line",c({},E,{className:"rv-xy-plot__axis__tick__line",style:c({},o,o.line)})),h.default.createElement("text",c({},T,{className:"rv-xy-plot__axis__tick__text",style:c({},o,o.text)}),r))});return h.default.createElement("g",{transform:"translate("+f+", "+p+")",className:"rv-xy-plot__axis__ticks"},S)}}]),e}(h.default.Component);T.defaultProps=E,T.displayName="AxisTicks",T.propTypes=w,T.requiresSVG=!0,e.default=T},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t){var e=t.orientation,n=t.position,r=t.width,i=t.height,o=t.style,u=t.title,c=e===d?r:0,l=e===v?i:0,f="translate("+c+", "+l+")",h=m(r,i)[e][n],p=h.x,y=h.y,g=h.rotation,_=h.textAnchor,b="translate("+p+", "+y+") rotate("+g+")";return s.default.createElement("g",{transform:f,className:"rv-xy-plot__axis__title"},s.default.createElement("g",{style:a({textAnchor:_},o),transform:b},s.default.createElement("text",{style:o},u)))}Object.defineProperty(e,"__esModule",{value:!0});var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=n(1),s=r(u),c=n(2),l=r(c),f=n(18),h=16,p=6,d=f.ORIENTATION.LEFT,y=f.ORIENTATION.RIGHT,v=f.ORIENTATION.TOP,g=f.ORIENTATION.BOTTOM,_={position:"end"},m=function(t,e){var n;return n={},i(n,d,{end:{x:h,y:p,rotation:-90,textAnchor:"end"},middle:{x:h,y:e/2-p,rotation:-90,textAnchor:"middle"},start:{x:h,y:e-p,rotation:-90,textAnchor:"start"}}),i(n,y,{end:{x:h*-.5,y:p,rotation:-90,textAnchor:"end"},middle:{x:h*-.5,y:e/2-p,rotation:-90,textAnchor:"middle"},start:{x:h*-.5,y:e-p,rotation:-90,textAnchor:"start"}}),i(n,v,{start:{x:p,y:h,rotation:0,textAnchor:"start"},middle:{x:t/2-p,y:h,rotation:0,textAnchor:"middle"},end:{x:t-p,y:h,rotation:0,textAnchor:"end"}}),i(n,g,{start:{x:p,y:-p,rotation:0,textAnchor:"start"},middle:{x:t/2-p,y:-p,rotation:0,textAnchor:"middle"},end:{x:t-p,y:-p,rotation:0,textAnchor:"end"}}),n},b={width:l.default.number.isRequired,height:l.default.number.isRequired,orientation:l.default.oneOf([d,y,v,g]).isRequired,style:l.default.object,title:l.default.string.isRequired};o.displayName="AxisTitle",o.propTypes=b,o.defaultProps=_,e.default=o},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){var e=t.axisDomain,n=t.numberOfTicks,r=t.axisStart,i=t.axisEnd,a=t.tickValue,c=t.tickSize,l=t.style,f=(0,s.generatePoints)({axisStart:r,axisEnd:i,numberOfTicks:n,axisDomain:e}),h=f.points,p=(0,s.getAxisAngle)(r,i)+Math.PI/2;return h.map(function(t,e){var n=o({x1:0,y1:0,x2:c*Math.cos(p),y2:c*Math.sin(p)},l.ticks),r=o({x:c*Math.cos(p),y:c*Math.sin(p),textAnchor:"start"},l.text);return u.default.createElement("g",{key:e,transform:"translate("+t.x+", "+t.y+")",className:"rv-xy-plot__axis__tick"},u.default.createElement("line",o({},n,{className:"rv-xy-plot__axis__tick__line"})),u.default.createElement("text",o({},r,{className:"rv-xy-plot__axis__tick__text"}),a(t.text)))})}Object.defineProperty(e,"__esModule",{value:!0});var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.default=i;var a=n(1),u=r(a),s=n(18)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){return u.default.createElement(h.default,t)}Object.defineProperty(e,"__esModule",{value:!0});var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=n(1),u=r(a),s=n(2),c=r(s),l=n(18),f=n(226),h=r(f),p=l.ORIENTATION.TOP,d=l.ORIENTATION.BOTTOM,y=o({},h.default.propTypes,{orientation:c.default.oneOf([p,d])}),v={orientation:d,attr:"x",attrAxis:"y"};i.displayName="XAxis",i.propTypes=y,i.defaultProps=v,i.requiresSVG=!0,e.default=i},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){return u.default.createElement(h.default,t)}Object.defineProperty(e,"__esModule",{value:!0});var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=n(1),u=r(a),s=n(2),c=r(s),l=n(18),f=n(226),h=r(f),p=l.ORIENTATION.LEFT,d=l.ORIENTATION.RIGHT,y=o({},h.default.propTypes,{orientation:c.default.oneOf([p,d])}),v={orientation:p,attr:"y",attrAxis:"x"};i.displayName="YAxis",i.propTypes=y,i.defaultProps=v,i.requiresSVG=!0,e.default=i},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(1),l=r(c),f=n(2),h=r(f),p={style:h.default.shape({bottom:h.default.object,left:h.default.object,right:h.default.object,top:h.default.object}),marginTop:h.default.number,marginBottom:h.default.number,marginLeft:h.default.number,marginRight:h.default.number,innerWidth:h.default.number,innerHeight:h.default.number},d={bottom:"rv-xy-plot__borders-bottom",container:"rv-xy-plot__borders",left:"rv-xy-plot__borders-left",right:"rv-xy-plot__borders-right",top:"rv-xy-plot__borders-top"},y=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),s(e,[{key:"render",value:function(){var t=this.props,e=t.marginTop,n=t.marginBottom,r=t.marginLeft,i=t.marginRight,o=t.innerWidth,a=t.innerHeight,s=t.style,c=t.className,f=a+e+n,h=o+r+i;return l.default.createElement("g",{className:d.container+" "+c},l.default.createElement("rect",{className:d.bottom+" "+c+"-bottom",style:u({},s.all,s.bottom),x:0,y:f-n,width:h,height:n}),l.default.createElement("rect",{className:d.left+" "+c+"-left",style:u({},s.all,s.left),x:0,y:0,width:r,height:f}),l.default.createElement("rect",{className:d.right+" "+c+"-right",style:u({},s.all,s.right),x:h-i,y:0,width:i,height:f}),l.default.createElement("rect",{className:d.top+" "+c+"-top",style:u({},s.all,s.top),x:0,y:0,width:h,height:e}))}}]),e}(c.PureComponent);y.displayName="Borders",y.defaultProps={className:"",style:{all:{},bottom:{},left:{},right:{},top:{}}},y.propTypes=p,y.requiresSVG=!0,e.default=y},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(1),l=r(c),f=n(2),h=r(f),p=n(12),d=n(7),y=r(d),v=n(18),g=["xRange","yRange","xDomain","yDomain","width","height","marginLeft","marginTop","marginRight","marginBottom","tickTotal"],_=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),s(e,[{key:"_getDefaultProps",value:function(){var t=this.props,e=t.innerWidth,n=t.innerHeight,r=t.marginTop,i=t.marginLeft;return{left:i,top:r,width:e,height:n,style:{},tickTotal:(0,v.getTicksTotalFromSize)(Math.min(e,n))}}},{key:"render",value:function(){var t=this.props,n=t.animation,r=t.centerX,i=t.centerY;if(n)return l.default.createElement(y.default,u({},this.props,{animatedProps:g}),l.default.createElement(e,u({},this.props,{animation:null})));var o=u({},this._getDefaultProps(),this.props),a=o.tickTotal,s=o.tickValues,c=o.marginLeft,f=o.marginTop,h=o.rRange,d=o.style,_=(0,p.getAttributeScale)(o,"x"),m=(0,p.getAttributeScale)(o,"y"),b=(0,v.getTickValues)(_,a,s);return l.default.createElement("g",{transform:"translate("+(_(r)+c)+","+(m(i)+f)+")",className:"rv-xy-plot__circular-grid-lines"},b.reduce(function(t,e,n){var r=_(e);return h&&(r<h[0]||r>h[1])?t:t.concat([l.default.createElement("circle",u({cx:0,cy:0,r:r},{key:n,className:"rv-xy-plot__circular-grid-lines__line",style:d}))])},[]))}}]),e}(c.PureComponent);_.displayName="CircularGridLines",_.propTypes={centerX:h.default.number,centerY:h.default.number,width:h.default.number,height:h.default.number,top:h.default.number,left:h.default.number,rRange:h.default.arrayOf(h.default.number),style:h.default.object,tickValues:h.default.arrayOf(h.default.number),tickTotal:h.default.number,animation:d.AnimationPropType,marginTop:h.default.number,marginBottom:h.default.number,marginLeft:h.default.number,marginRight:h.default.number,innerWidth:h.default.number,innerHeight:h.default.number},_.defaultProps={centerX:0,centerY:0},_.requiresSVG=!0,e.default=_},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t){var e=c(t);if(e)return{title:"x",value:e.x}}function s(t){return t.map(function(t,e){if(t)return{value:t.y,title:e}})}function c(t){return(t||[]).find(function(t){return Boolean(t)})}Object.defineProperty(e,"__esModule",{value:!0});var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),h=n(1),p=r(h),d=n(2),y=r(d),v=n(12),g=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),f(e,[{key:"_renderCrosshairTitle",value:function(){var t=this.props,e=t.values,n=t.titleFormat,r=t.style,i=n(e);return i?p.default.createElement("div",{className:"rv-crosshair__title",key:"title",style:r.title},p.default.createElement("span",{className:"rv-crosshair__title__title"},i.title),": ",p.default.createElement("span",{className:"rv-crosshair__title__value"},i.value)):null}},{key:"_renderCrosshairItems",value:function(){var t=this.props,e=t.values,n=t.itemsFormat,r=n(e);return r?r.filter(function(t){return t}).map(function(t,e){return p.default.createElement("div",{className:"rv-crosshair__item",key:"item"+e},p.default.createElement("span",{className:"rv-crosshair__item__title"},t.title),": ",p.default.createElement("span",{className:"rv-crosshair__item__value"},t.value))}):null}},{key:"render",value:function(){var t=this.props,e=t.children,n=t.className,r=t.values,i=t.marginTop,o=t.marginLeft,a=t.innerWidth,u=t.innerHeight,s=t.style,f=c(r);if(!f)return null;var h=(0,v.getAttributeFunctor)(this.props,"x"),d=h(f),y=this.props.orientation,g=void 0===y?d>a/2?"left":"right":y,_=o+d,m=i,b="rv-crosshair__inner rv-crosshair__inner--"+g;return p.default.createElement("div",{className:"rv-crosshair "+n,style:{left:_+"px",top:m+"px"}},p.default.createElement("div",{className:"rv-crosshair__line",style:l({height:u+"px"},s.line)}),p.default.createElement("div",{className:b},e?e:p.default.createElement("div",{className:"rv-crosshair__inner__content",style:s.box},p.default.createElement("div",null,this._renderCrosshairTitle(),this._renderCrosshairItems()))))}}],[{key:"propTypes",get:function(){return{className:y.default.string,values:y.default.array,series:y.default.object,innerWidth:y.default.number,innerHeight:y.default.number,marginLeft:y.default.number,marginTop:y.default.number,orientation:y.default.oneOf(["left","right"]),itemsFormat:y.default.func,titleFormat:y.default.func,style:y.default.shape({line:y.default.object,title:y.default.object,box:y.default.object})}}},{key:"defaultProps",get:function(){return{titleFormat:u,itemsFormat:s,style:{line:{},title:{},box:{}}}}}]),e}(h.PureComponent);g.displayName="Crosshair",e.default=g},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(1),c=r(s),l=n(2),f=r(l),h="rv-gradient-defs",p=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),u(e,[{key:"render",value:function(){var t=this.props.className;return c.default.createElement("defs",{className:h+" "+t},this.props.children)}}]),e}(s.PureComponent);p.displayName="GradientDefs",p.requiresSVG=!0,p.propTypes={className:f.default.string},p.defaultProps={className:""},e.default=p},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t){return Object.keys(t).map(function(e){return{title:e,value:t[e]}})}Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=n(1),f=r(l),h=n(2),p=r(h),d=n(12),y={AUTO:"auto",LEFT:"left",RIGHT:"right",LEFT_EDGE:"leftEdge",RIGHT_EDGE:"rightEdge",BOTTOM:"bottom",TOP:"top",BOTTOM_EDGE:"bottomEdge",TOP_EDGE:"topEdge"},v={BOTTOM_LEFT:"bottomleft",BOTTOM_RIGHT:"bottomright",TOP_LEFT:"topleft",TOP_RIGHT:"topright"},g=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),c(e,[{key:"_getCSSRight",value:function(t){if(void 0===t||null===t)return{right:0};var e=this.props,n=e.innerWidth,r=e.marginRight;return{right:r+n-t}}},{key:"_getCSSLeft",value:function(t){if(void 0===t||null===t)return{left:0};var e=this.props.marginLeft;return{left:e+t}}},{key:"_getCSSBottom",value:function(t){if(void 0===t||null===t)return{bottom:0};var e=this.props,n=e.innerHeight,r=e.marginBottom;return{bottom:r+n-t}}},{key:"_getCSSTop",value:function(t){if(void 0===t||null===t)return{top:0};var e=this.props.marginTop;return{top:e+t}}},{key:"_mapOrientationToAlign",value:function(t){switch(t){case v.BOTTOM_LEFT:return{horizontal:y.LEFT,vertical:y.BOTTOM};case v.BOTTOM_RIGHT:return{horizontal:y.RIGHT,vertical:y.BOTTOM};case v.TOP_LEFT:return{horizontal:y.LEFT,vertical:y.TOP};case v.TOP_RIGHT:return{horizontal:y.RIGHT,vertical:y.TOP}}}},{key:"_getAlign",value:function(t,e){var n=this.props,r=n.innerWidth,i=n.innerHeight,o=n.orientation,a=n.align,u=a.horizontal,s=a.vertical,c=o?this._mapOrientationToAlign(o):{horizontal:u,vertical:s};return u===y.AUTO&&(c.horizontal=t>r/2?y.LEFT:y.RIGHT),s===y.AUTO&&(c.vertical=e>i/2?y.TOP:y.BOTTOM),c}},{key:"_getAlignStyle",value:function(t,e,n){return s({},this._getXCSS(t.horizontal,e),this._getYCSS(t.vertical,n))}},{key:"_getYCSS",value:function(t,e){switch(t){case y.TOP_EDGE:return this._getCSSTop(null);case y.BOTTOM_EDGE:return this._getCSSBottom(null);case y.BOTTOM:return this._getCSSTop(e);case y.TOP:default:return this._getCSSBottom(e)}}},{key:"_getXCSS",value:function(t,e){switch(t){case y.LEFT_EDGE:return this._getCSSLeft(null);case y.RIGHT_EDGE:return this._getCSSRight(null);case y.LEFT:return this._getCSSRight(e);case y.RIGHT:default:return this._getCSSLeft(e)}}},{key:"_getAlignClassNames",value:function(t){var e=this.props.orientation,n=e?"rv-hint--orientation-"+e:"";return n+" rv-hint--horizontalAlign-"+t.horizontal+"\n     rv-hint--verticalAlign-"+t.vertical}},{key:"_getPositionInfo",value:function(){var t=this.props,e=t.value,n=t.getAlignStyle,r=(0,d.getAttributeFunctor)(this.props,"x")(e),i=(0,d.getAttributeFunctor)(this.props,"y")(e),o=this._getAlign(r,i);return{position:n?n(o,r,i):this._getAlignStyle(o,r,i),className:this._getAlignClassNames(o)}}},{key:"render",value:function(){var t=this.props,e=t.value,n=t.format,r=t.children,i=t.style,o=this._getPositionInfo(),a=o.position,u=o.className;return f.default.createElement("div",{className:"rv-hint "+u,style:s({},i,a,{position:"absolute"})},r?r:f.default.createElement("div",{className:"rv-hint__content",style:i.content},n(e).map(function(t,e){return f.default.createElement("div",{key:"rv-hint"+e,style:i.row},f.default.createElement("span",{className:"rv-hint__title",style:i.title},t.title),": ",f.default.createElement("span",{className:"rv-hint__value",style:i.value},t.value))})))}}],[{key:"propTypes",get:function(){return{marginTop:p.default.number,marginLeft:p.default.number,innerWidth:p.default.number,innerHeight:p.default.number,scales:p.default.object,value:p.default.object,format:p.default.func,style:p.default.object,align:p.default.shape({horizontal:p.default.oneOf([y.AUTO,y.LEFT,y.RIGHT,y.LEFT_EDGE,y.RIGHT_EDGE]),vertical:p.default.oneOf([y.AUTO,y.BOTTOM,y.TOP,y.BOTTOM_EDGE,y.TOP_EDGE])}),getAlignStyle:p.default.func,orientation:p.default.oneOf([v.BOTTOM_LEFT,v.BOTTOM_RIGHT,v.TOP_LEFT,v.TOP_RIGHT])}}},{key:"defaultProps",get:function(){return{format:u,align:{horizontal:y.AUTO,vertical:y.AUTO},style:{}}}}]),e}(l.PureComponent);g.displayName="Hint",g.ORIENTATION=v,g.ALIGN=y,e.default=g},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){return u.default.createElement(h.default,t)}Object.defineProperty(e,"__esModule",{value:!0});var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=n(1),u=r(a),s=n(2),c=r(s),l=n(18),f=n(152),h=r(f),p=l.DIRECTION.HORIZONTAL,d=o({},h.default.propTypes,{direction:c.default.oneOf([p])}),y={direction:p,attr:"y"};i.displayName="HorizontalGridLines",i.propTypes=d,i.defaultProps=y,i.requiresSVG=!0,e.default=i},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=n(1),f=i(l),h=n(2),p=i(h),d=n(61),y=r(d),v=n(7),g=i(v),_=n(10),m=n(11),b=n(66),w=n(6),E=i(w),T="rv-xy-plot__series rv-xy-plot__series--line",S=function(t){
function e(){return o(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return u(e,t),c(e,[{key:"_renderArea",value:function(t,e,n,r,i,o){var a=y.area();return null!==i&&("string"==typeof i&&y[i]?a=a.curve(y[i]):"function"==typeof i&&(a=a.curve(i))),a=a.defined(o),(a=a.x(e).y0(n).y1(r))(t)}},{key:"render",value:function(){var t=this.props,n=t.animation,r=t.className,i=t.curve,o=t.data,a=t.marginLeft,u=t.marginTop,c=t.style;if(this.props.nullAccessor&&(0,b.warning)("nullAccessor has been renamed to getNull",!0),!o)return null;if(n)return f.default.createElement(g.default,s({},this.props,{animatedProps:m.ANIMATED_SERIES_PROPS}),f.default.createElement(e,s({},this.props,{animation:null})));var l=this._getAttributeFunctor("x"),h=this._getAttributeFunctor("y"),p=this._getAttr0Functor("y"),d=this._getAttributeValue("stroke")||this._getAttributeValue("color"),y=this._getAttributeValue("fill")||this._getAttributeValue("color"),v=this._getAttributeValue("opacity"),w=Number.isFinite(v)?v:_.DEFAULT_OPACITY,E=this.props.nullAccessor||this.props.getNull,S=this._renderArea(o,l,p,h,i,E);return f.default.createElement("path",{d:S,className:T+" "+r,transform:"translate("+a+","+u+")",onMouseOver:this._seriesMouseOverHandler,onMouseOut:this._seriesMouseOutHandler,onClick:this._seriesClickHandler,onContextMenu:this._seriesRightClickHandler,style:s({opacity:w,stroke:d,fill:y},c)})}}]),e}(E.default);S.displayName="AreaSeries",S.propTypes=s({},E.default.propTypes,{getNull:p.default.func}),S.defaultProps=s({},E.default.defaultProps,{getNull:function(){return!0}}),e.default=S},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e,n,r){var i=0,o=setInterval(function(){return t?(s(t,e,n,r,i),i>m&&clearInterval(o),void(i+=1)):void clearInterval(o)},1)}function s(t,e,n,r,i){t.clearRect(0,0,n,e),r.forEach(function(e){var n=e.interpolator,r=e.newProps,o=e.animation,a=o?n?n(i/m):n:function(){return{}};e.renderLayer(f({},r,a),t)})}function c(t,e){return t.map(function(t,n){var r=e[n]?e[n].props:{},i=t.props,o=(0,g.extractAnimatedPropValues)(f({},r,{animatedProps:_.ANIMATED_SERIES_PROPS})),a=i?(0,g.extractAnimatedPropValues)(f({},i,{animatedProps:_.ANIMATED_SERIES_PROPS})):null,u=(0,v.interpolate)(o,a);return{renderLayer:t.type.renderLayer,newProps:t.props,animation:t.props.animation,interpolator:u}})}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h=n(1),p=r(h),d=n(2),y=r(d),v=n(118),g=n(7),_=n(11),m=30,b=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),l(e,[{key:"componentDidMount",value:function(){var t=this.refs.canvas.getContext("2d");if(t){var e=this.props.pixelRatio;t&&(t.scale(e,e),this.drawChildren(this.props,null,t))}}},{key:"componentDidUpdate",value:function(t){this.drawChildren(t,this.props,this.refs.canvas.getContext("2d"))}},{key:"drawChildren",value:function(t,e,n){var r=t.children,i=t.innerHeight,o=t.innerWidth,a=t.marginBottom,l=t.marginLeft,f=t.marginRight,h=t.marginTop;if(n){var p=r.find(function(t){return t.props.animation}),d=i+h+a,y=o+l+f,v=c(t.children,e?e.children:[]);return p?void u(n,d,y,v):void s(n,d,y,v)}}},{key:"render",value:function(){var t=this.props,e=t.innerHeight,n=t.innerWidth,r=t.marginBottom,i=t.marginLeft,o=t.marginRight,a=t.marginTop,u=t.pixelRatio,s=e+a+r,c=n+i+o;return p.default.createElement("div",{style:{left:0,top:0},className:"rv-xy-canvas"},p.default.createElement("canvas",{className:"rv-xy-canvas-element",height:s*u,width:c*u,style:{height:s+"px",width:c+"px"},ref:"canvas"}))}}],[{key:"defaultProps",get:function(){return{pixelRatio:window&&window.devicePixelRatio||1}}}]),e}(h.Component);b.displayName="CanvasWrapper",b.propTypes={marginBottom:y.default.number.isRequired,marginLeft:y.default.number.isRequired,marginRight:y.default.number.isRequired,marginTop:y.default.number.isRequired,innerHeight:y.default.number.isRequired,innerWidth:y.default.number.isRequired,pixelRatio:y.default.number.isRequired},e.default=b},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t){return t.reduce(function(t,e){return{min:Math.min(t.min,e.value),max:Math.max(t.max,e.value)}},{min:1/0,max:-(1/0)})}Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=n(1),f=r(l),h=n(2),p=r(h),d=n(344),y=n(345),v=n(46),g=n(6),_=r(g),m=n(7),b=r(m),w=n(11),E=n(10),T="rv-xy-plot__series rv-xy-plot__series--contour",S=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),c(e,[{key:"render",value:function(){var t=this.props,n=t.animation,r=t.bandwidth,i=t.className,o=t.colorRange,a=t.data,c=t.innerHeight,l=t.innerWidth,h=t.marginLeft,p=t.marginTop,g=t.style;if(!a||!l||!c)return null;if(n)return f.default.createElement(b.default,s({},this.props,{animatedProps:w.ANIMATED_SERIES_PROPS}),f.default.createElement(e,s({},this.props,{animation:null})));var _=this._getAttributeFunctor("x"),m=this._getAttributeFunctor("y"),S=(0,d.contourDensity)().x(function(t){return _(t)}).y(function(t){return m(t)}).size([l,c]).bandwidth(r)(a),O=(0,y.geoPath)(),C=u(S),k=C.min,x=C.max,P=(0,v.scaleLinear)().domain([k,x]).range(o||E.CONTINUOUS_COLOR_RANGE);return f.default.createElement("g",{className:T+" "+i,ref:"container",transform:"translate("+h+","+p+")"},S.map(function(t,e){return f.default.createElement("path",{className:"rv-xy-plot__series--contour-line",key:"rv-xy-plot__series--contour-line-"+e,d:O(t),style:s({fill:P(t.value)},g)})}))}}]),e}(_.default);S.propTypes={animation:p.default.bool,bandwidth:p.default.number,className:p.default.string,data:p.default.arrayOf(p.default.shape({x:p.default.number.isRequired,y:p.default.number.isRequired})).isRequired,marginLeft:p.default.number,marginTop:p.default.number,style:p.default.object},S.defaultProps=s({},_.default.defaultProps,{bandwidth:40,style:{}}),e.default=S},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:E;switch(t){case"diamond":return p.default.createElement("polygon",{style:n,points:"0 0 "+e/2+" "+e/2+" 0 "+e+" "+-e/2+" "+e/2+" 0 0"});case"star":var r=[].concat(u(new Array(5))).map(function(t,n){var r=n/5*Math.PI*2,i=r+Math.PI/10,o=r-Math.PI/10,a=e/2.61;return"\n        "+Math.cos(o)*e+" "+Math.sin(o)*e+"\n        "+Math.cos(i)*a+" "+Math.sin(i)*a+"\n      "}).join(" ");return p.default.createElement("polygon",{points:r,x:"0",y:"0",height:e,width:e,style:n});case"square":return p.default.createElement("rect",{x:""+-e/2,y:""+-e/2,height:e,width:e,style:n});default:case"circle":return p.default.createElement("circle",{cx:"0",cy:"0",r:e/2,style:n})}}function c(t){var e=t.customComponent,n=t.defaultType,r=t.positionInPixels,i=(t.positionFunctions,t.style),o=e.size,a=f({},i,e.style||{}),u=e.customComponent;return u||"string"!=typeof n?u?"string"==typeof u?s(u||n,o,a):u(e,r,a):n(e,r,a):s(n,o,a)}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h=n(1),p=r(h),d=n(2),y=r(d),v=n(6),g=r(v),_=n(7),m=r(_),b=n(11),w="rv-xy-plot__series rv-xy-plot__series--custom-svg-wrapper",E={stroke:"blue",fill:"blue"},T=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),l(e,[{key:"render",value:function(){var t=this.props,n=t.animation,r=t.className,i=t.customComponent,o=t.data,a=t.innerHeight,u=t.innerWidth,s=t.marginLeft,l=t.marginTop,h=t.style;if(!o||!u||!a)return null;if(n)return p.default.createElement(m.default,f({},this.props,{animatedProps:b.ANIMATED_SERIES_PROPS}),p.default.createElement(e,f({},this.props,{animation:!1})));var d=this._getAttributeFunctor("x"),y=this._getAttributeFunctor("y"),v=o.map(function(t,e){var n={x:d({x:t.x}),y:y({y:t.y})},r=c({customComponent:t,positionInPixels:n,defaultType:i,positionFunctions:{x:d,y:y},style:h});return p.default.createElement("g",{className:"rv-xy-plot__series--custom-svg",key:"rv-xy-plot__series--custom-svg-"+e,transform:"translate("+n.x+","+n.y+")"},r)});return p.default.createElement("g",{className:w+" "+r,ref:"container",transform:"translate("+s+","+l+")"},v)}}]),e}(g.default);T.propTypes={animation:y.default.bool,className:y.default.string,customComponent:y.default.oneOfType([y.default.string,y.default.func]),data:y.default.arrayOf(y.default.shape({x:y.default.number.isRequired,y:y.default.number.isRequired})).isRequired,marginLeft:y.default.number,marginTop:y.default.number,style:y.default.object},T.defaultProps=f({},g.default.defaultProps,{animation:!1,customComponent:"circle",style:{}}),e.default=T},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(1),l=r(c),f=n(7),h=r(f),p=n(11),d=n(6),y=r(d),v="rv-xy-plot__series rv-xy-plot__series--heatmap",g=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),s(e,[{key:"render",value:function(){var t=this,n=this.props,r=n.animation,i=n.className,o=n.data,a=n.marginLeft,s=n.marginTop,c=n.style;if(!o)return null;if(r)return l.default.createElement(h.default,u({},this.props,{animatedProps:p.ANIMATED_SERIES_PROPS}),l.default.createElement(e,u({},this.props,{animation:null})));var f=this._getAttributeFunctor("x"),d=this._getAttributeFunctor("y"),y=this._getAttributeFunctor("opacity"),g=this._getAttributeFunctor("fill")||this._getAttributeFunctor("color"),_=this._getAttributeFunctor("stroke")||this._getAttributeFunctor("color"),m=this._getScaleDistance("x"),b=this._getScaleDistance("y");return l.default.createElement("g",{className:v+" "+i,ref:"container",transform:"translate("+a+","+s+")"},o.map(function(e,n){var r={style:u({stroke:_&&_(e),fill:g&&g(e),opacity:y&&y(e)},c),x:f(e)-m/2,y:d(e)-b/2,width:m,height:b,key:n,onClick:function(n){return t._valueClickHandler(e,n)},onContextMenu:function(n){return t._valueRightClickHandler(e,n)},onMouseOver:function(n){return t._valueMouseOverHandler(e,n)},onMouseOut:function(n){return t._valueMouseOutHandler(e,n)}};return l.default.createElement("rect",r)}))}}],[{key:"getParentConfig",value:function(t){var e="x"===t||"y"===t;return{isDomainAdjustmentNeeded:e}}}]),e}(y.default);g.propTypes=u({},y.default.propTypes),g.displayName="HeatmapSeries",e.default=g},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(6),l=r(c),f=n(227),h=r(f),p=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),s(e,[{key:"render",value:function(){return null}}],[{key:"getParentConfig",value:function(t){var e="y"===t,n="x"===t;return{isDomainAdjustmentNeeded:e,zeroBaseValue:n}}},{key:"renderLayer",value:function(t,e){h.default.renderLayer(u({},t,{linePosAttr:"y",valuePosAttr:"x",lineSizeAttr:"height",valueSizeAttr:"width"}),e)}},{key:"requiresSVG",get:function(){return!1}},{key:"isCanvas",get:function(){return!0}}]),e}(l.default);p.displayName="HorizontalBarSeriesCanvas",p.propTypes=u({},l.default.propTypes),e.default=p},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(1),l=r(c),f=n(6),h=r(f),p=n(228),d=r(p),y=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),s(e,[{key:"render",value:function(){return l.default.createElement(d.default,u({},this.props,{linePosAttr:"y",valuePosAttr:"x",lineSizeAttr:"height",valueSizeAttr:"width"}))}}],[{key:"getParentConfig",value:function(t){var e="y"===t,n="x"===t;return{isDomainAdjustmentNeeded:e,zeroBaseValue:n}}}]),e}(h.default);y.displayName="HorizontalBarSeries",e.default=y},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(6),l=r(c),f=n(157),h=r(f),p=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),s(e,[{key:"render",value:function(){return null}}],[{key:"getParentConfig",value:function(t){var e=!1,n="x"===t;return{isDomainAdjustmentNeeded:e,zeroBaseValue:n}}},{key:"renderLayer",value:function(t,e){h.default.renderLayer(u({},t,{linePosAttr:"y",valuePosAttr:"x",lineSizeAttr:"height",valueSizeAttr:"width"}),e)}},{key:"requiresSVG",get:function(){return!1}},{key:"isCanvas",get:function(){return!0}}]),e}(l.default);p.displayName="HorizontalRectSeriesCanvas",p.propTypes=u({},l.default.propTypes),e.default=p},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(1),l=r(c),f=n(6),h=r(f),p=n(158),d=r(p),y=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),s(e,[{key:"render",value:function(){return l.default.createElement(d.default,u({},this.props,{linePosAttr:"y",valuePosAttr:"x",lineSizeAttr:"height",valueSizeAttr:"width"}))}}],[{key:"getParentConfig",value:function(t){var e=!1,n="x"===t;return{isDomainAdjustmentNeeded:e,zeroBaseValue:n}}}]),e}(h.default);y.displayName="HorizontalRectSeries",e.default=y},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(6),l=r(c),f=n(231),h=r(f),p=n(230),d=r(p),y=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),s(e,[{key:"render",value:function(){return null}}],[{key:"renderLayer",value:function(t,e){d.default.renderLayer(t,e),h.default.renderLayer(t,e)}},{key:"requiresSVG",get:function(){return!1}},{key:"isCanvas",get:function(){return!0}}]),e}(l.default);y.displayName="LineMarkSeriesCanvas",y.propTypes=u({},l.default.propTypes),e.default=y},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(6),l=r(c),f=n(227),h=r(f),p=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),s(e,[{key:"render",value:function(){return null}}],[{key:"getParentConfig",value:function(t){var e="x"===t,n="y"===t;return{isDomainAdjustmentNeeded:e,zeroBaseValue:n}}},{key:"renderLayer",value:function(t,e){h.default.renderLayer(u({},t,{linePosAttr:"x",valuePosAttr:"y",lineSizeAttr:"width",valueSizeAttr:"height"}),e)}},{key:"requiresSVG",get:function(){return!1}},{key:"isCanvas",get:function(){return!0}}]),e}(l.default);p.displayName="HorizontalBarSeriesCanvas",p.propTypes=u({},l.default.propTypes),e.default=p},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(1),l=r(c),f=n(6),h=r(f),p=n(228),d=r(p),y=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),s(e,[{key:"render",value:function(){return l.default.createElement(d.default,u({},this.props,{linePosAttr:"x",valuePosAttr:"y",lineSizeAttr:"width",valueSizeAttr:"height"}))}}],[{key:"getParentConfig",value:function(t){var e="x"===t,n="y"===t;return{isDomainAdjustmentNeeded:e,zeroBaseValue:n}}}]),e}(h.default);y.displayName="VerticalBarSeries",e.default=y},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(6),l=r(c),f=n(157),h=r(f),p=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),s(e,[{key:"render",value:function(){return null}}],[{key:"getParentConfig",value:function(t){var e=!1,n="y"===t;return{isDomainAdjustmentNeeded:e,zeroBaseValue:n}}},{key:"renderLayer",value:function(t,e){h.default.renderLayer(u({},t,{linePosAttr:"x",valuePosAttr:"y",lineSizeAttr:"width",valueSizeAttr:"height"}),e)}},{key:"requiresSVG",get:function(){return!1}},{key:"isCanvas",get:function(){return!0}}]),e}(l.default);p.displayName="HorizontalRectSeriesCanvas",p.propTypes=u({},l.default.propTypes),e.default=p},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=n(1),l=r(c),f=n(2),h=r(f),p=n(7),d=r(p),y=n(11),v=n(10),g=n(6),_=r(g),m="rv-xy-plot__series rv-xy-plot__series--whisker",b=1,w=6,E=function(t){return function(e,n){var r=t.crossBarWidth,i=t.opacityFunctor,o=t.sizeFunctor,a=t.strokeFunctor,u=t.strokeWidth,c=t.style,f=t.valueClickHandler,h=t.valueMouseOutHandler,p=t.valueMouseOverHandler,d=t.valueRightClickHandler,y=t.xFunctor,g=t.yFunctor,_=o?o(e):0,m=y(e),w=g(e),E=y({x:e.x+e.xVariance/2}),T=y({x:e.x-e.xVariance/2}),S=g({y:e.y+e.yVariance/2}),O=g({y:e.y-e.yVariance/2}),C=E&&m+_<E,k=S&&w-_>S;if(!C&&!k)return null;var x=s({opacity:i?i(e):v.DEFAULT_OPACITY,stroke:a&&a(e),strokeWidth:u||b},c),P=r/2,N={x1:m+_,y1:w,x2:E,y2:w,style:x},A={x1:m-_,y1:w,x2:T,y2:w,style:x},I={x1:E,y1:w-P,x2:E,y2:w+P,style:x},R={x1:T,y1:w-P,x2:T,y2:w+P,style:x},M={x1:m,y1:w-_,x2:m,y2:S,style:x},D={x1:m,y1:w+_,x2:m,y2:O,style:x},L={x1:m-P,y1:S,x2:m+P,y2:S,style:x},j={x1:m-P,y1:O,x2:m+P,y2:O,style:x};return l.default.createElement("g",{className:"mark-whiskers",key:n,onClick:function(t){return f(e,t)},onContextMenu:function(t){return d(e,t)},onMouseOver:function(t){return p(e,t)},onMouseOut:function(t){return h(e,t)}},C?l.default.createElement("g",{className:"x-whiskers"},l.default.createElement("line",N),l.default.createElement("line",A),l.default.createElement("line",I),l.default.createElement("line",R)):null,k?l.default.createElement("g",{className:"y-whiskers"},l.default.createElement("line",M),l.default.createElement("line",D),l.default.createElement("line",L),l.default.createElement("line",j)):null)}},T=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),u(e,[{key:"render",value:function(){var t=this.props,n=t.animation,r=t.className,i=t.crossBarWidth,o=t.data,a=t.marginLeft,u=t.marginTop,c=t.strokeWidth,f=t.style;if(!o)return null;if(n)return l.default.createElement(d.default,s({},this.props,{animatedProps:y.ANIMATED_SERIES_PROPS}),l.default.createElement(e,s({},this.props,{animation:null})));var h={crossBarWidth:i,opacityFunctor:this._getAttributeFunctor("opacity"),sizeFunctor:this._getAttributeFunctor("size"),strokeFunctor:this._getAttributeFunctor("stroke")||this._getAttributeFunctor("color"),strokeWidth:c,style:f,xFunctor:this._getAttributeFunctor("x"),yFunctor:this._getAttributeFunctor("y"),valueClickHandler:this._valueClickHandler,valueRightClickHandler:this._valueRightClickHandler,valueMouseOverHandler:this._valueMouseOverHandler,valueMouseOutHandler:this._valueMouseOutHandler};return l.default.createElement("g",{className:m+" "+r,ref:"container",transform:"translate("+a+","+u+")"},o.map(E(h)))}}]),e}(_.default);T.displayName="WhiskerSeries",
T.propTypes=s({},_.default.propTypes,{strokeWidth:h.default.number}),T.defaultProps=s({},_.default.defaultProps,{crossBarWidth:w,size:0,strokeWidth:b}),e.default=T},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){return u.default.createElement(f.default,t)}Object.defineProperty(e,"__esModule",{value:!0});var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=n(1),u=r(a),s=n(2),c=r(s),l=n(152),f=r(l),h=n(18),p=h.DIRECTION.VERTICAL,d=o({},f.default.propTypes,{direction:c.default.oneOf([p])}),y={direction:p,attr:"x"};i.displayName="VerticalGridLines",i.propTypes=d,i.defaultProps=y,i.requiresSVG=!0,e.default=i},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t){var e=t.animation,n=t.domains,r=t.startingAngle,i=t.style,o=t.tickFormat,a=t.hideInnerMostValues;return n.map(function(t,u){var s=u/n.length*Math.PI*2+r,c=t.domain,l=function(e){return a&&e===c[0]?"":t.tickFormat?t.tickFormat(e):o(e)};return p.default.createElement(x.default,{animation:e,key:u+"-axis",axisStart:{x:0,y:0},axisEnd:{x:Math.cos(s),y:Math.sin(s)},axisDomain:c,numberOfTicks:5,tickValue:l,style:i.axes})})}function s(t){var e=t.domains,n=t.startingAngle,r=t.style;return e.map(function(t,i){var o=t.name,a=i/e.length*Math.PI*2+n,u=1.2;return{x:u*Math.cos(a),y:u*Math.sin(a),label:o,style:r}})}function c(t){var e=t.animation,n=t.colorRange,r=t.domains,i=t.data,o=t.style,a=t.startingAngle,u=r.reduce(function(t,e){var n=e.domain,r=e.name;return t[r]=(0,v.scaleLinear)().domain(n).range([0,1]),t},{});return i.map(function(t,i){var s=r.map(function(e,n){var i=e.name,o=e.getValue,s=o?o(t):t[i],c=n/r.length*Math.PI*2+a,l=Math.max(u[i](s),0);return{x:l*Math.cos(c),y:l*Math.sin(c)}});return p.default.createElement(S.default,{animation:e,className:P+"-polygon",key:i+"-polygon",data:s,style:f({stroke:t.color||t.stroke||n[i%n.length],fill:t.color||t.fill||n[i%n.length]},o.polygons)})})}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h=n(1),p=r(h),d=n(2),y=r(d),v=n(46),g=n(78),_=n(7),m=n(27),b=r(m),w=n(10),E=n(34),T=n(156),S=r(T),O=n(33),C=r(O),k=n(151),x=r(k),P="rv-radar-chart",N=(0,g.format)(".2r"),A=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),l(e,[{key:"render",value:function(){var t=this.props,e=t.animation,n=t.className,r=t.children,i=t.colorRange,o=t.data,a=t.domains,l=t.height,f=t.hideInnerMostValues,h=t.margin,d=t.onMouseLeave,y=t.onMouseEnter,v=t.startingAngle,g=t.style,_=t.tickFormat,m=t.width,w=u({domains:a,animation:e,hideInnerMostValues:f,startingAngle:v,style:g,tickFormat:_}),E=c({animation:e,colorRange:i,domains:a,data:o,startingAngle:v,style:g}),T=p.default.createElement(C.default,{animation:e,key:n,className:P+"-label",data:s({domains:a,style:g.labels,startingAngle:v})});return p.default.createElement(b.default,{height:l,width:m,margin:h,dontCheckIfEmpty:!0,className:n+" "+P,onMouseLeave:d,onMouseEnter:y,xDomain:[-1,1],yDomain:[-1,1]},r,w.concat(E).concat(T))}}]),e}(h.Component);A.displayName="RadarChart",A.propTypes={animation:_.AnimationPropType,className:y.default.string,colorType:y.default.string,colorRange:y.default.arrayOf(y.default.string),data:y.default.arrayOf(y.default.object).isRequired,domains:y.default.arrayOf(y.default.shape({name:y.default.string.isRequired,domain:y.default.arrayOf(y.default.number).isRequired,tickFormat:y.default.func})).isRequired,height:y.default.number.isRequired,hideInnerMostValues:y.default.bool,margin:E.MarginPropType,startingAngle:y.default.number,style:y.default.shape({axes:y.default.object,labels:y.default.object,polygons:y.default.object}),tickFormat:y.default.func,width:y.default.number.isRequired},A.defaultProps={className:"",colorType:"category",colorRange:w.DISCRETE_COLOR_RANGE,hideInnerMostValues:!0,startingAngle:Math.PI/2,style:{axes:{line:{},ticks:{},text:{}},labels:{fontSize:10,textAnchor:"middle"},polygons:{strokeWidth:.5,strokeOpacity:1,fillOpacity:.1}},tickFormat:N},e.default=A},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t){var e=t.data,n=t.getAngle,r=(0,v.pie)().sort(null).value(n),i=r(e).reverse();return i.map(function(t,e){return f({},t.data,{angle0:t.startAngle,angle:t.endAngle,radius0:t.data.innerRadius||0,radius:t.data.radius||1,color:t.data.color||e})})}function s(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1.1,r=e.getLabel,i=e.getSubLabel;return t.reduce(function(t,e){var o=e.angle,a=e.angle0,u=e.radius,s=(o+a)/2,c=-1*s+Math.PI/2,l=[];return r(e)&&l.push({angle:c,radius:u*n,label:r(e)}),i(e)&&l.push({angle:c,radius:u*n,label:i(e),style:{fontSize:10},yOffset:12}),t.concat(l)},[])}function c(t,e){return Math.min(t,e)/2-x}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h=n(1),p=r(h),d=n(2),y=r(d),v=n(61),g=n(7),_=n(153),m=r(_),b=n(33),w=r(b),E=n(27),T=r(E),S=n(10),O=n(34),C=n(11),k="rv-radial-chart",x=15,P=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),l(e,[{key:"render",value:function(){var t=this.props,e=t.animation,n=t.className,r=t.children,i=t.colorType,o=t.data,a=t.getAngle,l=t.getLabel,h=t.getSubLabel,d=t.height,y=t.hideRootNode,v=t.innerRadius,g=t.labelsAboveChildren,_=t.labelsRadiusMultiplier,b=t.labelsStyle,E=t.margin,S=t.onMouseLeave,x=t.onMouseEnter,P=t.radius,N=t.showLabels,A=t.style,I=t.width,R=u({data:o,height:d,hideRootNode:y,width:I,getAngle:a}),M=(0,C.getRadialDomain)(R),D=f({colorType:i},this.props,{animation:e,radiusDomain:[0,M],data:R,radiusNoFallBack:!0,style:A,arcClassName:"rv-radial-chart__series--pie__slice"});P&&(D.radiusDomain=[0,1],D.radiusRange=[v||0,P],D.radiusType="linear");var L=P?P:c(I,d),j=(0,O.getRadialLayoutMargin)(I,d,L),F=s(R,{getLabel:l,getSubLabel:h},_);return p.default.createElement(T.default,{height:d,width:I,margin:f({},E,j),className:n+" "+k,onMouseLeave:S,onMouseEnter:x,xDomain:[-M,M],yDomain:[-M,M]},p.default.createElement(m.default,f({},D,{getAngle:function(t){return t.angle}})),N&&!g&&p.default.createElement(w.default,{data:F,style:b}),r,N&&g&&p.default.createElement(w.default,{data:F,style:b}))}}]),e}(h.Component);P.displayName="RadialChart",P.propTypes={animation:g.AnimationPropType,className:y.default.string,colorType:y.default.string,data:y.default.arrayOf(y.default.shape({angle:y.default.number,className:y.default.string,label:y.default.string,radius:y.default.number,style:y.default.object})).isRequired,getAngle:y.default.func,getAngle0:y.default.func,getRadius:y.default.func,getRadius0:y.default.func,getLabel:y.default.func,height:y.default.number.isRequired,labelsAboveChildren:y.default.bool,labelsStyle:y.default.object,margin:O.MarginPropType,onValueClick:y.default.func,onValueMouseOver:y.default.func,onValueMouseOut:y.default.func,showLabels:y.default.bool,style:y.default.object,subLabel:y.default.func,width:y.default.number.isRequired},P.defaultProps={className:"",colorType:"category",colorRange:S.DISCRETE_COLOR_RANGE,getAngle:function(t){return t.angle},getAngle0:function(t){return t.angle0},getRadius:function(t){return t.radius},getRadius0:function(t){return t.radius0},getLabel:function(t){return t.label},getSubLabel:function(t){return t.subLabel}},e.default=P},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=n(1),f=r(l),h=n(2),p=r(h),d=n(347),y=n(27),v=r(y),g=n(34),_=n(232),m=r(_),b=n(33),w=r(b),E=n(233),T=r(E),S=n(10),O=n(533),C=r(O),k=function(t){return t},x={justify:d.sankeyJustify,center:d.sankeyCenter,left:d.sankeyLeft,right:d.sankeyRight},P={top:20,left:20,right:20,bottom:20},N=function(t){function e(){return o(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return u(e,t),c(e,[{key:"render",value:function(){var t=this.props,e=t.align,n=t.animation,r=t.children,o=t.className,a=t.hasVoronoi,u=t.height,c=t.hideLabels,l=t.layout,h=t.links,p=t.linkOpacity,y=t.margin,_=t.nodePadding,b=t.nodes,E=t.nodeWidth,O=t.onValueClick,k=t.onValueMouseOver,N=t.onValueMouseOut,A=t.onLinkClick,I=t.onLinkMouseOver,R=t.onLinkMouseOut,M=t.style,D=t.width,L=[].concat(i(new Array(b.length))).map(function(t,e){return s({},b[e])}),j=[].concat(i(new Array(h.length))).map(function(t,e){return s({},h[e])}),F=(0,g.getInnerDimensions)({margin:y,height:u,width:D},P),U=F.marginLeft,V=F.marginTop,B=F.marginRight,W=F.marginBottom,q=(0,d.sankey)().extent([[U,V],[D-B,u-W-V]]).nodeWidth(E).nodePadding(_).nodes(L).links(j).nodeAlign(x[e]).iterations(l);q(L);var H=q.nodeWidth(),z=(0,d.sankeyLinkHorizontal)();return f.default.createElement(v.default,s({},this.props,{yType:"literal",className:"rv-sankey "+o}),j.map(function(t,e){return f.default.createElement(C.default,{style:M.links,data:z(t),opacity:t.opacity||p,color:t.color,onLinkClick:A,onLinkMouseOver:I,onLinkMouseOut:R,strokeWidth:Math.max(t.width,1),node:t,nWidth:H,key:"link-"+e})}),f.default.createElement(m.default,{animation:n,className:o+" rv-sankey__node",data:L.map(function(t){return s({},t,{y:t.y1-V,y0:t.y0-V,x:t.x1,x0:t.x0,color:t.color||S.DISCRETE_COLOR_RANGE[0],sourceLinks:null,targetLinks:null})}),style:M.rects,onValueClick:O,onValueMouseOver:k,onValueMouseOut:N,colorType:"literal"}),!c&&f.default.createElement(w.default,{animation:n,className:o,data:L.map(function(t){return{x:t.x0+(t.x0<D/2?H+10:-10),y:t.y0+(t.y1-t.y0)/2-V,label:t.name,style:M.labels}})}),a&&f.default.createElement(T.default,{className:"rv-sankey__voronoi",extent:[[-U,-V],[D+B,u+W]],nodes:L,onClick:O,onHover:k,onBlur:N,x:function(t){return t.x0+(t.x1-t.x0)/2},y:function(t){return t.y0+(t.y1-t.y0)/2}}),r)}}]),e}(l.Component);N.defaultProps={align:"justify",className:"",hasVoronoi:!1,hideLabels:!1,layout:50,margin:P,nodePadding:10,nodeWidth:10,onValueMouseOver:k,onValueClick:k,onValueMouseOut:k,onLinkClick:k,onLinkMouseOver:k,onLinkMouseOut:k,style:{links:{},rects:{},labels:{}}},N.propTypes={align:p.default.oneOf(["justify","left","right","center"]),className:p.default.string,hasVoronoi:p.default.bool,height:p.default.number.isRequired,hideLabels:p.default.bool,layout:p.default.number,links:p.default.arrayOf(p.default.shape({source:p.default.oneOfType([p.default.number,p.default.object]).isRequired,target:p.default.oneOfType([p.default.number,p.default.object]).isRequired})).isRequired,margin:g.MarginPropType,nodePadding:p.default.number,nodes:p.default.arrayOf(p.default.object).isRequired,nodeWidth:p.default.number,onValueMouseOver:p.default.func,onValueClick:p.default.func,onValueMouseOut:p.default.func,onLinkClick:p.default.func,onLinkMouseOver:p.default.func,onLinkMouseOut:p.default.func,style:p.default.shape({links:p.default.object,rects:p.default.object,labels:p.default.object}),width:p.default.number.isRequired},e.default=N},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(1),l=r(c),f=n(10),h=n(7),p=r(h),d=n(11),y=f.DISCRETE_COLOR_RANGE[1],v=.7,g=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),s(e,[{key:"render",value:function(){var t=this.props,n=t.animation,r=t.data,i=t.node,o=t.opacity,a=t.color,s=t.strokeWidth,c=t.style,f=t.onLinkClick,h=t.onLinkMouseOver,g=t.onLinkMouseOut;return n?l.default.createElement(p.default,u({},this.props,{animatedProps:d.ANIMATED_SERIES_PROPS}),l.default.createElement(e,u({},this.props,{animation:null}))):l.default.createElement("path",u({d:r},c,{className:"rv-sankey__link",opacity:Number.isFinite(o)?o:v,stroke:a||y,onClick:function(t){return f(i,t)},onMouseOver:function(t){return h(i,t)},onMouseOut:function(t){return g(i,t)},strokeWidth:s,fill:"none"}))}}]),e}(c.PureComponent);g.displayName="SankeyLink",g.requiresSVG=!0,e.default=g},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t){var e=t.data,n=t.height,r=t.hideRootNode,i=t.width,o=t.getSize,a=(0,y.partition)(),u=(0,y.hierarchy)(e).sum(o),s=Math.min(i,n)/2-10,c=(0,v.scaleLinear)().range([0,2*Math.PI]),f=(0,v.scaleSqrt)().range([0,s]);return a(u).descendants().reduce(function(t,e,n){return r&&0===n?t:t.concat([l({angle0:Math.max(0,Math.min(2*Math.PI,c(e.x0))),angle:Math.max(0,Math.min(2*Math.PI,c(e.x1))),radius0:Math.max(0,f(e.y0)),radius:Math.max(0,f(e.y1)),depth:e.depth,parent:e.parent},e.data)])},[])}function s(t,e){var n=e.getAngle,r=e.getAngle0,i=e.getLabel,o=e.getRadius0;return t.filter(i).map(function(t){var e=-1*n(t)+Math.PI/2,i=-1*r(t)+Math.PI/2,a=(i+e)/2,u=!t.dontRotateLabel,s=-a/(2*Math.PI)*360;return l({},t,{children:null,angle:null,radius:null,x:o(t)*Math.cos(a),y:o(t)*Math.sin(a),style:l({textAnchor:s>90?"end":"start"},t.labelStyle),rotation:u?s>90?s+180:90===s?90:s:null})})}Object.defineProperty(e,"__esModule",{value:!0});var c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f=n(1),h=r(f),p=n(2),d=r(p),y=n(186),v=n(46),g=n(7),_=n(33),m=r(_),b=n(153),w=r(b),E=n(27),T=r(E),S=n(11),O=n(34),C="rv-sunburst",k=["onValueMouseOver","onValueMouseOut","onValueClick","onValueRightClick","onSeriesMouseOver","onSeriesMouseOut","onSeriesClick","onSeriesRightClick"],x=function(){},P=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),c(e,[{key:"render",value:function(){var t=this,e=this.props,n=e.getAngle,r=e.getAngle0,i=e.animation,o=e.className,a=e.children,c=e.data,f=e.height,p=e.hideRootNode,d=e.getLabel,y=e.width,v=e.getSize,g=e.colorType,_=u({data:c,height:f,hideRootNode:p,width:y,getSize:v}),b=(0,S.getRadialDomain)(_),E=(0,O.getRadialLayoutMargin)(y,f,b),P=s(_,{getAngle:n,getAngle0:r,getLabel:d,getRadius0:function(t){return t.radius0}}),N=function(t){return function(e,n){return t?t(_[e.index],n):x}};return h.default.createElement(T.default,{height:f,hasTreeStructure:!0,width:y,className:C+" "+o,margin:E,xDomain:[-b,b],yDomain:[-b,b]},h.default.createElement(w.default,l({colorType:g},this.props,{animation:i,radiusDomain:[0,b],data:i?_.map(function(t,e){return l({},t,{parent:null,children:null,index:e})}):_,_data:i?_:null,arcClassName:C+"__series--radial__arc"},k.reduce(function(e,n){var r=t.props[n];return e[n]=i?N(r):r,e},{}))),P.length>0&&h.default.createElement(m.default,{data:P,getLabel:d}),a)}}]),e}(h.default.Component);P.displayName="Sunburst",P.propTypes={animation:g.AnimationPropType,getAngle:d.default.func,getAngle0:d.default.func,className:d.default.string,colorType:d.default.string,data:d.default.object.isRequired,height:d.default.number.isRequired,hideRootNode:d.default.bool,getLabel:d.default.func,onValueClick:d.default.func,onValueMouseOver:d.default.func,onValueMouseOut:d.default.func,getSize:d.default.func,width:d.default.number.isRequired},P.defaultProps={getAngle:function(t){return t.angle},getAngle0:function(t){return t.angle0},className:"",colorType:"literal",getColor:function(t){return t.color},hideRootNode:!1,getLabel:function(t){return t.label},getSize:function(t){return t.size}},e.default=P},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t){var e=t.data,n=e.children||[],r=c({},t,(0,g.getMissingScaleProps)(t,n,C),{_allData:n});return{opacity:(0,g.getAttributeFunctor)(r,"opacity"),color:(0,g.getAttributeFunctor)(r,"color")}}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l=n(1),f=r(l),h=n(2),p=r(h),d=n(186),y=n(10),v=n(7),g=n(12),_=n(34),m=n(536),b=r(m),w=n(538),E=r(w),T={squarify:d.treemapSquarify,resquarify:d.treemapResquarify,slice:d.treemapSlice,dice:d.treemapDice,slicedice:d.treemapSliceDice,binary:d.treemapBinary},S=["circlePack","partition","partition-pivot"],O=function(t){return t},C=["opacity","color"],k={left:40,right:10,top:10,bottom:40},x=function(t){function e(t){i(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state=c({scales:u(t)},(0,_.getInnerDimensions)(t,t.margin)),n}return a(e,t),s(e,[{key:"componentWillReceiveProps",value:function(t){this.setState(c({scales:u(t)},(0,_.getInnerDimensions)(t,t.margin)))}},{key:"_getNodesToRender",value:function(){var t=this.state,e=t.innerWidth,n=t.innerHeight,r=this.props,i=r.data,o=r.mode,a=r.padding,u=r.sortFunction,s=r.getSize;if(!i)return[];if("partition"===o||"partition-pivot"===o){var l=(0,d.partition)().size("partition-pivot"===o?[n,e]:[e,n]).padding(a),f=(0,d.hierarchy)(i).sum(s).sort(function(t,e){return u(t,e,s)}),h=l(f).descendants();return"partition-pivot"===o?h.map(function(t){return c({},t,{x0:t.y0,x1:t.y1,y0:t.x0,y1:t.x1})}):h}if("circlePack"===o){var p=(0,d.pack)().size([e,n]).padding(a),y=(0,d.hierarchy)(i).sum(s).sort(function(t,e){return u(t,e,s)});return p(y).descendants()}var v=T[o],g=(0,d.treemap)(v).tile(v).size([e,n]).padding(a),_=(0,d.hierarchy)(i).sum(s).sort(function(t,e){return u(t,e,s)});return g(_).descendants()}},{key:"render",value:function(){var t=this.props.renderMode,e=this.state.scales,n=this._getNodesToRender(),r="SVG"===t?E.default:b.default;return f.default.createElement(r,c({},this.props,{nodes:n,scales:e}))}}]),e}(f.default.Component);x.displayName="Treemap",x.propTypes={animation:v.AnimationPropType,className:p.default.string,data:p.default.object.isRequired,height:p.default.number.isRequired,hideRootNode:p.default.bool,margin:_.MarginPropType,mode:p.default.oneOf(Object.keys(T).concat(S)),onLeafClick:p.default.func,onLeafMouseOver:p.default.func,onLeafMouseOut:p.default.func,useCirclePacking:p.default.bool,padding:p.default.number.isRequired,sortFunction:p.default.func,width:p.default.number.isRequired,getSize:p.default.func,getColor:p.default.func},x.defaultProps={className:"",colorRange:y.CONTINUOUS_COLOR_RANGE,_colorValue:y.DEFAULT_COLOR,data:{children:[]},hideRootNode:!1,margin:k,mode:"squarify",onLeafClick:O,onLeafMouseOver:O,onLeafMouseOut:O,opacityType:y.OPACITY_TYPE,_opacityValue:y.DEFAULT_OPACITY,padding:1,sortFunction:function(t,e,n){return n?n(t)-n(e):0},getSize:function(t){return t.size},getColor:function(t){return t.color},getLabel:function(t){return t.title}},e.default=x},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(1),l=r(c),f=n(537),h=r(f),p=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),s(e,[{key:"render",value:function(){var t=this,e=this.props,n=e.animation,r=e.className,i=e.height,o=e.hideRootNode,a=e.getLabel,s=e.mode,c=e.nodes,f=e.width,p=e.scales,d=e.style,y="circlePack"===s;return l.default.createElement("div",{className:"rv-treemap "+(y?"rv-treemap-circle-packed":"")+" "+r,style:{height:i,width:f}},c.map(function(e,r){if(o&&!r)return null;var i=u({animation:n,node:e,getLabel:a},t.props,{x0:y?e.x:e.x0,x1:y?e.x:e.x1,y0:y?e.y:e.y0,y1:y?e.y:e.y1,r:y?e.r:1,scales:p,style:d});return l.default.createElement(h.default,u({},i,{key:"leaf-"+r}))}))}}]),e}(l.default.Component);p.displayName="TreemapDOM",e.default=p},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(1),l=r(c),f=n(2),h=r(f),p=n(7),d=r(p),y=n(12),v=["colorRange","colorDomain","color","opacityRange","opacityDomain","opacity","x0","x1","y0","y1","r"],g=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),s(e,[{key:"render",value:function(){var t=this.props,n=t.animation,r=t.getLabel,i=t.mode,o=t.node,a=t.onLeafClick,s=t.onLeafMouseOver,c=t.onLeafMouseOut,f=t.r,h=t.scales,p=t.x0,g=t.x1,_=t.y0,m=t.y1,b=t.style;if(n)return l.default.createElement(d.default,u({},this.props,{animatedProps:v}),l.default.createElement(e,u({},this.props,{animation:null})));var w="circlePack"===i,E=h.color(o),T=h.opacity(o),S=(0,y.getFontColorFromBackground)(E),O=o.data,C=r(O),k=u({top:w?_-f:_,left:w?p-f:p,width:w?2*f:g-p,height:w?2*f:m-_,background:E,opacity:T,color:S},b,o.data.style);return l.default.createElement("div",{className:"rv-treemap__leaf "+(w?"rv-treemap__leaf--circle":""),onMouseEnter:function(t){return s(o,t)},onMouseLeave:function(t){return c(o,t)},onClick:function(t){return a(o,t)},style:k},l.default.createElement("div",{className:"rv-treemap__leaf__content"},C))}}]),e}(l.default.Component);g.propTypes={animation:p.AnimationPropType,height:h.default.number.isRequired,mode:h.default.string,node:h.default.object.isRequired,onLeafClick:h.default.func,onLeafMouseOver:h.default.func,onLeafMouseOut:h.default.func,scales:h.default.object.isRequired,width:h.default.number.isRequired,r:h.default.number.isRequired,x0:h.default.number.isRequired,x1:h.default.number.isRequired,y0:h.default.number.isRequired,y1:h.default.number.isRequired},e.default=g},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(1),l=r(c),f=n(27),h=r(f),p=n(156),d=r(p),y=n(155),v=r(y),g=n(33),_=r(g),m=1.2,b=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),s(e,[{key:"getCircularNodes",value:function(){var t=this.props,e=t.animation,n=t.hideRootNode,r=t.nodes,i=t.onLeafMouseOver,o=t.onLeafMouseOut,a=t.onLeafClick,u=t.scales,s=t.style,c=r.reduce(function(t,e,r){if(!r&&n)return t;var i=e.x,o=e.y,a=e.r;return{maxY:Math.max(o+a,t.maxY),minY:Math.min(o-a,t.minY),maxX:Math.max(i+m*a,t.maxX),minX:Math.min(i-m*a,t.minX),rows:t.rows.concat([{x:i,y:o,size:a,color:u.color(e)}])}},{rows:[],maxY:-(1/0),minY:1/0,maxX:-(1/0),minX:1/0}),f=c.rows,h=c.minY,p=c.maxY,d=c.minX,y=c.maxX;return{updatedNodes:l.default.createElement(v.default,{animation:e,className:"rv-treemap__leaf rv-treemap__leaf--circle",onSeriesMouseEnter:i,onSeriesMouseLeave:o,onSeriesClick:a,data:f,colorType:"literal",getColor:function(t){return t.color},sizeType:"literal",getSize:function(t){return t.size},style:s}),minY:h,maxY:p,minX:d,maxX:y}}},{key:"getNonCircularNodes",value:function(){var t=this.props,e=t.animation,n=t.hideRootNode,r=t.nodes,i=t.onLeafMouseOver,o=t.onLeafMouseOut,a=t.onLeafClick,s=t.scales,c=t.style,f=s.color;return r.reduce(function(t,r,s){if(!s&&n)return t;var h=r.x0,p=r.x1,y=r.y1,v=r.y0,g=h,_=v,m=y-v,b=p-h;t.maxY=Math.max(_+m,t.maxY),t.minY=Math.min(_,t.minY),t.maxX=Math.max(g+b,t.maxX),t.minX=Math.min(g,t.minX);var w=[{x:g,y:_},{x:g,y:_+m},{x:g+b,y:_+m},{x:g+b,y:_}];return t.updatedNodes=t.updatedNodes.concat([l.default.createElement(d.default,{animation:e,className:"rv-treemap__leaf",key:s,color:f(r),type:"literal",onSeriesMouseEnter:i,onSeriesMouseLeave:o,onSeriesClick:a,data:w,style:u({},c,r.style)})]),t},{updatedNodes:[],maxY:-(1/0),minY:1/0,maxX:-(1/0),minX:1/0})}},{key:"render",value:function(){var t=this.props,e=t.className,n=t.height,r=t.mode,i=t.nodes,o=t.width,a="circlePack"===r,s=a?this.getCircularNodes():this.getNonCircularNodes(),c=s.minY,f=s.maxY,p=s.minX,d=s.maxX,y=s.updatedNodes,v=i.reduce(function(t,e){
return e.data.title?t.concat(u({},e.data,{x:e.x0||e.x,y:e.y0||e.y,label:""+e.data.title})):t},[]);return l.default.createElement(h.default,u({className:"rv-treemap "+(a?"rv-treemap-circle-packed":"")+" "+e,width:o,height:n,yDomain:[f,c],xDomain:[p,d],colorType:"literal",hasTreeStructure:!0},this.props),y,l.default.createElement(_.default,{data:v}))}}]),e}(l.default.Component);b.displayName="TreemapSVG",e.default=b},function(t,e){"use strict";function n(t,e){var n=new Set(t.map(e));return Array.from(n)}function r(t,e){var n=[].concat(t);return n[0]>e&&(n[0]=e),n[n.length-1]<e&&(n[n.length-1]=e),n}Object.defineProperty(e,"__esModule",{value:!0}),e.getUniquePropertyValues=n,e.addValueToArray=r},,,,,,,,,,,,,,,,function(t,e,n){(function(t,e){!function(t,n){"use strict";function r(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var r={callback:t,args:e};return y[d]=r,p(d),d++}function i(t){delete y[t]}function o(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(n,r)}}function a(t){if(v)setTimeout(a,0,t);else{var e=y[t];if(e){v=!0;try{o(e)}finally{i(t),v=!1}}}}function u(){p=function(t){e.nextTick(function(){a(t)})}}function s(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}function c(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(e)&&a(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),p=function(n){t.postMessage(e+n,"*")}}function l(){var t=new MessageChannel;t.port1.onmessage=function(t){var e=t.data;a(e)},p=function(e){t.port2.postMessage(e)}}function f(){var t=g.documentElement;p=function(e){var n=g.createElement("script");n.onreadystatechange=function(){a(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}function h(){p=function(t){setTimeout(a,0,t)}}if(!t.setImmediate){var p,d=1,y={},v=!1,g=t.document,_=Object.getPrototypeOf&&Object.getPrototypeOf(t);_=_&&_.setTimeout?_:t,"[object process]"==={}.toString.call(t.process)?u():s()?c():t.MessageChannel?l():g&&"onreadystatechange"in g.createElement("script")?f():h(),_.setImmediate=r,_.clearImmediate=i}}("undefined"==typeof self?"undefined"==typeof t?this:t:self)}).call(e,function(){return this}(),n(31))},,,function(t,e,n){(function(t){function r(t,e){this._id=t,this._clearFn=e}var i=Function.prototype.apply;e.setTimeout=function(){return new r(i.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new r(i.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(555),e.setImmediate="undefined"!=typeof self&&self.setImmediate||"undefined"!=typeof t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||"undefined"!=typeof t&&t.clearImmediate||this&&this.clearImmediate}).call(e,function(){return this}())}]);
//# sourceMappingURL=component---src-pages-index-js-a19615da0cd654fcba8b.js.map